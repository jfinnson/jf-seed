/*! jf-seed - v0.0.1 - 2015-07-16
 * Copyright (c) 2015 ; */(function(e,t){"use strict";function n(){function e(e,n){return t.extend(Object.create(e),n)}function n(e,t){var n=t.caseInsensitiveMatch,i={originalPath:e,regexp:e},r=i.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,i){var o="?"===i?i:null,a="*"===i?i:null;return r.push({name:n,optional:!!o}),t=t||"",""+(o?"":t)+"(?:"+(o?t:"")+(a&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),i.regexp=RegExp("^"+e+"$",n?"i":""),i}var i={};this.when=function(e,r){var o=t.copy(r);if(t.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),t.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),i[e]=t.extend(o,e&&n(e,o)),e){var a="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";i[a]=t.extend({redirectTo:e},n(a,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,r,o,a,s,u,c){function d(e,t){var n=t.keys,i={};if(!t.regexp)return null;var r=t.regexp.exec(e);if(!r)return null;for(var o=1,a=r.length;a>o;++o){var l=n[o-1],s=r[o];l&&s&&(i[l.name]=s)}return i}function p(e){var i=b.current;m=f(),v=m&&i&&m.$$route===i.$$route&&t.equals(m.pathParams,i.pathParams)&&!m.reloadOnSearch&&!w,v||!i&&!m||n.$broadcast("$routeChangeStart",m,i).defaultPrevented&&e&&e.preventDefault()}function g(){var e=b.current,i=m;v?(e.params=i.params,t.copy(e.params,o),n.$broadcast("$routeUpdate",e)):(i||e)&&(w=!1,b.current=i,i&&i.redirectTo&&(t.isString(i.redirectTo)?r.path(h(i.redirectTo,i.params)).search(i.params).replace():r.url(i.redirectTo(i.pathParams,r.path(),r.search())).replace()),a.when(i).then(function(){if(i){var e,n,r=t.extend({},i.resolve);return t.forEach(r,function(e,n){r[n]=t.isString(e)?s.get(e):s.invoke(e,null,null,n)}),t.isDefined(e=i.template)?t.isFunction(e)&&(e=e(i.params)):t.isDefined(n=i.templateUrl)&&(t.isFunction(n)&&(n=n(i.params)),t.isDefined(n)&&(i.loadedTemplateUrl=c.valueOf(n),e=u(n))),t.isDefined(e)&&(r.$template=e),a.all(r)}}).then(function(r){i==b.current&&(i&&(i.locals=r,t.copy(i.params,o)),n.$broadcast("$routeChangeSuccess",i,e))},function(t){i==b.current&&n.$broadcast("$routeChangeError",i,e,t)}))}function f(){var n,o;return t.forEach(i,function(i){!o&&(n=d(r.path(),i))&&(o=e(i,{params:t.extend({},r.search(),n),pathParams:n}),o.$$route=i)}),o||i[null]&&e(i[null],{params:{},pathParams:{}})}function h(e,n){var i=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)i.push(e);else{var r=e.match(/(\w+)(?:[?*])?(.*)/),o=r[1];i.push(n[o]),i.push(r[2]||""),delete n[o]}}),i.join("")}var m,v,w=!1,b={routes:i,reload:function(){w=!0,n.$evalAsync(function(){p(),g()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw l("norout","Tried updating route when with no current route");e=t.extend({},this.current.params,e),r.path(h(this.current.$$route.originalPath,e)),r.search(e)}};return n.$on("$locationChangeStart",p),n.$on("$locationChangeSuccess",g),b}]}function i(){this.$get=function(){return{}}}function r(e,n,i){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(r,o,a,l,s){function u(){g&&(i.cancel(g),g=null),d&&(d.$destroy(),d=null),p&&(g=i.leave(p),g.then(function(){g=null}),p=null)}function c(){var a=e.current&&e.current.locals,l=a&&a.$template;if(t.isDefined(l)){var c=r.$new(),g=e.current,m=s(c,function(e){i.enter(e,null,p||o).then(function(){!t.isDefined(f)||f&&!r.$eval(f)||n()}),u()});p=m,d=g.scope=c,d.$emit("$viewContentLoaded"),d.$eval(h)}else u()}var d,p,g,f=a.autoscroll,h=a.onload||"";r.$on("$routeChangeSuccess",c),c()}}}function o(e,t,n){return{restrict:"ECA",priority:-400,link:function(i,r){var o=n.current,a=o.locals;r.html(a.$template);var l=e(r.contents());if(o.controller){a.$scope=i;var s=t(o.controller,a);o.controllerAs&&(i[o.controllerAs]=s),r.data("$ngControllerController",s),r.children().data("$ngControllerController",s)}l(i)}}}var a=t.module("ngRoute",["ng"]).provider("$route",n),l=t.$$minErr("ngRoute");a.provider("$routeParams",i),a.directive("ngView",r),a.directive("ngView",o),r.$inject=["$route","$anchorScroll","$animate"],o.$inject=["$compile","$controller","$route"]})(window,window.angular),function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["ƒ","$","£","$","¤","¥","៛","₩","₱","฿","₫"],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(e,t,n,i){var r={priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(t,r,o,a){function l(){var e=t.col.compiledElementFn;e(t,function(e){r.append(e)})}if(a&&t.col.compiledElementFn)l();else if(a&&!t.col.compiledElementFn)t.col.getCompiledElementFn().then(function(e){e(t,function(e){r.append(e)})});else{var s=t.col.cellTemplate.replace(i.MODEL_COL_FIELD,"row.entity."+n.preEval(t.col.field)).replace(i.COL_FIELD,"grid.getCellValue(row, col)"),u=e(s)(t);r.append(u)}},post:function(e,t){var n=e.col.getColClass(!1);t.addClass(n);var r,o=function(){var n=t;r&&(n.removeClass(r),r=null),r=angular.isFunction(e.col.cellClass)?e.col.cellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.cellClass,n.addClass(r)};e.col.cellClass&&o();var a=e.grid.registerDataChangeCallback(o,[i.dataChange.COLUMN,i.dataChange.EDIT]),l=function(i,a){if(i!==a){(r||e.col.cellClass)&&o();var l=e.col.getColClass(!1);l!==n&&(t.removeClass(n),t.addClass(l),n=l)}},s=e.$watch("col",l),u=e.$watch("row",l),c=function(){a(),s(),u()};e.$on("$destroy",c),t.on("$destroy",c)}}}};return r}]),function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(e,t,n){var i={initialize:function(e,t){e.grid=t.grid,t.columnMenuScope=e,e.menuShown=!1},setColMenuItemWatch:function(e){var t=e.$watch("col.menuItems",function(t){t!==void 0&&t&&angular.isArray(t)?(t.forEach(function(t){void 0!==t.context&&t.context||(t.context={}),t.context.col=e.col}),e.menuItems=e.defaultMenuItems.concat(t)):e.menuItems=e.defaultMenuItems});e.$on("$destroy",t)},sortable:function(e){return e.grid.options.enableSorting&&e.col!==void 0&&e.col&&e.col.enableSorting?!0:!1},isActiveSort:function(e,t){return e.col!==void 0&&e.col.sort!==void 0&&e.col.sort.direction!==void 0&&e.col.sort.direction===t},suppressRemoveSort:function(e){return e.col&&e.col.colDef&&e.col.colDef.suppressRemoveSort?!0:!1},hideable:function(e){return e.col!==void 0&&e.col&&e.col.colDef&&e.col.colDef.enableHiding===!1?!1:!0},getDefaultMenuItems:function(n){return[{title:e.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation(),n.sortColumn(e,t.ASC)},shown:function(){return i.sortable(n)},active:function(){return i.isActiveSort(n,t.ASC)}},{title:e.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation(),n.sortColumn(e,t.DESC)},shown:function(){return i.sortable(n)},active:function(){return i.isActiveSort(n,t.DESC)}},{title:e.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),n.unsortColumn()},shown:function(){return i.sortable(n)&&n.col!==void 0&&n.col.sort!==void 0&&n.col.sort.direction!==void 0&&null!==n.col.sort.direction&&!i.suppressRemoveSort(n)}},{title:e.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",shown:function(){return i.hideable(n)},action:function(e){e.stopPropagation(),n.hideColumn()}}]},getColumnElementPosition:function(e,t,i){var r={};return r.left=i[0].offsetLeft,r.top=i[0].offsetTop,r.offset=0,t.grid.options.offsetLeft&&(r.offset=t.grid.options.offsetLeft),r.height=n.elementHeight(i,!0),r.width=n.elementWidth(i,!0),r},repositionMenu:function(e,t,i,r,o){var a=r[0].querySelectorAll(".ui-grid-menu"),l=t.renderContainer?t.renderContainer:"body";t.grid.renderContainers[l];var s=n.closestElm(o,".ui-grid-render-container"),u=s.getBoundingClientRect().left-e.grid.element[0].getBoundingClientRect().left,c=s.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,d=t.lastMenuWidth?t.lastMenuWidth:e.lastMenuWidth?e.lastMenuWidth:170,p=t.lastMenuPaddingRight?t.lastMenuPaddingRight:e.lastMenuPaddingRight?e.lastMenuPaddingRight:10;if(0!==a.length){var g=a[0].querySelectorAll(".ui-grid-menu-mid");0===g.length||angular.element(g).hasClass("ng-hide")||(d=n.elementWidth(a,!0),e.lastMenuWidth=d,t.lastMenuWidth=d,p=parseInt(n.getStyles(angular.element(a)[0]).paddingRight,10),e.lastMenuPaddingRight=p,t.lastMenuPaddingRight=p)}var f=i.left+u-c+i.width-d+p;i.offset>f&&(f=i.offset),r.css("left",f+"px"),r.css("top",i.top+i.height+"px")}};return i}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService",function(e,t,n,i){var r={priority:0,scope:!0,require:"?^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(t,r,o,a){var l=this;i.initialize(t,a),t.defaultMenuItems=i.getDefaultMenuItems(t),t.menuItems=t.defaultMenuItems,i.setColMenuItemWatch(t),t.showMenu=function(e,n,o){t.col=e;var a=i.getColumnElementPosition(t,e,n);t.menuShown?(t.colElement=n,t.colElementPosition=a,t.hideThenShow=!0,t.$broadcast("hide-menu",{originalEvent:o})):(l.shown=t.menuShown=!0,i.repositionMenu(t,e,a,r,n),t.colElement=n,t.colElementPosition=a,t.$broadcast("show-menu",{originalEvent:o}))},t.hideMenu=function(e){t.menuShown=!1,e||t.$broadcast("hide-menu")},t.$on("menu-hidden",function(){t.hideThenShow?(delete t.hideThenShow,i.repositionMenu(t,t.col,t.colElementPosition,r,t.colElement),t.$broadcast("show-menu"),t.menuShown=!0):t.hideMenu(!0)}),t.$on("menu-shown",function(){e(function(){i.repositionMenu(t,t.col,t.colElementPosition,r,t.colElement),delete t.colElementPosition,delete t.columnElement},200)}),t.sortColumn=function(e,n){e.stopPropagation(),t.grid.sortColumn(t.col,n,!0).then(function(){t.grid.refresh(),t.hideMenu()})},t.unsortColumn=function(){t.col.unsort(),t.grid.refresh(),t.hideMenu()},t.hideColumn=function(){t.col.colDef.visible=!1,t.grid.refresh(),t.hideMenu(),t.grid.api.core.notifyDataChange(n.dataChange.COLUMN),t.grid.api.core.raise.columnVisibilityChanged(t.col)}},controller:["$scope",function(e){var t=this;e.$watch("menuItems",function(e){t.menuItems=e})}]};return r}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(e,t,n,i){var r={priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(){return{pre:function(e,t){var n=i(e.col.footerCellTemplate)(e);t.append(n)},post:function(e,t,i,r){e.grid=r.grid,t.addClass(e.col.getColClass(!1));var o,a=function(){var n=t;o&&(n.removeClass(o),o=null),o=angular.isFunction(e.col.footerCellClass)?e.col.footerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.footerCellClass,n.addClass(o)};e.col.footerCellClass&&a();var l=e.grid.registerDataChangeCallback(a,[n.dataChange.COLUMN]);e.$on("$destroy",l)}}}};return r}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,i){var r="ui-grid/ui-grid-footer";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,n,o,a){var l=a[0],s=a[1];e.grid=l.grid,e.colContainer=s.colContainer,s.footer=n;var u=e.grid.options.footerTemplate?e.grid.options.footerTemplate:r;i.getTemplate(u).then(function(i){var r=angular.element(i),o=t(r)(e);if(n.append(o),s){var a=n[0].getElementsByClassName("ui-grid-footer-viewport")[0];a&&(s.footerViewport=a)}})},post:function(e,t,n,r){var o=r[0],a=r[1];o.grid,i.disableAnimations(t),a.footer=t;var l=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];l&&(a.footerViewport=l)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,i){var r="ui-grid/ui-grid-grid-footer";return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(e,n,o,a){e.grid=a.grid;var l=e.grid.options.gridFooterTemplate?e.grid.options.gridFooterTemplate:r;i.getTemplate(l).then(function(i){var r=angular.element(i),o=t(r)(e);n.append(o)})},post:function(){}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(e,t,n){var i="ui-grid/ui-grid-group-panel";return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function(){return{pre:function(t,r){var o=t.grid.options.groupPanelTemplate||i;n.getTemplate(o).then(function(n){var i=angular.element(n),o=e(i)(t);r.append(o)})},post:function(e,t){t.bind("$destroy",function(){})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent",function(e,t,n,i,r,o,a){var l=500,s={priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["?^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(t,n){var i=e(t.col.headerCellTemplate)(t);n.append(i)},post:function(e,n,i,s){function u(t){var n=!1;t.shiftKey&&(n=!0),c.grid.sortColumn(e.col,n).then(function(){c.columnMenuScope&&c.columnMenuScope.hideMenu(),c.grid.refresh()})}var c=s[0],d=s[1];e.grid=c.grid,e.renderContainer=c.grid.renderContainers[d.containerId];var p=e.col.getColClass(!1);n.addClass(p),e.menuShown=!1,e.asc=o.ASC,e.desc=o.DESC,angular.element(n[0].querySelectorAll(".ui-grid-header-cell-menu"));var g,f=angular.element(n[0].querySelectorAll(".ui-grid-cell-contents")),h=function(){var t=n;g&&(t.removeClass(g),g=null),g=angular.isFunction(e.col.headerCellClass)?e.col.headerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.headerCellClass,t.addClass(g);var i=e.grid.renderContainers.right?e.grid.renderContainers.right:e.grid.renderContainers.body;e.isLastCol=e.col===i.visibleColumnCache[i.visibleColumnCache.length-1]};e.$watch("col",function(t,i){if(t!==i){var r=e.col.getColClass(!1);r!==p&&(n.removeClass(p),n.addClass(r),p=r)}}),h();var m=e.grid.registerDataChangeCallback(h,[o.dataChange.COLUMN]);if(e.$on("$destroy",m),e.sortable=c.grid.options.enableSorting&&e.col.enableSorting?!0:!1,e.filterable=c.grid.options.enableFiltering&&e.col.enableFiltering?!0:!1,e.colMenu=e.col.grid.options&&e.col.grid.options.enableColumnMenus!==!1&&e.col.colDef&&e.col.colDef.enableColumnMenu!==!1?!0:!1,e.sortable||e.colMenu){var v,w=0,b=r.isTouchEnabled()?"touchstart":"mousedown";f.on(b,function(i){i.stopPropagation(),i.originalEvent!==void 0&&void 0!==i.originalEvent&&(i=i.originalEvent),i.button&&0!==i.button||(w=(new Date).getTime(),v=t(function(){},l),v.then(function(){e.colMenu&&c.columnMenuScope.showMenu(e.col,n,i)}),c.fireEvent(o.events.COLUMN_HEADER_CLICK,{event:i,columnName:e.col.colDef.name}))});var C=r.isTouchEnabled()?"touchend":"mouseup";f.on(C,function(){t.cancel(v)}),e.$on("$destroy",function(){f.off("mousedown touchstart")})}if(e.toggleMenu=function(t){t.stopPropagation(),c.columnMenuScope.menuShown?c.columnMenuScope.col===e.col?c.columnMenuScope.hideMenu():c.columnMenuScope.showMenu(e.col,n):c.columnMenuScope.showMenu(e.col,n)},e.sortable){var y=r.isTouchEnabled()?"touchend":"click";f.on(y,function(e){e.stopPropagation(),t.cancel(v);var n=(new Date).getTime(),i=n-w;i>l||u(e)}),e.$on("$destroy",function(){t.cancel(v)})}if(e.filterable){var x=[];angular.forEach(e.col.filters,function(t,n){x.push(e.$watch("col.filters["+n+"].term",function(e,t){e!==t&&(c.grid.api.core.raise.filterChanged(),c.grid.refresh().then(function(){if(c.prevScrollArgs&&c.prevScrollArgs.y&&c.prevScrollArgs.y.percentage){var e=new a(c.grid,null,null,"uiGridHeaderCell.toggleMenu");e.y.percentage=c.prevScrollArgs.y.percentage,e.fireScrollingEvent()}}))}))}),e.$on("$destroy",function(){angular.forEach(x,function(e){e()})})}}}}};return s}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,i){var r="ui-grid/ui-grid-header",o="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,n,a,l){var s=l[0],u=l[1];e.grid=s.grid,e.colContainer=u.colContainer,u.header=n,u.colContainer.header=n;var c;c=e.grid.options.showHeader?e.grid.options.headerTemplate?e.grid.options.headerTemplate:r:o,i.getTemplate(c).then(function(i){var r=angular.element(i),o=t(r)(e);if(n.replaceWith(o),u.header=o,u.colContainer.header=o,n=o,u){var a=n[0].getElementsByClassName("ui-grid-header-viewport")[0];a&&(u.headerViewport=a)}})},post:function(e,t,n,r){function o(){var e=l.colContainer.getViewportWidth(),t=l.colContainer.visibleColumnCache,n=0,r=0,o=0,a=e,s=!1,u=function(t){return"manual"===t.widthType?+t.width:"percent"===t.widthType?parseInt(t.width.replace(/%/g,""),10)*e/100:"auto"===t.widthType?(0===o&&(o=parseInt(a/r,10)),t.width.length*o):void 0};t.forEach(function(e){e.widthType=null,isFinite(+e.width)?e.widthType="manual":i.endsWith(e.width,"%")?(e.widthType="percent",s=!0):angular.isString(e.width)&&-1!==e.width.indexOf("*")&&(e.widthType="auto",r+=e.width.length,s=!0)});var c=["manual","percent","auto"];if(t.filter(function(e){return e.visible&&e.widthType}).sort(function(e,t){return c.indexOf(e.widthType)-c.indexOf(t.widthType)}).forEach(function(e){var t=u(e);e.minWidth&&(t=Math.max(t,e.minWidth)),e.maxWidth&&(t=Math.min(t,e.maxWidth)),e.drawnWidth=Math.floor(t),n+=e.drawnWidth,a-=e.drawnWidth}),s&&a>0&&n>0&&e>n){var d=function(e){a>0&&("auto"===e.widthType||"percent"===e.widthType)&&(e.drawnWidth=e.drawnWidth+1,n+=1,a--)},p=0;do p=a,t.forEach(d);while(a>0&&a!==p)}n=Math.max(n,e);var g="";return t.forEach(function(e){g+=e.getColClassDefinition()}),t.length>0&&(t[t.length-1].headerWidth=t[t.length-1].drawnWidth-30),l.colContainer.canvasWidth=parseInt(n,10),g}var a=r[0],l=r[1];a.grid,i.disableAnimations(t),l.header=t;var s=t[0].getElementsByClassName("ui-grid-header-viewport")[0];s&&(l.headerViewport=s),a&&a.grid.registerStyleComputation({priority:5,func:o})}}}}}])}(),function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(e,t,n){var i={initialize:function(e,t){t.gridMenuScope=e,e.grid=t,e.registeredMenuItems=[],e.$on("$destroy",function(){e.grid&&e.grid.gridMenuScope&&(e.grid.gridMenuScope=null),e.grid&&(e.grid=null),e.registeredMenuItems&&(e.registeredMenuItems=null)}),e.registeredMenuItems=[],t.api.registerMethod("core","addToGridMenu",i.addToGridMenu),t.api.registerMethod("core","removeFromGridMenu",i.removeFromGridMenu)},addToGridMenu:function(t,n){angular.isArray(n)?t.gridMenuScope?(t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems?t.gridMenuScope.registeredMenuItems:[],t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems.concat(n)):e.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):e.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(t,n){var i=-1;t&&t.gridMenuScope&&t.gridMenuScope.registeredMenuItems.forEach(function(t,r){t.id===n&&(i>-1?e.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):i=r)}),i>-1&&t.gridMenuScope.registeredMenuItems.splice(i,1)},getMenuItems:function(t){var n=[];return t.grid.options.gridMenuCustomItems&&(angular.isArray(t.grid.options.gridMenuCustomItems)?n=n.concat(t.grid.options.gridMenuCustomItems):e.logError("gridOptions.gridMenuCustomItems must be an array, and is not")),n=n.concat(t.registeredMenuItems),t.grid.options.gridMenuShowHideColumns!==!1&&(n=n.concat(i.showHideColumns(t))),n},showHideColumns:function(e){var n=[];return e.grid.options.columnDefs&&0!==e.grid.options.columnDefs.length&&0!==e.grid.columns.length?(n.push({title:t.getSafeText("gridMenu.columns")}),e.grid.options.gridMenuTitleFilter=e.grid.options.gridMenuTitleFilter?e.grid.options.gridMenuTitleFilter:function(e){return e},e.grid.options.columnDefs.forEach(function(t){if(t.enableHiding!==!1){var r={icon:"ui-grid-icon-ok",action:function(e){e.stopPropagation(),i.toggleColumnVisibility(this.context.gridCol)},shown:function(){return this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible},context:{gridCol:e.grid.getColumn(t.name||t.field)}};i.setMenuItemTitle(r,t,e.grid),n.push(r),r={icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),i.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible)},context:{gridCol:e.grid.getColumn(t.name||t.field)}},i.setMenuItemTitle(r,t,e.grid),n.push(r)}}),n):n},setMenuItemTitle:function(t,n,i){var r=i.options.gridMenuTitleFilter(n.displayName||n.name||n.field);"string"==typeof r?t.title=r:r.then?(t.title="",r.then(function(e){t.title=e},function(e){t.title=e})):(e.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),t.title="badconfig")},toggleColumnVisibility:function(e){e.colDef.visible=!(e.colDef.visible===!0||void 0===e.colDef.visible),e.grid.refresh(),e.grid.api.core.notifyDataChange(n.dataChange.COLUMN),e.grid.api.core.raise.columnVisibilityChanged(e)}};return i}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService",function(e,t,n){return{priority:0,scope:!0,require:["?^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(e,t,i,r){var o=r[0];n.initialize(e,o.grid),e.shown=!1,e.toggleMenu=function(){e.shown?(e.$broadcast("hide-menu"),e.shown=!1):(e.menuItems=n.getMenuItems(e),e.$broadcast("show-menu"),e.shown=!0)},e.$on("menu-hidden",function(){e.shown=!1})}}}])}(),function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants",function(e,t,n,i,r,o){var a={priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(e,i,r,a){var l=this;l.showMenu=e.showMenu=function(n,i){e.shown?e.shownMid||(e.shownMid=!0,e.$emit("menu-shown")):(e.shown=!0,t(function(){e.shownMid=!0,e.$emit("menu-shown")}));var r="click";i&&i.originalEvent&&i.originalEvent.type&&"touchstart"===i.originalEvent.type&&(r=i.originalEvent.type),angular.element(document).off("click touchstart",s),t(function(){angular.element(document).on(r,s)})},l.hideMenu=e.hideMenu=function(){e.shown&&(e.shownMid=!1,t(function(){e.shownMid||(e.shown=!1,e.$emit("menu-hidden"))},200)),angular.element(document).off("click touchstart",s)},e.$on("hide-menu",function(t,n){e.hideMenu(t,n)}),e.$on("show-menu",function(t,n){e.showMenu(t,n)});var s=function(){e.shown&&e.$apply(function(){e.hideMenu()})};(e.autoHide===void 0||void 0===e.autoHide)&&(e.autoHide=!0),e.autoHide&&angular.element(n).on("resize",s),e.$on("$destroy",function(){angular.element(document).off("click touchstart",s)}),e.$on("$destroy",function(){angular.element(n).off("resize",s)}),a&&e.$on("$destroy",a.grid.api.core.on.scrollEvent(e,s)),e.$on("$destroy",e.$on(o.events.ITEM_DRAGGING,s))},controller:["$scope","$element","$attrs",function(){}]};return a}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(e,t,n){var i={priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"="},require:["?^uiGrid","^uiGridMenu"],templateUrl:"ui-grid/uiGridMenuItem",replace:!0,compile:function(){return{pre:function(n,i,r,o){o[0],o[1],n.templateUrl&&e.getTemplate(n.templateUrl).then(function(e){var r=angular.element(e),o=t(r)(n);i.replaceWith(o)})},post:function(e,t,i,r){var o=r[0];r[1],(e.shown===void 0||null===e.shown)&&(e.shown=function(){return!0}),e.itemShown=function(){var t={};return e.context&&(t.context=e.context),o!==void 0&&o&&(t.grid=o.grid),e.shown.call(t)},e.itemAction=function(t,n){if(t.stopPropagation(),"function"==typeof e.action){var i={};e.context&&(i.context=e.context),o!==void 0&&o&&(i.grid=o.grid),e.action.call(i,t,n),e.$emit("hide-menu")}},e.i18n=n.get()}}}};return i}])}(),function(){"use strict";var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(e,t,n,i,r){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(e,t,n,i){var r=i[0],o=i[1],a=e.grid=r.grid;if(!e.rowContainerName)throw"No row render container name specified";if(!e.colContainerName)throw"No column render container name specified";if(!a.renderContainers[e.rowContainerName])throw"Row render container '"+e.rowContainerName+"' is not registered.";if(!a.renderContainers[e.colContainerName])throw"Column render container '"+e.colContainerName+"' is not registered.";var l=e.rowContainer=a.renderContainers[e.rowContainerName],s=e.colContainer=a.renderContainers[e.colContainerName];o.containerId=e.containerId,o.rowContainer=l,o.colContainer=s},post:function(e,n,o,a){function l(t){if(!t.grid||t.grid.id===g.id){if(t.y&&e.bindScrollVertical){p.prevScrollArgs=t;var n=t.getNewScrollTop(f,p.viewport);(t.source!==r.Sources.ViewPortScroll||t.sourceColContainer!==h)&&(p.viewport[0].scrollTop=n)}if(t.x&&e.bindScrollHorizontal){p.prevScrollArgs=t;var o=t.getNewScrollLeft(h,p.viewport);e.newScrollLeft=o,p.headerViewport&&(p.headerViewport.scrollLeft=i.denormalizeScrollLeft(p.headerViewport,o)),p.footerViewport&&(p.footerViewport.scrollLeft=i.denormalizeScrollLeft(p.footerViewport,o)),t.source!==r.Sources.ViewPortScroll&&(p.viewport[0].scrollLeft=o),p.prevScrollLeft=o}}}function s(e){e.originalEvent&&(e=e.originalEvent);var t,n,i,o;i=e.targetTouches[0].screenX,o=e.targetTouches[0].screenY,t=-(i-b),n=-(o-w),x=1>n?-1:1,S=1>t?-1:1,n*=2,t*=2;var a=new r(g,f,h,r.Sources.RenderContainerTouchMove);if(0!==n){var l=(C+n)/f.getVerticalScrollLength();l>1?l=1:0>l&&(l=0),a.y={percentage:l,pixels:n}}if(0!==t){var s=(y+t)/(h.getCanvasWidth()-h.getViewportWidth());s>1?s=1:0>s&&(s=0),a.x={percentage:s,pixels:t}}(a.y&&0!==a.y.percentage&&1!==a.y.percentage||a.x&&0!==a.x.percentage&&1!==a.x.percentage)&&e.preventDefault(),a.fireScrollingEvent()}function u(e){e.originalEvent&&(e=e.originalEvent),t.unbind("touchmove",s),t.unbind("touchend",u),t.unbind("touchcancel",u);var n=p.viewport[0].scrollTop,i=p.viewport[0].scrollTop;Math.abs(n-C),Math.abs(i-y),new Date-v}function c(){var t="",n=h.getCanvasWidth(),i=h.getViewportWidth(),r=f.getCanvasHeight();"body"!==e.containerId&&(r+=g.scrollbarHeight);var o=f.getViewportHeight(),a=h.getHeaderViewportWidth(),l=h.getHeaderViewportWidth();return t+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-canvas { width: "+n+"px; height: "+r+"px; }",t+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { width: "+(n+g.scrollbarWidth)+"px; }",t+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-viewport { width: "+i+"px; height: "+o+"px; }",t+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-viewport { width: "+a+"px; }",t+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-canvas { width: "+n+g.scrollbarWidth+"px; }",t+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-viewport { width: "+l+"px; }",void 0!==m.explicitHeaderHeight&&null!==m.explicitHeaderHeight&&m.explicitHeaderHeight>0?t+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-cell { height: "+m.explicitHeaderHeight+"px; }":void 0!==m.innerHeaderHeight&&null!==m.innerHeaderHeight&&m.innerHeaderHeight>0&&(t+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-cell { height: "+m.innerHeaderHeight+"px; }"),t}var d=a[0],p=a[1],g=d.grid,f=p.rowContainer,h=p.colContainer,m=g.renderContainers[e.containerId];n.addClass("ui-grid-render-container-"+e.containerId),(e.bindScrollHorizontal||e.bindScrollVertical)&&g.api.core.on.scrollEvent(e,l),n.bind("wheel mousewheel DomMouseScroll MozMousePixelScroll",function(e){var t=i.normalizeWheelEvent(e),n=new r(g,f,h,r.Sources.RenderContainerMouseWheel);if(0!==t.deltaY){var o=-120*t.deltaY,a=(p.viewport[0].scrollTop+o)/f.getVerticalScrollLength();0>a?a=0:a>1&&(a=1),n.y={percentage:a,pixels:o}}if(0!==t.deltaX){var l=-120*t.deltaX,s=i.normalizeScrollLeft(p.viewport),u=(s+l)/(h.getCanvasWidth()-h.getViewportWidth());0>u?u=0:u>1&&(u=1),n.x={percentage:u,pixels:l}}(n.y&&0!==n.y.percentage&&1!==n.y.percentage&&0!==p.viewport[0].scrollTop||n.x&&0!==n.x.percentage&&1!==n.x.percentage)&&e.preventDefault(),n.fireThrottledScrollingEvent()});var v,w=0,b=0,C=0,y=0,x=1,S=1;i.isTouchEnabled()&&n.bind("touchstart",function(e){e.originalEvent&&(e=e.originalEvent),v=new Date,w=e.targetTouches[0].screenY,b=e.targetTouches[0].screenX,C=p.viewport[0].scrollTop,y=p.viewport[0].scrollLeft,t.on("touchmove",s),t.on("touchend touchcancel",u)}),n.bind("$destroy",function(){n.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){n.unbind(e)})}),d.grid.registerStyleComputation({priority:6,func:c})}}}}}]),e.controller("uiGridRenderContainer",["$scope","gridUtil",function(e){var t=this;t.rowStyle=function(n){var i=e.grid.renderContainers[e.containerId],r={};if(!i.disableRowOffset&&0===n&&0!==t.currentTopRow){var o=e.rowContainer.currentTopRow*e.rowContainer.visibleRowCache[e.rowContainer.currentTopRow].height;r["margin-top"]=o+"px"}return i.disableColumnOffset||0===e.colContainer.currentFirstColumn||(e.grid.isRTL()?r["margin-right"]=e.colContainer.columnOffset+"px":r["margin-left"]=e.colContainer.columnOffset+"px"),r},t.columnStyle=function(t){var n=e.grid.renderContainers[e.containerId];if(!n.disableColumnOffset&&0===t&&0!==e.colContainer.currentFirstColumn){var i=e.colContainer.columnOffset;return e.grid.isRTL()?{"margin-right":i+"px"}:{"margin-left":i+"px"}}return null
}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(e,t,n,i){function r(){e.row.getRowTemplateFn.then(function(n){var i=e.$new();n(i,function(e){l&&(l.remove(),s.$destroy()),t.empty().append(e),l=e,s=i})})}var o=i[0],a=i[1];o.grid,e.grid=o.grid,e.colContainer=a.colContainer;var l,s;r(),e.$watch("row.getRowTemplateFn",function(e,t){e!==t&&r()})},post:function(){}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(e,t){return{link:function(e,n){var i=t(n.text(),!0);i&&e.$watch(i,function(e){n.text(e)})}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants",function(e,t,n){return{replace:!0,scope:{},templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(i,r,o,a){var l=a[0],s=a[1];i.containerCtrl=s;var u=s.rowContainer,c=s.colContainer,d=l.grid;i.grid=l.grid,i.rowContainer=s.rowContainer,i.colContainer=s.colContainer,s.viewport=r,r.on("scroll",function(){var i=r[0].scrollTop,o=e.normalizeScrollLeft(r),a=-1,l=-1;if(o!==c.prevScrollLeft){d.flagScrollingHorizontally();var s=o-c.prevScrollLeft;s>0&&(d.scrollDirection=n.scrollDirection.RIGHT),0>s&&(d.scrollDirection=n.scrollDirection.LEFT);var p=c.getCanvasWidth()-c.getViewportWidth();a=0!==p?o/p:0,c.adjustScrollHorizontal(o,a)}if(i!==u.prevScrollTop){d.flagScrollingVertically();var g=i-u.prevScrollTop;g>0&&(d.scrollDirection=n.scrollDirection.DOWN),0>g&&(d.scrollDirection=n.scrollDirection.UP);var f=u.getVerticalScrollLength();l=i/f,l>1&&(l=1),0>l&&(l=0),u.adjustScrollVertical(i,l)}var h=new t(d,u,c,t.Sources.ViewPortScroll);h.newScrollLeft=o,h.newScrollTop=i,a>-1&&(h.x={percentage:a}),l>-1&&(h.y={percentage:l}),h.fireScrollingEvent()})}}}])}(),function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function(e,t,n){e.$watch(n.uiGridVisible,function(e){t[e?"removeClass":"addClass"]("ui-grid-invisible")})}})}(),function(){"use strict";angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","$templateCache","gridClassFactory","$timeout","$parse","$compile","ScrollEvent",function(e,t,n,i,r,o,a,l,s,u,c,d){function p(e,t){e&&e!==t&&(h.grid.options.columnDefs=e,h.grid.buildColumns({orderByColumnDefs:!0}).then(function(){h.grid.preCompileCellTemplates(),h.grid.callDataChangeCallbacks(o.dataChange.COLUMN)}))}function g(e){var t=new d(h.grid,null,null,"ui.grid.adjustInfiniteScrollPosition"),n=h.grid.renderContainers.body.visibleRowCache.length,i=(e+e/(n-1))/n;t.y=0===i?{pixels:1}:{percentage:i},t.fireScrollingEvent()}function f(t){var i=[];t&&(h.grid.columns.length===(h.grid.rowHeaderColumns?h.grid.rowHeaderColumns.length:0)&&!n.uiGridColumns&&0===h.grid.options.columnDefs.length&&t.length>0&&h.grid.buildColumnDefsFromData(t),(h.grid.options.columnDefs.length>0||t.length>0)&&i.push(h.grid.buildColumns().then(function(){h.grid.preCompileCellTemplates()})),r.all(i).then(function(){h.grid.modifyRows(t).then(function(){h.grid.redrawInPlace(),e.$evalAsync(function(){h.grid.refreshCanvas(!0),h.grid.callDataChangeCallbacks(o.dataChange.ROW),s(function(){h.grid.options.enableInfiniteScroll&&(0===h.grid.renderContainers.body.prevRowScrollIndex&&g(0),h.grid.scrollDirection===o.scrollDirection.UP&&g(h.grid.renderContainers.body.prevRowScrollIndex+1+h.grid.options.excessRows))},0)})})}))}var h=this;h.grid=l.createGrid(e.uiGrid),h.grid.appScope=h.grid.appScope||e.$parent,t.addClass("grid"+h.grid.id),h.grid.rtl="rtl"===i.getStyles(t[0]).direction,e.grid=h.grid,n.uiGridColumns&&n.$observe("uiGridColumns",function(e){h.grid.options.columnDefs=e,h.grid.buildColumns().then(function(){h.grid.preCompileCellTemplates(),h.grid.refreshCanvas(!0)})});var m;m=angular.isString(e.uiGrid.data)?e.$parent.$watchCollection(e.uiGrid.data,f):e.$parent.$watchCollection(function(){return e.uiGrid.data},f);var v=e.$parent.$watchCollection(function(){return e.uiGrid.columnDefs},p);e.$on("$destroy",function(){m(),v()}),e.$watch(function(){return h.grid.styleComputations},function(){h.grid.refreshCanvas(!0)}),h.fireEvent=function(t,n){(n===void 0||void 0===n)&&(n={}),(n.grid===void 0||void 0===n.grid)&&(n.grid=h.grid),e.$broadcast(t,n)},h.innerCompile=function(t){c(t)(e)}}]),angular.module("ui.grid").directive("uiGrid",["$compile","$templateCache","gridUtil","$window","uiGridConstants",function(e,t,n,i,r){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(e,t,o,a){function l(){s.gridWidth=e.gridWidth=n.elementWidth(t),s.gridHeight=e.gridHeight=n.elementHeight(t),s.refreshCanvas(!0)}var s=a.grid;if(a.scrollbars=[],s.renderingComplete(),s.element=t,s.gridWidth=e.gridWidth=n.elementWidth(t),s.canvasWidth=a.grid.gridWidth,s.gridHeight=e.gridHeight=n.elementHeight(t),s.gridHeight<s.options.rowHeight){var u=s.options.minRowsToShow*s.options.rowHeight,c=s.options.showHeader?s.options.headerRowHeight:0,d=s.calcFooterHeight(),p=0;s.options.enableHorizontalScrollbar===r.scrollbars.ALWAYS&&(p=n.getScrollbarWidth());var g=0;angular.forEach(s.options.columnDefs,function(e){e.hasOwnProperty("filter")?1>g&&(g=1):e.hasOwnProperty("filters")&&e.filters.length>g&&(g=e.filters.length)});var f=g*c,h=c+u+d+p+f;t.css("height",h+"px"),s.gridHeight=e.gridHeight=n.elementHeight(t)}s.refreshCanvas(),e.$watch(function(){return s.hasLeftContainer()},function(e,t){e!==t&&s.refreshCanvas(!0)}),e.$watch(function(){return s.hasRightContainer()},function(e,t){e!==t&&s.refreshCanvas(!0)}),angular.element(i).on("resize",l),t.on("$destroy",function(){angular.element(i).off("resize",l)})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(e,t,n,i){function r(){if("left"===e.side||"right"===e.side){for(var t=a.renderContainers[e.side].visibleColumnCache,n=0,i=0;t.length>i;i++){var r=t[i];n+=r.drawnWidth||r.width||0}l=n}}function o(){var n="";if("left"===e.side||"right"===e.side){r(),t.attr("style",null);var i=a.renderContainers.body.getViewportHeight();n+=".grid"+a.id+" .ui-grid-pinned-container-"+e.side+", .grid"+a.id+" .ui-grid-pinned-container-"+e.side+" .ui-grid-render-container-"+e.side+" .ui-grid-viewport { width: "+l+"px; height: "+i+"px; } "}return n}var a=i.grid,l=0;t.addClass("ui-grid-pinned-container-"+e.side),a.renderContainers.body.registerViewportAdjuster(function(e){return 0!==l&&l||r(),e.width-=l,e}),a.registerStyleComputation({priority:15,func:o})}}}}}])}(),function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout",function(e,t,n,i,r,o,a,l,s,u,c,d,p){function g(){}var f=function f(e){var t=this;if(void 0===e||void 0===e.id||!e.id)throw Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.');t.id=e.id,delete e.id,t.options=o.initialize(e),t.appScope=t.options.appScopeProvider,t.headerHeight=t.options.headerRowHeight,t.footerHeight=t.calcFooterHeight(),t.rtl=!1,t.gridHeight=0,t.gridWidth=0,t.columnBuilders=[],t.rowBuilders=[],t.rowsProcessors=[],t.columnsProcessors=[],t.styleComputations=[],t.viewportAdjusters=[],t.rowHeaderColumns=[],t.dataChangeCallbacks={},t.renderContainers={},t.renderContainers.body=new d("body",t),t.cellValueGetterCache={},t.getRowTemplateFn=null,t.rows=[],t.columns=[],t.isScrollingVertically=!1,t.isScrollingHorizontally=!1,t.scrollDirection=r.scrollDirection.NONE;var n=i.debounce(function(){t.isScrollingVertically=!1,t.scrollDirection=r.scrollDirection.NONE},1e3),a=i.debounce(function(){t.isScrollingHorizontally=!1,t.scrollDirection=r.scrollDirection.NONE},1e3);t.flagScrollingVertically=function(){t.isScrollingVertically=!0,n()},t.flagScrollingHorizontally=function(){t.isScrollingHorizontally=!0,a()},t.scrollbarHeight=0,t.scrollbarWidth=0,t.options.enableHorizontalScrollbar===r.scrollbars.ALWAYS&&(t.scrollbarHeight=i.getScrollbarWidth()),t.options.enableVerticalScrollbar===r.scrollbars.ALWAYS&&(t.scrollbarWidth=i.getScrollbarWidth()),t.api=new s(t),t.api.registerMethod("core","refresh",this.refresh),t.api.registerMethod("core","refreshRows",this.refreshRows),t.api.registerMethod("core","handleWindowResize",this.handleWindowResize),t.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),t.api.registerMethod("core","sortHandleNulls",u.handleNulls),t.api.registerEvent("core","sortChanged"),t.api.registerEvent("core","columnVisibilityChanged"),t.api.registerMethod("core","notifyDataChange",this.notifyDataChange),t.registerDataChangeCallback(t.columnRefreshCallback,[r.dataChange.COLUMN]),t.registerDataChangeCallback(t.processRowsCallback,[r.dataChange.EDIT]),t.registerStyleComputation({priority:10,func:t.getFooterStyles})};return f.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var e=0;return this.options.showGridFooter&&(e+=this.options.gridFooterHeight),this.options.showColumnFooter&&(e+=this.options.columnFooterHeight),e},f.prototype.getFooterStyles=function(){var e=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return e+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }"},f.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},f.prototype.isRTL=function(){return this.rtl},f.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},f.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=i.getColumnsFromData(e,this.options.excludeProperties)},f.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},f.prototype.registerDataChangeCallback=function(e,t,n){var o=i.nextUid();t||(t=[r.dataChange.ALL]),Array.isArray(t)||i.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+t),this.dataChangeCallbacks[o]={callback:e,types:t,_this:n};var a=this,l=function(){delete a.dataChangeCallbacks[o]};return l},f.prototype.callDataChangeCallbacks=function(e){angular.forEach(this.dataChangeCallbacks,function(t){(-1!==t.types.indexOf(r.dataChange.ALL)||-1!==t.types.indexOf(e)||e===r.dataChange.ALL)&&(t._this?t.callback.apply(t._this,this):t.callback(this))},this)},f.prototype.notifyDataChange=function(e){var t=r.dataChange;e===t.ALL||e===t.COLUMN||e===t.EDIT||e===t.ROW||e===t.OPTIONS?this.callDataChangeCallbacks(e):i.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+e)},f.prototype.columnRefreshCallback=function(e){e.buildColumns(),e.refresh()},f.prototype.processRowsCallback=function(e){e.refreshRows()},f.prototype.getColumn=function(e){var t=this.columns.filter(function(t){return t.colDef.name===e});return t.length>0?t[0]:null},f.prototype.getColDef=function(e){var t=this.options.columnDefs.filter(function(t){return t.name===e});return t.length>0?t[0]:null},f.prototype.assignTypes=function(){var e=this;e.options.columnDefs.forEach(function(t,n){if(!t.type){var r=new a(t,n,e),o=e.rows.length>0?e.rows[0]:null;o?t.type=i.guessType(e.getCellValue(o,r)):(i.logWarn("Unable to assign type from data, so defaulting to string"),t.type="string")}})},f.prototype.addRowHeaderColumn=function(e){var t=this,n=new a(e,t.rowHeaderColumns.length,t);n.isRowHeader=!0,t.isRTL()?(t.createRightContainer(),n.renderContainer="right"):(t.createLeftContainer(),n.renderContainer="left"),t.columnBuilders[0](e,n,t.options).then(function(){n.enableFiltering=!1,n.enableSorting=!1,n.enableHiding=!1,t.rowHeaderColumns.push(n),t.buildColumns().then(function(){t.preCompileCellTemplates(),t.refresh()})})},f.prototype.buildColumns=function(t){var n={orderByColumnDefs:!1};angular.extend(n,t);var r,o=this,l=[],s=o.rowHeaderColumns.length;for(r=0;o.columns.length>r;r++)o.getColDef(o.columns[r].name)||(o.columns.splice(r,1),r--);if(o.rowHeaderColumns.forEach(function(e){o.columns.unshift(e)}),o.options.columnDefs.forEach(function(e,t){o.preprocessColDef(e);var n=o.getColumn(e.name);n?n.updateColumnDef(e,!1):(n=new a(e,i.nextUid(),o),o.columns.splice(t+s,0,n)),o.columnBuilders.forEach(function(t){l.push(t.call(o,e,n,o.options))})}),n.orderByColumnDefs){var u=o.columns.slice(0);for(r=0;o.options.columnDefs.length>r;r++)u[r+s]=o.columns[r+s].name!==o.options.columnDefs[r].name?o.getColumn(o.options.columnDefs[r].name):o.columns[r+s];o.columns.length=0,Array.prototype.splice.apply(o.columns,[0,0].concat(u))}return e.all(l).then(function(){o.rows.length>0&&o.assignTypes()})},f.prototype.preCompileCellTemplates=function(){var e=this;this.columns.forEach(function(n){var i=n.cellTemplate.replace(r.MODEL_COL_FIELD,e.getQualifiedColField(n));i=i.replace(r.COL_FIELD,"grid.getCellValue(row, col)");var o=t(i);n.compiledElementFn=o,n.compiledElementFnDefer&&n.compiledElementFnDefer.resolve(n.compiledElementFn)})},f.prototype.getQualifiedColField=function(e){return"row.entity."+i.preEval(e.field)},f.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new d("left",this,{disableColumnOffset:!0}))},f.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new d("right",this,{disableColumnOffset:!0}))},f.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},f.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},f.prototype.preprocessColDef=function(e){var t=this;if(!e.field&&!e.name)throw Error("colDef.name or colDef.field property is required");if(void 0===e.name&&void 0!==e.field){var n=t.getColumn(e.field);if(n){var i=RegExp("^"+e.field+"(\\d+)$","i"),r=t.columns.filter(function(e){return i.test(e.displayName)}).sort(function(e,t){if(e===t)return 0;var n=e.match(i)[1],r=t.match(i)[1];return parseInt(n,10)>parseInt(r,10)?1:-1});if(0===r.length)e.name=e.field+"2";else{var o=r[r.length-1].displayName.match(i)[1];o=parseInt(o,10),e.name=e.field+(o+1)}}else e.name=e.field}},f.prototype.newInN=function(e,t,n,i){for(var r=this,o=[],a=0;t.length>a;a++){for(var l=i?t[a][i]:t[a],s=!1,u=0;e.length>u;u++){var c=n?e[u][n]:e[u];if(r.options.rowEquality(l,c)){s=!0;break}}s||o.push(l)}return o},f.prototype.getRow=function(e){var t=this,n=this.rows.filter(function(n){return t.options.rowEquality(n.entity,e)});return n.length>0?n[0]:null},f.prototype.modifyRows=function(t){var n,i,r,o,a=this;if((a.options.useExternalSorting||0===a.getColumnSorting().length)&&t.length>0){var s=a.rowHashMap;for(s||(s={get:function(){return null}}),a.createRowHashMap(),i=a.rowHashMap,0===a.rows.length,a.rows.length=0,n=0;t.length>n;n++){var u=t[n];r=s.get(u),o=r?r.row:a.processRowBuilders(new l(u,n,a)),a.rows.push(o),i.put(u,{i:n,entity:u,row:o})}a.assignTypes()}else if(0===a.rows.length&&t.length>0){if(a.options.enableRowHashing)for(a.rowHashMap||a.createRowHashMap(),n=0;t.length>n;n++)o=t[n],a.rowHashMap.put(o,{i:n,entity:o});a.addRows(t),a.assignTypes()}else if(t.length>0){var c,d,p;if(a.options.enableRowHashing){c=[],p=[];var g={};for(d=[],a.rowHashMap||a.createRowHashMap(),i=a.rowHashMap,n=0;t.length>n;n++){o=t[n];var f=!1;a.options.getRowIdentity(o)||(f=!0),r=i.get(o),r?r.row&&(g[a.options.rowIdentity(o)]=!0):(i.put(o,{i:n,entity:o}),f?p.push(o):c.push(o))}for(n=0;a.rows.length>n;n++){var h=a.rows[n],m=a.options.rowIdentity(h.entity);g[m]||d.push(h)}}var v=c||[],w=p||t;v=v.concat(a.newInN(a.rows,w,"entity")),a.addRows(v);var b=a.getDeletedRows(d||a.rows,t);for(n=0;b.length>n;n++)a.options.enableRowHashing&&a.rowHashMap.remove(b[n].entity),a.rows.splice(a.rows.indexOf(b[n]),1)}else a.createRowHashMap(),a.rows.length=0;var C=e.when(a.processRowsProcessors(a.rows)).then(function(e){return a.setVisibleRows(e)}),y=e.when(a.processColumnsProcessors(a.columns)).then(function(e){return a.setVisibleColumns(e)});return e.all([C,y])},f.prototype.getDeletedRows=function(e,t){var n=this,i=e.filter(function(e){return!t.some(function(t){return n.options.rowEquality(t,e.entity)})});return i},f.prototype.addRows=function(e){for(var t=this,n=t.rows.length,i=0;e.length>i;i++){var r=t.processRowBuilders(new l(e[i],i+n,t));if(t.options.enableRowHashing){var o=t.rowHashMap.get(r.entity);o&&(o.row=r)}t.rows.push(r)}},f.prototype.processRowBuilders=function(e){var t=this;return t.rowBuilders.forEach(function(n){n.call(t,e,t.options)}),e},f.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},f.prototype.registerRowsProcessor=function(e){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push(e)},f.prototype.removeRowsProcessor=function(e){var t=this.rowsProcessors.indexOf(e);t!==void 0&&void 0!==t&&this.rowsProcessors.splice(t,1)},f.prototype.processRowsProcessors=function(t){function n(t,r){var a=i.rowsProcessors[t];return e.when(a.call(i,r,i.columns)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";return t++,i.rowsProcessors.length-1>=t?n(t,e):(o.resolve(e),void 0)})}var i=this,r=t.slice(0);if(0===i.rowsProcessors.length)return e.when(r);var o=e.defer();return n(0,r),o.promise},f.prototype.setVisibleRows=function(e){var t=this;for(var n in t.renderContainers){var i=t.renderContainers[n];i.canvasHeightShouldUpdate=!0,i.visibleRowCache===void 0?i.visibleRowCache=[]:i.visibleRowCache.length=0}for(var r=0;e.length>r;r++){var o=e[r];o.visible&&(o.renderContainer!==void 0&&o.renderContainer?t.renderContainers[o.renderContainer].visibleRowCache.push(o):t.renderContainers.body.visibleRowCache.push(o))}t.api.core.raise.rowsRendered(this.api)},f.prototype.registerColumnsProcessor=function(e){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push(e)},f.prototype.removeColumnsProcessor=function(e){var t=this.columnsProcessors.indexOf(e);t!==void 0&&void 0!==t&&this.columnsProcessors.splice(t,1)},f.prototype.processColumnsProcessors=function(t){function n(t,a){var l=i.columnsProcessors[t];return e.when(l.call(i,a,i.rows)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";return t++,i.columnsProcessors.length-1>=t?n(t,r):(o.resolve(r),void 0)})}var i=this,r=t.slice(0);if(0===i.columnsProcessors.length)return e.when(r);var o=e.defer();return n(0,r),o.promise},f.prototype.setVisibleColumns=function(e){var t=this;for(var n in t.renderContainers){var i=t.renderContainers[n];i.visibleColumnCache.length=0}for(var r=0;e.length>r;r++){var o=e[r];o.visible&&(o.renderContainer!==void 0&&o.renderContainer?t.renderContainers[o.renderContainer].visibleColumnCache.push(o):t.renderContainers.body.visibleColumnCache.push(o))}},f.prototype.handleWindowResize=function(){var e=this;e.gridWidth=i.elementWidth(e.element),e.gridHeight=i.elementHeight(e.element),e.queueRefresh()},f.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&p.cancel(e.refreshCanceller),e.refreshCanceller=p(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null}),e.refreshCanceller},f.prototype.updateCanvasHeight=function(){var e=this;for(var t in e.renderContainers)if(e.renderContainers.hasOwnProperty(t)){var n=e.renderContainers[t];n.canvasHeightShouldUpdate=!0}},f.prototype.buildStyles=function(){var e=this;e.customStyles="",e.styleComputations.sort(function(e,t){return null===e.priority?1:null===t.priority?-1:null===e.priority&&null===t.priority?0:e.priority-t.priority}).forEach(function(t){var n=t.func.call(e);angular.isString(n)&&(e.customStyles+="\n"+n)})},f.prototype.minColumnsToRender=function(){var e=this,t=this.getViewportWidth(),n=0,i=0;return e.columns.forEach(function(r,o){if(t>i)i+=r.drawnWidth,n++;else{for(var a=0,l=o;l>=o-n;l--)a+=e.columns[l].drawnWidth;t>a&&n++}}),n},f.prototype.getBodyHeight=function(){var e=this.getViewportHeight();return e},f.prototype.getViewportHeight=function(){var e=this,t=this.gridHeight-this.headerHeight-this.footerHeight,n=e.getViewportAdjustment();return t+=n.height},f.prototype.getViewportWidth=function(){var e=this,t=this.gridWidth,n=e.getViewportAdjustment();return t+=n.width},f.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},f.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},f.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);t!==void 0&&void 0!==t&&this.viewportAdjusters.splice(t,1)},f.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},f.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},f.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},f.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},f.prototype.searchRows=function(e){return c.search(this,e,this.columns)},f.prototype.sortByColumn=function(e){return u.sort(this,e,this.columns)},f.prototype.getCellValue=function(e,t){var i=this;return i.cellValueGetterCache[t.colDef.name]||(i.cellValueGetterCache[t.colDef.name]=n(e.getEntityQualifiedColField(t))),i.cellValueGetterCache[t.colDef.name](e)},f.prototype.getNextColumnSortPriority=function(){var e=this,t=0;return e.columns.forEach(function(e){e.sort&&e.sort.priority&&e.sort.priority>t&&(t=e.sort.priority)}),t+1},f.prototype.resetColumnSorting=function(e){var t=this;t.columns.forEach(function(t){t===e||t.colDef.suppressRemoveSort||(t.sort={})})},f.prototype.getColumnSorting=function(){var e,t=this,n=[];return e=t.columns.slice(0),e.sort(u.prioritySort).forEach(function(e){e.sort&&e.sort.direction!==void 0&&e.sort.direction&&(e.sort.direction===r.ASC||e.sort.direction===r.DESC)&&n.push(e)}),n},f.prototype.sortColumn=function(t,n,i){var o=this,a=null;if(t===void 0||!t)throw Error("No column parameter provided");return"boolean"==typeof n?i=n:a=n,i?t.sort.priority=o.getNextColumnSortPriority():(o.resetColumnSorting(t),t.sort.priority=0),t.sort.direction=a?a:t.sort.direction&&t.sort.direction===r.ASC?r.DESC:t.sort.direction&&t.sort.direction===r.DESC?t.colDef&&t.colDef.suppressRemoveSort?r.ASC:null:r.ASC,o.api.core.raise.sortChanged(o,o.getColumnSorting()),e.when(t)},f.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},f.prototype.createRowHashMap=function(){var e=this,t=new g;t.grid=e,e.rowHashMap=t},f.prototype.refresh=function(){var t=this,n=t.processRowsProcessors(t.rows).then(function(e){t.setVisibleRows(e)}),i=t.processColumnsProcessors(t.columns).then(function(e){t.setVisibleColumns(e)});return e.all([n,i]).then(function(){t.redrawInPlace(),t.refreshCanvas(!0)})},f.prototype.refreshRows=function(){var e=this;return e.processRowsProcessors(e.rows).then(function(t){e.setVisibleRows(t),e.redrawInPlace(),e.refreshCanvas(!0)})},f.prototype.refreshCanvas=function(t){var n=this;t&&n.buildStyles();var r=e.defer(),o=[];for(var a in n.renderContainers)if(n.renderContainers.hasOwnProperty(a)){var l=n.renderContainers[a];if(null===l.canvasWidth||isNaN(l.canvasWidth))continue;l.header&&o.push(l)}return o.length>0?p(function(){var e,a,l=!1,s=0;for(e=0;o.length>e;e++)if(a=o[e],null!==a.canvasWidth&&!isNaN(a.canvasWidth)&&a.header){var u=a.headerHeight,c=i.outerElementHeight(a.header);a.headerHeight=parseInt(c,10),u!==c&&(l=!0);var d=i.getBorderSize(a.header,"top"),p=i.getBorderSize(a.header,"bottom"),g=parseInt(c-d-p,10);g=0>g?0:g,a.innerHeaderHeight=g,g>s&&(s=g)}for(e=0;o.length>e;e++)a=o[e],s>a.headerHeight&&(a.explicitHeaderHeight=s);t&&l&&n.buildStyles(),r.resolve()}):p(function(){r.resolve()}),r.promise},f.prototype.redrawInPlace=function(){var e=this;for(var t in e.renderContainers){var n=e.renderContainers[t];n.adjustRows(null,n.prevScrolltopPercentage,!0),n.adjustColumns(null,n.prevScrollleftPercentage)}},f.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},f.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},g.prototype={put:function(e,t){this[this.grid.options.rowIdentity(e)]=t},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var t=this[e=this.grid.options.rowIdentity(e)];return delete this[e],t}},f}])}(),function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(e,t,n,i,r){function o(e,n,i,r){return t.$on(e,function(){var e=Array.prototype.slice.call(arguments);e.splice(0,1),n.apply(r?r:i.api,e)})}var a=function a(e){this.grid=e,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",r.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",r.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollEvent"),this.registerEvent("core","canvasHeightChanged")};return a.prototype.suppressEvents=function(e,t){var n=this,i=angular.isArray(e)?e:[e],r=[];i.forEach(function(e){r=n.listeners.filter(function(t){return e===t.handler})}),r.forEach(function(e){e.dereg()}),t(),r.forEach(function(e){e.dereg=o(e.eventId,e.handler,n.grid,e._this)})},a.prototype.registerEvent=function(e,n){var i=this;i[e]||(i[e]={});var r=i[e];r.on||(r.on={},r.raise={});var a=i.grid.id+e+n;r.raise[n]=function(){t.$emit.apply(t,[a].concat(Array.prototype.slice.call(arguments)))},r.on[n]=function(e,t,n){var r=o(a,t,i.grid,n),l={handler:t,dereg:r,eventId:a,scope:e,_this:n};i.listeners.push(l);var s=function(){l.dereg();var e=i.listeners.indexOf(l);i.listeners.splice(e,1)};return e.$on("$destroy",function(){s()}),s}},a.prototype.registerEventsFromObject=function(e){var t=this,n=[];angular.forEach(e,function(e,t){var i={name:t,events:[]};angular.forEach(e,function(e,t){i.events.push(t)}),n.push(i)}),n.forEach(function(e){e.events.forEach(function(n){t.registerEvent(e.name,n)})})},a.prototype.registerMethod=function(e,t,i,r){this[e]||(this[e]={});var o=this[e];o[t]=n.createBoundedWrapper(r||this.grid,i)},a.prototype.registerMethodsFromObject=function(e,t){var n=this,i=[];angular.forEach(e,function(e,t){var n={name:t,methods:[]};angular.forEach(e,function(e,t){n.methods.push({name:t,fn:e})}),i.push(n)}),i.forEach(function(e){e.methods.forEach(function(i){n.registerMethod(e.name,i.name,i.fn,t)})})},a}])}(),function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(e,t,n){function i(e,t,n){var i=this;i.grid=n,i.uid=t,i.updateColumnDef(e,!0)}return i.prototype.setPropertyOrDefault=function(e,t,n){var i=this;i[t]=e[t]!==void 0&&e[t]?e[t]:i[t]!==void 0?i[t]:n?n:{}},i.prototype.updateColumnDef=function(t,n){var r=this;if(r.colDef=t,void 0===t.name)throw Error("colDef.name is required for column at index "+r.grid.options.columnDefs.indexOf(t));r.displayName=void 0===t.displayName?e.readableColumnName(t.name):t.displayName;var o="Cannot parse column width '"+t.width+"' for column named '"+t.name+"'";if(e.isNullOrUndefined(r.width)||!angular.isNumber(r.width))if(e.isNullOrUndefined(t.width))r.width="*";else if(angular.isNumber(t.width))r.width=t.width;else if(e.endsWith(t.width,"%")){var a=t.width.replace(/%/g,""),l=parseInt(a,10);if(isNaN(l))throw Error(o);r.width=t.width}else if(t.width.match(/^(\d+)$/))r.width=parseInt(t.width.match(/^(\d+)$/)[1],10);else{if(!t.width.match(/^\*+$/))throw Error(o);r.width=t.width}r.minWidth=t.minWidth?t.minWidth:30,r.maxWidth=t.maxWidth?t.maxWidth:9e3,r.field=void 0===t.field?t.name:t.field,"string"!=typeof r.field&&e.logError("Field is not a string, this is likely to break the code, Field is: "+r.field),r.name=t.name,r.displayName=void 0===t.displayName?e.readableColumnName(t.name):t.displayName,r.aggregationType=angular.isDefined(t.aggregationType)?t.aggregationType:null,r.footerCellTemplate=angular.isDefined(t.footerCellTemplate)?t.footerCellTemplate:null,r.footerCellClass=t.footerCellClass,r.cellClass=t.cellClass,r.headerCellClass=t.headerCellClass,r.cellFilter=t.cellFilter?t.cellFilter:"",r.headerCellFilter=t.headerCellFilter?t.headerCellFilter:"",r.footerCellFilter=t.footerCellFilter?t.footerCellFilter:"",r.visible=e.isNullOrUndefined(t.visible)||t.visible,r.headerClass=t.headerClass,r.enableSorting=t.enableSorting!==void 0?t.enableSorting:!0,r.sortingAlgorithm=t.sortingAlgorithm,r.enableFiltering=t.enableFiltering!==void 0?t.enableFiltering:!0,r.setPropertyOrDefault(t,"menuItems",[]),n&&r.setPropertyOrDefault(t,"sort");var s=[];t.filter?s.push(t.filter):r.enableFiltering&&r.grid.options.enableFiltering&&s.push({}),n&&(r.setPropertyOrDefault(t,"filter"),r.setPropertyOrDefault(t,"filters",s)),i.prototype.unsort=function(){this.sort={},r.grid.api.core.raise.sortChanged(r,r.grid.getColumnSorting())}},i.prototype.getColClass=function(e){var n=t.COL_CLASS_PREFIX+this.uid;return e?"."+n:n},i.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { width: "+this.drawnWidth+"px; }"},i.prototype.getRenderContainer=function(){var e=this,t=e.renderContainer;return(null===t||""===t||void 0===t)&&(t="body"),e.grid.renderContainers[t]},i.prototype.showColumn=function(){this.colDef.visible=!0},i.prototype.hideColumn=function(){this.colDef.visible=!1},i.prototype.getAggregationValue=function(){var e=this,n=0,i=e.grid.getVisibleRows(),r=function(){var t=[];return angular.forEach(i,function(n){var i=e.grid.getCellValue(n,e);angular.isNumber(i)&&t.push(i)}),t};return angular.isFunction(e.aggregationType)?e.aggregationType(i,e):e.aggregationType===t.aggregationTypes.count?e.grid.getVisibleRowCount():e.aggregationType===t.aggregationTypes.sum?(angular.forEach(r(),function(e){n+=e}),n):e.aggregationType===t.aggregationTypes.avg?(angular.forEach(r(),function(e){n+=e}),n/=r().length):e.aggregationType===t.aggregationTypes.min?Math.min.apply(null,r()):e.aggregationType===t.aggregationTypes.max?Math.max.apply(null,r()):" "},i.prototype.getAggregationText=function(){var e=this;if(e.colDef.aggregationHideLabel)return"";if(e.colDef.aggregationLabel)return e.colDef.aggregationLabel;switch(e.colDef.aggregationType){case t.aggregationTypes.count:return n.getSafeText("aggregation.count");case t.aggregationTypes.sum:return n.getSafeText("aggregation.sum");case t.aggregationTypes.avg:return n.getSafeText("aggregation.avg");case t.aggregationTypes.min:return n.getSafeText("aggregation.min");case t.aggregationTypes.max:return n.getSafeText("aggregation.max");default:return""}},i.prototype.getCellTemplate=function(){var e=this;return e.cellTemplatePromise},i.prototype.getCompiledElementFn=function(){var e=this;return e.compiledElementFnDefer.promise
},i}])}(),function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(e,t){return{initialize:function(n){return n.onRegisterApi=n.onRegisterApi||angular.noop(),n.data=n.data||[],n.columnDefs=n.columnDefs||[],n.excludeProperties=n.excludeProperties||["$$hashKey"],n.enableRowHashing=n.enableRowHashing!==!1,n.rowIdentity=n.rowIdentity||function(t){return e.hashKey(t)},n.getRowIdentity=n.getRowIdentity||function(e){return e.$$hashKey},n.showHeader=n.showHeader!==void 0?n.showHeader:!0,n.headerRowHeight=n.showHeader?n.headerRowHeight!==void 0?n.headerRowHeight:30:0,n.rowHeight=n.rowHeight||30,n.minRowsToShow=n.minRowsToShow!==void 0?n.minRowsToShow:10,n.showGridFooter=n.showGridFooter===!0,n.showColumnFooter=n.showColumnFooter===!0,n.columnFooterHeight=n.columnFooterHeight!==void 0?n.columnFooterHeight:30,n.gridFooterHeight=n.gridFooterHeight!==void 0?n.gridFooterHeight:30,n.columnWidth=n.columnWidth!==void 0?n.columnWidth:50,n.maxVisibleColumnCount=n.maxVisibleColumnCount!==void 0?n.maxVisibleColumnCount:200,n.virtualizationThreshold=n.virtualizationThreshold!==void 0?n.virtualizationThreshold:20,n.columnVirtualizationThreshold=n.columnVirtualizationThreshold!==void 0?n.columnVirtualizationThreshold:10,n.excessRows=n.excessRows!==void 0?n.excessRows:4,n.scrollThreshold=n.scrollThreshold!==void 0?n.scrollThreshold:4,n.excessColumns=n.excessColumns!==void 0?n.excessColumns:4,n.horizontalScrollThreshold=n.horizontalScrollThreshold!==void 0?n.horizontalScrollThreshold:2,n.scrollThrottle=n.scrollThrottle!==void 0?n.scrollThrottle:70,n.enableSorting=n.enableSorting!==!1,n.enableFiltering=n.enableFiltering===!0,n.enableColumnMenus=n.enableColumnMenus!==!1,n.enableVerticalScrollbar=n.enableVerticalScrollbar!==void 0?n.enableVerticalScrollbar:t.scrollbars.ALWAYS,n.enableHorizontalScrollbar=n.enableHorizontalScrollbar!==void 0?n.enableHorizontalScrollbar:t.scrollbars.ALWAYS,n.minimumColumnSize=n.minimumColumnSize!==void 0?n.minimumColumnSize:10,n.rowEquality=n.rowEquality||function(e,t){return e===t},n.headerTemplate=n.headerTemplate||null,n.footerTemplate=n.footerTemplate||null,n.rowTemplate=n.rowTemplate||"ui-grid/ui-grid-row",n.appScopeProvider=n.appScopeProvider||null,n}}}])}(),function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(e,t){function n(e,t,n){var i=this;i.name=e,i.grid=t,i.visibleRowCache=[],i.visibleColumnCache=[],i.renderedRows=[],i.renderedColumns=[],i.prevScrollTop=0,i.prevScrolltopPercentage=0,i.prevRowScrollIndex=0,i.prevScrollLeft=0,i.prevScrollleftPercentage=0,i.prevColumnScrollIndex=0,i.columnStyles="",i.viewportAdjusters=[],i.canvasHeightShouldUpdate=!0,i.$$canvasHeight=0,n&&angular.isObject(n)&&angular.extend(i,n),t.registerStyleComputation({priority:5,func:function(){return i.columnStyles}})}return n.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},n.prototype.minRowsToRender=function(){for(var e=this,t=0,n=0,i=e.getViewportHeight(),r=e.visibleRowCache.length-1;i>n&&r>=0;r--)n+=e.visibleRowCache[r].height,t++;return t},n.prototype.minColumnsToRender=function(){for(var e=this,t=this.getViewportWidth(),n=0,i=0,r=0;e.visibleColumnCache.length>r;r++){var o=e.visibleColumnCache[r];if(t>i)i+=o.drawnWidth?o.drawnWidth:0,n++;else{for(var a=0,l=r;l>=r-n;l--)a+=e.visibleColumnCache[l].drawnWidth?e.visibleColumnCache[l].drawnWidth:0;t>a&&n++}}return n},n.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},n.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},n.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);t!==void 0&&void 0!==t&&this.viewportAdjusters.splice(t,1)},n.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},n.prototype.getViewportHeight=function(){var e=this,t=e.headerHeight?e.headerHeight:e.grid.headerHeight,n=e.grid.gridHeight-t-e.grid.footerHeight,i=e.getViewportAdjustment();return n+=i.height},n.prototype.getViewportWidth=function(){var e=this,t=e.grid.gridWidth,n=e.getViewportAdjustment();return t+=n.width},n.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},n.prototype.getCanvasHeight=function(){var e=this;if(!e.canvasHeightShouldUpdate)return e.$$canvasHeight;var t=e.$$canvasHeight;return e.$$canvasHeight=0,e.visibleRowCache.forEach(function(t){e.$$canvasHeight+=t.height}),e.canvasHeightShouldUpdate=!1,e.grid.api.core.raise.canvasHeightChanged(t,e.$$canvasHeight),e.$$canvasHeight},n.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()},n.prototype.getCanvasWidth=function(){var e=this,t=e.canvasWidth;return t},n.prototype.setRenderedRows=function(e){this.renderedRows.length=e.length;for(var t=0;e.length>t;t++)this.renderedRows[t]=e[t]},n.prototype.setRenderedColumns=function(e){this.renderedColumns.length=e.length;for(var t=0;e.length>t;t++)this.renderedColumns[t]=e[t];this.updateColumnOffset()},n.prototype.updateColumnOffset=function(){for(var e=0,t=0;this.currentFirstColumn>t;t++)e+=this.visibleColumnCache[t].drawnWidth;this.columnOffset=e},n.prototype.adjustScrollVertical=function(e,t,n){(this.prevScrollTop!==e||n)&&((e===void 0||void 0===e||null===e)&&(e=(this.getCanvasHeight()-this.getCanvasWidth())*t),this.adjustRows(e,t,!1),this.prevScrollTop=e,this.prevScrolltopPercentage=t,this.grid.queueRefresh())},n.prototype.adjustScrollHorizontal=function(e,t,n){(this.prevScrollLeft!==e||n)&&((e===void 0||void 0===e||null===e)&&(e=(this.getCanvasWidth()-this.getViewportWidth())*t),this.adjustColumns(e,t),this.prevScrollLeft=e,this.prevScrollleftPercentage=t,this.grid.queueRefresh())},n.prototype.adjustRows=function(e,n,i){var r=this,o=r.minRowsToRender(),a=r.visibleRowCache,l=a.length-o;void 0!==n&&null!==n||!e||(n=e/r.getVerticalScrollLength());var s=Math.ceil(Math.min(l,l*n));s>l&&(s=l);var u=[];if(a.length>r.grid.options.virtualizationThreshold){if(void 0!==e&&null!==e){if(!r.grid.options.enableInfiniteScroll&&e>r.prevScrollTop&&r.prevRowScrollIndex+r.grid.options.scrollThreshold>s&&l>s)return;if(!r.grid.options.enableInfiniteScroll&&r.prevScrollTop>e&&s>r.prevRowScrollIndex-r.grid.options.scrollThreshold&&l>s)return}var c={},d={};if(r.grid.options.enableInfiniteScroll&&r.grid.scrollDirection!==t.scrollDirection.NONE&&i){var p=null,g=null;if(r.grid.scrollDirection===t.scrollDirection.UP){for(p=s>0?r.grid.options.excessRows:0,g=0;a.length>g;g++)if(a[g].entity.$$hashKey===r.renderedRows[p].entity.$$hashKey){s=g;break}c=Math.max(0,s),d=Math.min(a.length,c+r.grid.options.excessRows+o)}else if(r.grid.scrollDirection===t.scrollDirection.DOWN){for(p=o,g=0;a.length>g;g++)if(a[g].entity.$$hashKey===r.renderedRows[p].entity.$$hashKey){s=g;break}c=Math.max(0,s-r.grid.options.excessRows-o),d=Math.min(a.length,s+o+r.grid.options.excessRows)}}else c=Math.max(0,s-r.grid.options.excessRows),d=Math.min(a.length,s+o+r.grid.options.excessRows);u=[c,d]}else{var f=r.visibleRowCache.length;u=[0,Math.max(f,o+r.grid.options.excessRows)]}r.updateViewableRowRange(u),r.prevRowScrollIndex=s},n.prototype.adjustColumns=function(e,t){var n=this,i=n.minColumnsToRender(),r=n.visibleColumnCache,o=r.length-i;void 0!==t&&null!==t||!e||(t=e/n.getCanvasWidth());var a=Math.ceil(Math.min(o,o*t));a>o&&(a=o);var l=[];if(r.length>n.grid.options.columnVirtualizationThreshold&&n.getCanvasWidth()>n.getViewportWidth()){var s=Math.max(0,a-n.grid.options.excessColumns),u=Math.min(r.length,a+i+n.grid.options.excessColumns);l=[s,u]}else{var c=n.visibleColumnCache.length;l=[0,Math.max(c,i+n.grid.options.excessColumns)]}n.updateViewableColumnRange(l),n.prevColumnScrollIndex=a},n.prototype.updateViewableRowRange=function(e){var t=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0],this.setRenderedRows(t)},n.prototype.updateViewableColumnRange=function(e){var t=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0],this.setRenderedColumns(t)},n.prototype.rowStyle=function(e){var t=this,n={};if(0===e&&0!==t.currentTopRow){var i=t.currentTopRow*t.grid.options.rowHeight;n["margin-top"]=i+"px"}return 0!==t.currentFirstColumn&&(t.grid.isRTL()?n["margin-right"]=t.columnOffset+"px":n["margin-left"]=t.columnOffset+"px"),n},n.prototype.columnStyle=function(e){var t=this;if(0===e&&0!==t.currentFirstColumn){var n=t.columnOffset;return t.grid.isRTL()?{"margin-right":n+"px"}:{"margin-left":n+"px"}}return null},n.prototype.updateColumnWidths=function(){var t,n=this,i=[],r=[],o=0,a=n.getViewportWidth(),l=0,s=0,u="",c=n.visibleColumnCache;c.forEach(function(t){if(t.visible){var n=!1;angular.isNumber(t.width)||(n=isNaN(t.width)&&e.endsWith(t.width,"%")),angular.isString(t.width)&&-1!==t.width.indexOf("*")?(o=parseInt(o+t.width.length,10),i.push(t)):n?r.push(t):angular.isNumber(t.width)&&(l=parseInt(l+t.width,10),s=parseInt(s,10)+parseInt(t.width,10),t.drawnWidth=t.width)}});var d,p,g,f=a-l;if(r.length>0){for(d=0;r.length>d;d++){p=r[d];var h=parseInt(p.width.replace(/%/g,""),10)/100;g=parseInt(h*f,10),p.colDef.minWidth&&p.colDef.minWidth>g?(g=p.colDef.minWidth,f-=g,s+=g,p.drawnWidth=g,r.splice(d,1)):p.colDef.maxWidth&&g>p.colDef.maxWidth&&(g=p.colDef.maxWidth,f-=g,s+=g,p.drawnWidth=g,r.splice(d,1))}r.forEach(function(e){var t=parseInt(e.width.replace(/%/g,""),10)/100,n=parseInt(t*f,10);s+=n,e.drawnWidth=n})}if(i.length>0){var m=parseInt(f/o,10);for(d=0;i.length>d;d++)p=i[d],g=parseInt(m*p.width.length,10),p.colDef.minWidth&&p.colDef.minWidth>g?(g=p.colDef.minWidth,f-=g,o--,s+=g,p.drawnWidth=g,t=p,i.splice(d,1)):p.colDef.maxWidth&&g>p.colDef.maxWidth&&(g=p.colDef.maxWidth,f-=g,o--,s+=g,p.drawnWidth=g,i.splice(d,1));m=parseInt(f/o,10),i.forEach(function(e){var t=parseInt(m*e.width.length,10);s+=t,e.drawnWidth=t})}var v=a-parseInt(s,10);if(v>0&&s>0&&a>s){var w=!1;if(c.forEach(function(e){e.width&&!angular.isNumber(e.width)&&(w=!0)}),w)for(var b=function(e){v>0&&(e.drawnWidth=e.drawnWidth+1,s+=1,v--)};v>0;)c.forEach(b)}a>s&&(s=a),c.forEach(function(e){u+=e.getColClassDefinition()}),n.canvasWidth=parseInt(s,10),this.columnStyles=u},n.prototype.getViewPortStyle=function(){var e=this,n={};return"body"===e.name?(n["overflow-x"]=e.grid.options.enableHorizontalScrollbar===t.scrollbars.NEVER?"hidden":"scroll",n["overflow-y"]=e.grid.isRTL()?e.grid.hasLeftContainerColumns()?"hidden":e.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll":e.grid.hasRightContainerColumns()?"hidden":e.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll"):"left"===e.name?(n["overflow-x"]="hidden",n["overflow-y"]=e.grid.isRTL()?e.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll":"hidden"):(n["overflow-x"]="hidden",n["overflow-y"]=e.grid.isRTL()?"hidden":e.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll"),n},n}])}(),function(){angular.module("ui.grid").factory("GridRow",["gridUtil",function(e){function t(t,n,i){this.grid=i,this.entity=t,this.uid=e.nextUid(),this.visible=!0,this.$$height=i.options.rowHeight}return Object.defineProperty(t.prototype,"height",{get:function(){return this.$$height},set:function(e){e!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=e)}}),t.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)},t.prototype.getEntityQualifiedColField=function(t){return e.preEval("entity."+t.field)},t.prototype.setRowInvisible=function(e){null!==e&&(e.forceInvisible=!0,e.visible&&(e.visible=!1,e.grid.refresh(),e.grid.api.core.raise.rowsVisibleChanged()))},t.prototype.clearRowInvisible=function(e){null!==e&&(e.forceInvisible=!1,e.visible||(e.visible=!0,e.grid.refresh(),e.grid.api.core.raise.rowsVisibleChanged()))},t}])}(),function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(e){function t(t,n,i,r){var o=this;if(!t)throw Error("grid argument is required");o.grid=t,o.source=r,o.sourceRowContainer=n,o.sourceColContainer=i,o.newScrollLeft=null,o.newScrollTop=null,o.x=null,o.y=null,o.fireThrottledScrollingEvent=e.throttle(function(){o.grid.api.core.raise.scrollEvent(o)},o.grid.options.scrollThrottle,{trailing:!0})}return t.prototype.fireScrollingEvent=function(){this.grid.api.core.raise.scrollEvent(this)},t.prototype.getNewScrollLeft=function(t,n){var i=this;if(!i.newScrollLeft){var r,o=t.getCanvasWidth()-t.getViewportWidth(),a=e.normalizeScrollLeft(n);if(i.x.percentage!==void 0&&void 0!==i.x.percentage)r=i.x.percentage;else{if(void 0===i.x.pixels||void 0===i.x.pixels)throw Error("No percentage or pixel value provided for scroll event X axis");r=i.x.percentage=(a+i.x.pixels)/o}return Math.max(0,r*o)}return i.newScrollLeft},t.prototype.getNewScrollTop=function(e,t){var n=this;if(!n.newScrollTop){var i,r=e.getVerticalScrollLength(),o=t[0].scrollTop;if(n.y.percentage!==void 0&&void 0!==n.y.percentage)i=n.y.percentage;else{if(void 0===n.y.pixels||void 0===n.y.pixels)throw Error("No percentage or pixel value provided for scroll event Y axis");i=n.y.percentage=(o+n.y.pixels)/r}return Math.max(0,i*r)}return n.newScrollTop},t.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},t}])}(),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(e,t,n,i,r,o){var a={createGrid:function(i){i=i!==void 0?i:{},i.id=e.newId();var r=new o(i);if(r.options.rowTemplate){var l=t.defer();r.getRowTemplateFn=l.promise,e.getTemplate(r.options.rowTemplate).then(function(e){var t=n(e);l.resolve(t)},function(){throw Error("Couldn't fetch/use row template '"+r.options.rowTemplate+"'")})}return r.registerColumnBuilder(a.defaultColumnBuilder),r.registerRowBuilder(a.rowTemplateAssigner),r.registerRowsProcessor(function(e){return e.forEach(function(e){e.visible=!e.forceInvisible}),e}),r.registerColumnsProcessor(function(e){return e.forEach(function(e){e.visible=!0}),e}),r.registerColumnsProcessor(function(e){return e.forEach(function(e){e.colDef.visible===!1&&(e.visible=!1)}),e}),r.options.enableFiltering&&r.registerRowsProcessor(r.searchRows),r.options.externalSort&&angular.isFunction(r.options.externalSort)?r.registerRowsProcessor(r.options.externalSort):r.registerRowsProcessor(r.sortByColumn),r},defaultColumnBuilder:function(n,i){var o=[];return i.providedHeaderCellTemplate=n.headerCellTemplate?n.headerCellTemplate:"ui-grid/uiGridHeaderCell",i.providedCellTemplate=n.cellTemplate?n.cellTemplate:"ui-grid/uiGridCell",i.providedFooterCellTemplate=n.footerCellTemplate?n.footerCellTemplate:"ui-grid/uiGridFooterCell",i.cellTemplatePromise=e.getTemplate(i.providedCellTemplate),o.push(i.cellTemplatePromise.then(function(e){i.cellTemplate=e.replace(r.CUSTOM_FILTERS,i.cellFilter?"|"+i.cellFilter:"")},function(){throw Error("Couldn't fetch/use colDef.cellTemplate '"+n.cellTemplate+"'")})),o.push(e.getTemplate(i.providedHeaderCellTemplate).then(function(e){i.headerCellTemplate=e.replace(r.CUSTOM_FILTERS,i.headerCellFilter?"|"+i.headerCellFilter:"")},function(){throw Error("Couldn't fetch/use colDef.headerCellTemplate '"+n.headerCellTemplate+"'")})),o.push(e.getTemplate(i.providedFooterCellTemplate).then(function(e){i.footerCellTemplate=e.replace(r.CUSTOM_FILTERS,i.footerCellFilter?"|"+i.footerCellFilter:"")},function(){throw Error("Couldn't fetch/use colDef.footerCellTemplate '"+n.footerCellTemplate+"'")})),i.compiledElementFnDefer=t.defer(),t.all(o)},rowTemplateAssigner:function(i){var r=this;if(i.rowTemplate){var o=t.defer();i.getRowTemplateFn=o.promise,e.getTemplate(i.rowTemplate).then(function(e){var t=n(e);o.resolve(t)},function(){throw Error("Couldn't fetch/use row template '"+i.rowTemplate+"'")})}else i.rowTemplate=r.options.rowTemplate,i.getRowTemplateFn=r.getRowTemplateFn;return i.getRowTemplateFn}};return a}])}(),function(){function e(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var t=angular.module("ui.grid");t.service("rowSearcher",["gridUtil","uiGridConstants",function(t,n){var i=n.filter.STARTS_WITH,r={};return r.getTerm=function(e){if(e.term===void 0)return e.term;var t=e.term;return"string"==typeof t&&(t=t.trim()),t},r.stripTerm=function(t){var n=r.getTerm(t);return"string"==typeof n?e(n.replace(/(^\*|\*$)/g,"")):n},r.guessCondition=function(e){if(e.term===void 0||!e.term)return i;var t=r.getTerm(e);if(/\*/.test(t)){var n="";e.flags&&e.flags.caseSensitive||(n+="i");var o=t.replace(/(\\)?\*/g,function(e,t){return t?e:"[\\s\\S]*?"});return RegExp("^"+o+"$",n)}return i},r.setupFilters=function(e){for(var t=[],i=e.length,o=0;i>o;o++){var a=e[o];if(a.noTerm||a.term){var l={},s="";a.flags&&a.flags.caseSensitive||(s+="i"),a.term&&(l.term=r.stripTerm(a)),l.condition=a.condition?a.condition:r.guessCondition(a),l.flags=angular.extend({caseSensitive:!1},a.flags),l.condition===n.filter.STARTS_WITH&&(l.startswithRE=RegExp("^"+l.term,s)),l.condition===n.filter.ENDS_WITH&&(l.endswithRE=RegExp(l.term+"$",s)),l.condition===n.filter.CONTAINS&&(l.containsRE=RegExp(l.term,s)),l.condition===n.filter.EXACT&&(l.exactRE=RegExp("^"+l.term+"$",s)),t.push(l)}}return t},r.runColumnFilter=function(e,t,i,r){var o=typeof r.condition,a=r.term,l=e.getCellValue(t,i);if(r.condition instanceof RegExp)return r.condition.test(l);if("function"===o)return r.condition(a,l,t,i);if(r.startswithRE)return r.startswithRE.test(l);if(r.endswithRE)return r.endswithRE.test(l);if(r.containsRE)return r.containsRE.test(l);if(r.exactRE)return r.exactRE.test(l);if(r.condition===n.filter.NOT_EQUAL){var s=RegExp("^"+a+"$");return!s.exec(l)}if("number"==typeof l){var u=parseFloat(a.replace(/\\./,"."));isNaN(u)||(a=u)}return r.condition===n.filter.GREATER_THAN?l>a:r.condition===n.filter.GREATER_THAN_OR_EQUAL?l>=a:r.condition===n.filter.LESS_THAN?a>l:r.condition===n.filter.LESS_THAN_OR_EQUAL?a>=l:!0},r.searchColumn=function(e,t,n,i){if(e.options.useExternalFiltering)return!0;for(var o=i.length,a=0;o>a;a++){var l=i[a],s=r.runColumnFilter(e,t,n,l);if(!s)return!1}return!0},r.search=function(e,t,n){if(t){for(var i=[],o=n.length,a=0;o>a;a++){var l=n[a];l.filters!==void 0&&(l.filters.length>1||1===l.filters.length&&(l.filters[0].term!==void 0&&l.filters[0].term||l.filters[0].noTerm))?i.push({col:l,filters:r.setupFilters(l.filters)}):l.filter!==void 0&&l.filter&&(l.filter.term!==void 0&&l.filter.term||l.filter.noTerm)&&i.push({col:l,filters:r.setupFilters([l.filter])})}if(i.length>0){for(var s=function(e,t,n,i){(t.forceInvisible||!r.searchColumn(e,t,n,i))&&(t.visible=!1)},u=function(e,n){for(var i=t.length,r=0;i>r;r++)s(e,t[r],n.col,n.filters)},c=i.length,d=0;c>d;d++)u(e,i[d]);e.api.core.raise.rowsVisibleChanged&&e.api.core.raise.rowsVisibleChanged()}return t}},r}])}(),function(){var e=angular.module("ui.grid");e.service("rowSorter",["$parse","uiGridConstants",function(e,t){var n="("+t.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?";RegExp("^[-+]?"+n+"[\\d,.]+"+n+"%?$");var i={colSortFnCache:[]};return i.guessSortFn=function(e){switch(e){case"number":return i.sortNumber;case"boolean":return i.sortBool;case"string":return i.sortAlpha;case"date":return i.sortDate;case"object":return i.basicSort;default:throw Error("No sorting function found for type:"+e)}},i.handleNulls=function(e,t){if(!e&&0!==e&&e!==!1||!t&&0!==t&&t!==!1){if(!e&&0!==e&&e!==!1&&!t&&0!==t&&t!==!1)return 0;if(!e&&0!==e&&e!==!1)return 1;if(!t&&0!==t&&t!==!1)return-1}return null},i.basicSort=function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e===t?0:t>e?-1:1},i.sortNumber=function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e-t},i.sortNumberStr=function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;var r,o,a=!1,l=!1;return r=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(r)&&(a=!0),o=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(o)&&(l=!0),a&&l?0:a?1:l?-1:r-o},i.sortAlpha=function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;var r=(""+e).toLowerCase(),o=(""+t).toLowerCase();return r===o?0:o>r?-1:1},i.sortDate=function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;var r=e.getTime(),o=t.getTime();return r===o?0:o>r?-1:1},i.sortBool=function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e&&t?0:e||t?e?1:-1:0},i.getSortFn=function(e,t){var n;return i.colSortFnCache[t.colDef.name]?n=i.colSortFnCache[t.colDef.name]:void 0!==t.sortingAlgorithm?(n=t.sortingAlgorithm,i.colSortFnCache[t.colDef.name]=t.sortingAlgorithm):(n=i.guessSortFn(t.colDef.type),n?i.colSortFnCache[t.colDef.name]=n:n=i.sortAlpha),n},i.prioritySort=function(e,t){return void 0!==e.sort.priority&&void 0!==t.sort.priority?e.sort.priority<t.sort.priority?-1:e.sort.priority===t.sort.priority?0:1:e.sort.priority||0===e.sort.priority?-1:t.sort.priority||0===t.sort.priority?1:0},i.sort=function(e,n,r){if(n){if(e.options.useExternalSorting)return n;var o=[];if(r.forEach(function(e){e.sort&&e.sort.direction&&(e.sort.direction===t.ASC||e.sort.direction===t.DESC)&&o.push(e)}),o=o.sort(i.prioritySort),0===o.length)return n;var a,l,s=n.slice(0);angular.forEach(n,function(e,t){e.entity.$uiGridIndex=t});var u=n.sort(function(n,r){for(var u,c=0,d=0;0===c&&o.length>d;){a=o[d],l=o[d].sort.direction,u=i.getSortFn(e,a,s);var p=e.getCellValue(n,a),g=e.getCellValue(r,a);c=u(p,g),d++}return 0===c?n.entity.$uiGridIndex-r.entity.$uiGridIndex:l===t.ASC?c:0-c});return angular.forEach(u,function(e){delete e.entity.$uiGridIndex}),u}},i}])}(),function(){function e(e){var t=e;return t.length!==void 0&&t.length&&(t=e[0]),t.ownerDocument.defaultView.getComputedStyle(t,null)}function t(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0,l=["Top","Right","Bottom","Left"];4>o;o+=2){var s=l[o];if("margin"===n){var u=parseFloat(r[n+s]);isNaN(u)||(a+=u)}if(i){if("content"===n){var c=parseFloat(r["padding"+s]);isNaN(c)||(a-=c)}if("margin"!==n){var d=parseFloat(r["border"+s+"Width"]);isNaN(d)||(a-=d)}}else{var p=parseFloat(r["padding"+s]);if(isNaN(p)||(a+=p),"padding"!==n){var g=parseFloat(r["border"+s+"Width"]);isNaN(g)||(a+=g)}}}return a}function n(n,i,o){var a,l=!0,s=e(n),u="border-box"===s.boxSizing;if(0>=a||null==a){if(a=s[i],(0>a||null==a)&&(a=n.style[i]),r.test(a))return a;l=u&&true,a=parseFloat(a)||0}var c=a+t(n,i,o||(u?"border":"content"),l,s);return c}var i=angular.module("ui.grid"),r=RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),o=/^(block|none|table(?!-c[ea]).+)/,a={position:"absolute",visibility:"hidden",display:"block"},l=["0","0","0"],s="uiGrid-";i.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$injector","$q","$interpolate","uiGridConstants",function(t,i,r,u,c,d,p,g,f,h){var m={getStyles:e,createBoundedWrapper:function(e,t){return function(){return t.apply(e,arguments)}},readableColumnName:function(e){return e===void 0||void 0===e||null===e?e:("string"!=typeof e&&(e+=""),e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return angular.lowercase(angular.uppercase(e.charAt(0))+e.slice(1))}).replace(/(\w+)/g,function(e){return angular.uppercase(e.charAt(0))+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(e,t){var n=[];if(!e||e[0]===void 0||void 0===e[0])return[];angular.isUndefined(t)&&(t=[]);var i=e[0];return angular.forEach(i,function(e,i){-1===t.indexOf(i)&&n.push({name:i})}),n},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),getTemplate:function(e){if(c.get(e))return m.postProcessTemplate(c.get(e));if(e.hasOwnProperty("then"))return e.then(m.postProcessTemplate);try{if(angular.element(e).length>0)return g.when(e).then(m.postProcessTemplate)}catch(t){}return m.logDebug("fetching url",e),u({method:"GET",url:e}).then(function(t){var n=t.data.trim();return c.put(e,n),n},function(t){throw Error("Could not get template "+e+": "+t)}).then(m.postProcessTemplate)},postProcessTemplate:function(e){var t=f.startSymbol(),n=f.endSymbol();return("{{"!==t||"}}"!==n)&&(e=e.replace(/\{\{/g,t),e=e.replace(/\}\}/g,n)),g.when(e)},guessType:function(e){var t=typeof e;switch(t){case"number":case"boolean":case"string":return t;default:return angular.isDate(e)?"date":"object"}},elementWidth:function(){},elementHeight:function(){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var i=n.offsetWidth;return e.parentNode.removeChild(e),t-i},swap:function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r},fakeElement:function(e,t,n){var i,r,o=angular.element(e).clone()[0];for(r in t)o.style[r]=t[r];return angular.element(document.body).append(o),i=n.call(o,o),angular.element(o).remove(),i},normalizeWheelEvent:function(e){var t,n,i,r=e||window.event,o=([].slice.call(arguments,1),0),a=0,l=0,s=0,u=0;return r.originalEvent&&(r=r.originalEvent),r.wheelDelta&&(o=r.wheelDelta),r.detail&&(o=-1*r.detail),l=o,void 0!==r.axis&&r.axis===r.HORIZONTAL_AXIS&&(l=0,a=-1*o),r.deltaY&&(l=-1*r.deltaY,o=l),r.deltaX&&(a=r.deltaX,o=-1*a),void 0!==r.wheelDeltaY&&(l=r.wheelDeltaY),void 0!==r.wheelDeltaX&&(a=r.wheelDeltaX),s=Math.abs(o),(!t||t>s)&&(t=s),u=Math.max(Math.abs(l),Math.abs(a)),(!n||n>u)&&(n=u),i=o>0?"floor":"ceil",o=Math[i](o/t),a=Math[i](a/n),l=Math[i](l/n),{delta:o,deltaX:a,deltaY:l}},isTouchEnabled:function(){var e;return("ontouchstart"in i||i.DocumentTouch&&r instanceof DocumentTouch)&&(e=!0),e},isNullOrUndefined:function(e){return void 0===e||null===e?!0:!1},endsWith:function(e,t){return e&&t&&"string"==typeof e?-1!==e.indexOf(t,e.length-t.length):!1},arrayContainsObjectWithProperty:function(e,t,n){var i=!1;return angular.forEach(e,function(e){e[t]===n&&(i=!0)}),i},requestAnimationFrame:i.requestAnimationFrame&&i.requestAnimationFrame.bind(i)||i.webkitRequestAnimationFrame&&i.webkitRequestAnimationFrame.bind(i)||function(e){return d(e,10,!1)},numericAndNullSort:function(e,t){return null===e?1:null===t?-1:null===e&&null===t?0:e-t},disableAnimations:function(e){var t;try{t=p.get("$animate"),t.enabled(!1,e)}catch(n){}},enableAnimations:function(e){var t;try{return t=p.get("$animate"),t.enabled(!0,e),t}catch(n){}},nextUid:function(){for(var e,t=l.length;t;){if(t--,e=l[t].charCodeAt(0),57===e)return l[t]="A",s+l.join("");if(90!==e)return l[t]=String.fromCharCode(e+1),s+l.join("");l[t]="0"}return l.unshift("0"),s+l.join("")},hashKey:function(e){var t,n=typeof e;return"object"===n&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():e.$$hashKey!==void 0&&e.$$hashKey?t=e.$$hashKey:void 0===t&&(t=e.$$hashKey=m.nextUid()):t=e,n+":"+t},resetUids:function(){l=["0","0","0"]},logError:function(e){h.LOG_ERROR_MESSAGES&&t.error(e)},logWarn:function(e){h.LOG_WARN_MESSAGES&&t.warn(e)},logDebug:function(){h.LOG_DEBUG_MESSAGES&&t.debug.apply(t,arguments)}};return["width","height"].forEach(function(t){var i=angular.uppercase(t.charAt(0))+t.substr(1);m["element"+i]=function(i,r){var l=i;if(l&&l.length!==void 0&&l.length&&(l=i[0]),l){var s=e(l);return 0===l.offsetWidth&&o.test(s.display)?m.fakeElement(l,a,function(e){return n(e,t,r)}):n(l,t,r)}return null},m["outerElement"+i]=function(e,t){return e?m["element"+i].call(this,e,t?"margin":"border"):null}}),m.closestElm=function(e,t){e.length!==void 0&&e.length&&(e=e[0]);var n;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]?(n=e,!0):!1});for(var i;null!==e;){if(i=e.parentElement,null!==i&&i[n](t))return i;e=i}return null},m.type=function(e){var t=Function.prototype.toString.call(e.constructor);return t.match(/function (.*?)\(/)[1]},m.getBorderSize=function(t,n){t.length!==void 0&&t.length&&(t=t[0]);var i=e(t);n=n?"border"+n.charAt(0).toUpperCase()+n.slice(1):"border",n+="Width";var r=parseInt(i[n],10);return isNaN(r)?0:r},m.detectBrowser=function(){var e=i.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var n in t)if(t[n].test(e))return n;return"unknown"},m.normalizeScrollLeft=function(e){e.length!==void 0&&e.length&&(e=e[0]);var t=m.detectBrowser(),n=e.scrollLeft,i=m.getStyles(e).direction;if("ie"===t)return n;if("chrome"===t){if("rtl"===i){var r=e.scrollWidth-e.clientWidth;return r-n}return n}return"firefox"===t?Math.abs(n):n},m.denormalizeScrollLeft=function(e,t){e.length!==void 0&&e.length&&(e=e[0]);var n=m.detectBrowser(),i=m.getStyles(e).direction;if("ie"===n)return t;if("chrome"===n){if("rtl"===i){var r=e.scrollWidth-e.clientWidth;return r-t}return t}return"firefox"===n?"rtl"===i?-1*t:t:t},m.preEval=function(e){var t=h.BRACKET_REGEXP.exec(e);if(t)return(t[1]?m.preEval(t[1]):t[1])+t[2]+(t[3]?m.preEval(t[3]):t[3]);e=e.replace(h.APOS_REGEXP,"\\'");var n=e.split(h.DOT_REGEXP),i=[n.shift()];return angular.forEach(n,function(e){i.push(e.replace(h.FUNC_REGEXP,"']$1"))}),i.join("['")},m.debounce=function(e,t,n){function i(){a=this,o=arguments;var i=function(){r=null,n||(l=e.apply(a,o))},s=n&&!r;return r&&d.cancel(r),r=d(i,t),s&&(l=e.apply(a,o)),l}var r,o,a,l;return i.cancel=function(){d.cancel(r),r=null},i},m.throttle=function(e,t,n){function i(){a=+new Date,e.apply(r,o),d(function(){l=null},0)}n=n||{};var r,o,a=0,l=null;return function(){if(r=this,o=arguments,null===l){var e=+new Date-a;e>t?i():n.trailing&&(l=d(i,t-e))}}},m}]),i.filter("px",function(){return function(e){return e.match(/^[\d\.]+$/)?e+"px":e}})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil."},search:{placeholder:"Søg...",showingItems:"Viste rækker:",selectedItems:"Valgte rækker:",totalItems:"Rækker totalt:",size:"Side størrelse:",first:"Første side",next:"Næste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vælg kolonner:"},column:{hide:"Skjul kolonne"},aggregation:{count:"samlede rækker: ",sum:"smalede: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("de",{aggregate:{label:"eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenüberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Einträge:",selectedItems:"Ausgewählte Einträge:",totalItems:"Einträge gesamt:",size:"Einträge pro Seite:",first:"Erste Seite",next:"Nächste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswählen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",remove:"Sortierung zurücksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},gridMenu:{columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als CSV exportieren"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei außer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gültige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthält sie gültiges JSON?",jsonNotArray:"Die importierte JSON-Datei muß ein Array enthalten. Breche Import ab."}}),e
}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("en",{aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{sizes:"items per page",totalItems:"items"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("es",{aggregate:{label:"Artículos"},groupPanel:{description:"Arrastre un encabezado de columna aquí y suéltelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artículos Mostrados:",selectedItems:"Artículos Seleccionados:",totalItems:"Artículos Totales:",size:"Tamaño de Página:",first:"Primera Página",next:"Página Siguiente",previous:"Página Anterior",last:"Última Página"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijación"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar selección como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar selección como pdf"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, ¿tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, ¿contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, ¿es un CSV válido?",invalidJson:"No fue posible procesar el archivo, ¿es un Json válido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fa",{aggregate:{label:"موردها"},groupPanel:{description:"یک عنوان ستون اینجا را بردار و به گروهی از آن ستون بیانداز."},search:{placeholder:"جستجو...",showingItems:"نمایش موردها:",selectedItems:"موردهای انتخاب‌شده:",totalItems:"همهٔ موردها:",size:"اندازهٔ صفحه:",first:"صفحهٔ اول",next:"صفحهٔ بعد",previous:"صفحهٔ قبل",last:"آخرین صفحه"},menu:{text:"انتخاب ستون‌ها:"},column:{hide:"ستون پنهان کن"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko tähän ryhmittääksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Näytetään rivejä:",selectedItems:"Valitut rivit:",totalItems:"Rivejä yht.:",size:"Näytä:",first:"Ensimmäinen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Järjestä nouseva",descending:"Järjestä laskeva",remove:"Poista järjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivejä yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie näkyvä tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie näkyvä tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa"},importer:{noHeaders:"Sarakkeen nimiä ei voitu päätellä, onko tiedostossa otsikkoriviä?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu käsitellä, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu käsitellä, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisältänyt taulukkoa, lopetetaan."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fr",{aggregate:{label:"articles"},groupPanel:{description:"Faites glisser un en-tête de colonne ici et déposez-le vers un groupe par cette colonne."},search:{placeholder:"Recherche...",showingItems:"Articles Affichage des:",selectedItems:"Éléments Articles:",totalItems:"Nombre total d'articles:",size:"Taille de page:",first:"Première page",next:"Page Suivante",previous:"Page précédente",last:"Dernière page"},menu:{text:"Choisir des colonnes:"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre décroissant",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"total lignes: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Épingler à gauche",pinRight:"Épingler à droite",unpin:"Détacher"},gridMenu:{columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les données en CSV",exporterVisibleAsCsv:"Exporter les données visibles en CSV",exporterSelectedAsCsv:"Exporter les données sélectionnées en CSV",exporterAllAsPdf:"Exporter toutes les données en PDF",exporterVisibleAsPdf:"Exporter les données visibles en PDF",exporterSelectedAsPdf:"Exporter les données sélectionnées en PDF"},importer:{noHeaders:"Impossible de déterminer le nom des colonnes, le fichier possède-t-il un en-tête ?",noObjects:"Aucun objet trouvé, le fichier possède-t-il des données autres que l'en-tête ?",invalidCsv:"Le fichier n'a pas pu être traité, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu être traité, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON importé doit contenir un tableau. Abandon."},pagination:{sizes:"articles par page",totalItems:"articles"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("he",{aggregate:{label:"items"},groupPanel:{description:"גרור עמודה לכאן ושחרר בכדי לקבץ עמודה זו."},search:{placeholder:"חפש...",showingItems:"מציג:",selectedItems:'סה"כ נבחרו:',totalItems:'סה"כ רשומות:',size:"תוצאות בדף:",first:"דף ראשון",next:"דף הבא",previous:"דף קודם",last:"דף אחרון"},menu:{text:"בחר עמודות:"},sort:{ascending:"סדר עולה",descending:"סדר יורד",remove:"בטל"},column:{hide:"טור הסתר"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ja",{aggregate:{label:"件"},groupPanel:{description:"列名部分をここにドラッグアンドドロップすることで列ごとにグループ分けを行うことができます。"},search:{placeholder:"検索...",showingItems:"絞込み件数:",selectedItems:"選択件数:",totalItems:"全件数:",size:"ページサイズ: ",first:"最初のページ",next:"次のページ",previous:"前のページ",last:"最後のページ"},menu:{text:"列選択:"},sort:{ascending:"昇順ソート",descending:"降順ソート",remove:"ソート取消"},column:{hide:"列を隠す"},aggregation:{count:"合計件数: ",sum:"合計: ",avg:"平均: ",min:"最小値: ",max:"最大値: "},pinning:{pinLeft:"左にピン留め",pinRight:"右にピン留め",unpin:"ピン留め取消"},gridMenu:{columns:"列:",importerTitle:"インポートファイル",exporterAllAsCsv:"全てのデータをCSV形式でエクスポート",exporterVisibleAsCsv:"絞込み済みデータをCSV形式でエクスポート",exporterSelectedAsCsv:"選択しているデータをCSV形式でエクスポート",exporterAllAsPdf:"全てのデータをPDFでエクスポート",exporterVisibleAsPdf:"絞込み済みデータをPDFでエクスポート",exporterSelectedAsPdf:"選択しているデータをPDFでエクスポート"},importer:{noHeaders:"列名が抽出できません。ヘッダーは設定されていますか？",noObjects:"データが抽出できません。ファイルにデータは含まれていますか？",invalidCsv:"処理を行うことができません。ファイルは有効なCSVファイルですか？",invalidJson:"処理を行うことができません。ファイルは有効なJSONファイルですか？",jsonNotArray:"JSONファイルは配列を含んでいる必要があります。処理を中断します。"},pagination:{sizes:"件 / ページ",totalItems:"件"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt-br",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},gridMenu:{columns:"Colunas:",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O arquivo tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no arquivo, além dos cabeçalhos?",invalidCsv:"Arquivo não pode ser processado. É um CSV válido?",invalidJson:"Arquivo não pode ser processado. É um Json válido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ru",{aggregate:{label:"элементы"},groupPanel:{description:"Для группировки по столбцу перетащите сюда его название."},search:{placeholder:"Поиск...",showingItems:"Показать элементы:",selectedItems:"Выбранные элементы:",totalItems:"Всего элементов:",size:"Размер страницы:",first:"Первая страница",next:"Следующая страница",previous:"Предыдущая страница",last:"Последняя страница"},menu:{text:"Выбрать столбцы:"},sort:{ascending:"По возрастанию",descending:"По убыванию",remove:"Убрать сортировку"},column:{hide:"спрятать столбец"},aggregation:{count:"всего строк: ",sum:"итого: ",avg:"среднее: ",min:"мин: ",max:"макс: "},gridMenu:{columns:"Столбцы:",importerTitle:"Import file",exporterAllAsCsv:"Экспортировать всё в CSV",exporterVisibleAsCsv:"Экспортировать видимые данные в CSV",exporterSelectedAsCsv:"Экспортировать выбранные данные в CSV",exporterAllAsPdf:"Экспортировать всё в PDF",exporterVisibleAsPdf:"Экспортировать видимые данные в PDF",exporterSelectedAsPdf:"Экспортировать выбранные данные в PDF"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem názov stĺpca pre zoskupenie podľa toho stĺpca."},search:{placeholder:"Hľadaj...",showingItems:"Zobrazujem položky:",selectedItems:"Vybraté položky:",totalItems:"Počet položiek:",size:"Počet:",first:"Prvá strana",next:"Ďalšia strana",previous:"Predchádzajúca strana",last:"Posledná strana"},menu:{text:"Vyberte stĺpce:"},sort:{ascending:"Zotriediť vzostupne",descending:"Zotriediť zostupne",remove:"Vymazať triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och släpp den för att gruppera efter den kolumnen."},search:{placeholder:"Sök...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Första sidan",next:"Nästa sida",previous:"Föregående sida",last:"Sista sidan"},menu:{text:"Välj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Göm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fäst vänster",pinRight:"Fäst höger",unpin:"Lösgör"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF"},importer:{noHeaders:"Kolumnnamn kunde inte härledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte härledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, är den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, är den en giltig JSON?",jsonNotArray:"Importerad JSON-fil måste innehålla ett fält. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),e}])}])}(),function(){var e=["uiT","uiTranslate"],t=["t","uiTranslate"],n=angular.module("ui.grid.i18n");n.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),n.service("i18nService",["$log","i18nConstants","$rootScope",function(e,t,n){var i={_langs:{},current:null,get:function(e){return this._langs[e.toLowerCase()]},add:function(e,t){var n=e.toLowerCase();this._langs[n]||(this._langs[n]={}),angular.extend(this._langs[n],t)},getAllLangs:function(){var e=[];if(!this._langs)return e;for(var t in this._langs)e.push(t);return e},setCurrent:function(e){this.current=e.toLowerCase()},getCurrentLang:function(){return this.current}},r={add:function(e,t){"object"==typeof e?angular.forEach(e,function(e){e&&i.add(e,t)}):i.add(e,t)},getAllLangs:function(){return i.getAllLangs()},get:function(e){var t=e?e:r.getCurrentLang();return i.get(t)},getSafeText:function(e,n){var o=n?n:r.getCurrentLang(),a=i.get(o);if(!a)return t.MISSING;for(var l=e.split("."),s=a,u=0;l.length>u;++u){if(void 0===s[l[u]]||null===s[l[u]])return t.MISSING;s=s[l[u]]}return s},setCurrentLang:function(e){e&&(i.setCurrent(e),n.$broadcast(t.UPDATE_EVENT))},getCurrentLang:function(){var e=i.getCurrentLang();return e||(e=t.DEFAULT_LANG,i.setCurrent(e)),e}};return r}]);var i=function(e,t){return{compile:function(){return{pre:function(n,i,r){var o=t.LOCALE_DIRECTIVE_ALIAS,a=n.$eval(r[o]);a?n.$watch(r[o],function(){e.setCurrentLang(a)}):r.$$observers&&r.$observe(o,function(){e.setCurrentLang(r[o]||t.DEFAULT_LANG)})}}}}};n.directive("uiI18n",["i18nService","i18nConstants",i]);var r=function(t,n,i){return{restrict:"EA",compile:function(){return{pre:function(r,o,a){var l,s=e[0],u=e[1],c=a[s]||a[u]||o.html(),d=i.MISSING+c;if(a.$$observers){var p=a[s]?s:u;l=a.$observe(p,function(e){e&&o.html(t(e)(n.getCurrentLang())||d)})}var g=t(c),f=r.$on(i.UPDATE_EVENT,function(){l?l(a[s]||a[u]):o.html(g(n.get())||d)});r.$on("$destroy",f),o.html(g(n.get())||d)}}}}};angular.forEach(e,function(e){n.directive(e,["$parse","i18nService","i18nConstants",r])});var o=function(e,t,n){return function(i){var r=e(i);return r(t.get())||n.MISSING+i}};angular.forEach(t,function(e){n.filter(e,["$parse","i18nService","i18nConstants",o])})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-cn",{aggregate:{label:"行"},groupPanel:{description:"拖曳表头到此处进行分组"},search:{placeholder:"查找",showingItems:"已显示行数：",selectedItems:"已选择行数：",totalItems:"总行数：",size:"每页显示行数：",first:"首页",next:"下一页",previous:"上一页",last:"末页"},menu:{text:"选择列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隐藏列"},aggregation:{count:"计数：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左侧固定",pinRight:"右侧固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"导入文件",exporterAllAsCsv:"导出全部数据到CSV",exporterVisibleAsCsv:"导出可见数据到CSV",exporterSelectedAsCsv:"导出已选数据到CSV",exporterAllAsPdf:"导出全部数据到PDF",exporterVisibleAsPdf:"导出可见数据到PDF",exporterSelectedAsPdf:"导出已选数据到PDF"},importer:{noHeaders:"无法获取列名，确定文件包含表头？",noObjects:"无法获取数据，确定文件包含数据？",invalidCsv:"无法处理文件，确定是合法的CSV文件？",invalidJson:"无法处理文件，确定是合法的JSON文件？",jsonNotArray:"导入的文件不是JSON数组！"},pagination:{sizes:"行每页",totalItems:"行"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-tw",{aggregate:{label:"行"},groupPanel:{description:"拖曳表頭到此處進行分組"},search:{placeholder:"查找",showingItems:"已顯示行數：",selectedItems:"已選擇行數：",totalItems:"總行數：",size:"每頁顯示行數：",first:"首頁",next:"下壹頁",previous:"上壹頁",last:"末頁"},menu:{text:"選擇列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隱藏列"},aggregation:{count:"計數：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左側固定",pinRight:"右側固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"導入文件",exporterAllAsCsv:"導出全部數據到CSV",exporterVisibleAsCsv:"導出可見數據到CSV",exporterSelectedAsCsv:"導出已選數據到CSV",exporterAllAsPdf:"導出全部數據到PDF",exporterVisibleAsPdf:"導出可見數據到PDF",exporterSelectedAsPdf:"導出已選數據到PDF"},importer:{noHeaders:"無法獲取列名，確定文件包含表頭？",noObjects:"無法獲取數據，確定文件包含數據？",invalidCsv:"無法處理文件，確定是合法的CSV文件？",invalidJson:"無法處理文件，確定是合法的JSON文件？",jsonNotArray:"導入的文件不是JSON數組！"},pagination:{sizes:"行每頁",totalItems:"行"}}),e}])}])}(),function(){"use strict";var e=angular.module("ui.grid.autoResize",["ui.grid"]);e.directive("uiGridAutoResize",["$timeout","gridUtil",function(e,t){return{require:"uiGrid",scope:!1,link:function(e,n,i,r){function o(){s=t.elementHeight(n),l=t.elementWidth(n)}function a(){clearTimeout(u),u=setTimeout(function(){var i=t.elementHeight(n),u=t.elementWidth(n);i!==s||u!==l?(r.grid.gridHeight=i,r.grid.gridWidth=u,e.$apply(function(){r.grid.refresh().then(function(){o(),a()})})):a()},250)}var l,s;o();var u;a(),e.$on("$destroy",function(){clearTimeout(u)})}}}])}(),function(){"use strict";function e(e,t){this.row=e,this.col=t}var t=angular.module("ui.grid.cellNav",["ui.grid"]);t.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1}}),t.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q",function(t,n,i){var r=function r(e,t,n,i){this.rows=e.visibleRowCache,this.columns=t.visibleColumnCache,this.leftColumns=n?n.visibleColumnCache:[],this.rightColumns=i?i.visibleColumnCache:[],this.bodyContainer=e};return r.prototype.getFocusableCols=function(){var e=this.leftColumns.concat(this.columns,this.rightColumns);return e.filter(function(e){return e.colDef.allowCellFocus})},r.prototype.getFocusableRows=function(){return this.rows.filter(function(e){return e.allowCellFocus!==!1})},r.prototype.getNextRowCol=function(e,t,n){switch(e){case i.direction.LEFT:return this.getRowColLeft(t,n);case i.direction.RIGHT:return this.getRowColRight(t,n);case i.direction.UP:return this.getRowColUp(t,n);case i.direction.DOWN:return this.getRowColDown(t,n);case i.direction.PG_UP:return this.getRowColPageUp(t,n);case i.direction.PG_DOWN:return this.getRowColPageDown(t,n)}},r.prototype.getRowColLeft=function(t,n){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(n),a=r.indexOf(t);-1===o&&(o=1);var l=0===o?i.length-1:o-1;return l>o?0===a?new e(t,i[l]):new e(r[a-1],i[l]):new e(t,i[l])},r.prototype.getRowColRight=function(t,n){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(n),a=r.indexOf(t);-1===o&&(o=0);var l=o===i.length-1?0:o+1;return o>l?a===r.length-1?new e(t,i[l]):new e(r[a+1],i[l]):new e(t,i[l])},r.prototype.getRowColDown=function(t,n){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(n),a=r.indexOf(t);return-1===o&&(o=0),a===r.length-1?new e(t,i[o]):new e(r[a+1],i[o])},r.prototype.getRowColPageDown=function(t,n){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(n),a=r.indexOf(t);-1===o&&(o=0);var l=this.bodyContainer.minRowsToRender();return a>=r.length-l?new e(r[r.length-1],i[o]):new e(r[a+l],i[o])},r.prototype.getRowColUp=function(t,n){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(n),a=r.indexOf(t);return-1===o&&(o=0),0===a?new e(t,i[o]):new e(r[a-1],i[o])},r.prototype.getRowColPageUp=function(t,n){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(n),a=r.indexOf(t);-1===o&&(o=0);var l=this.bodyContainer.minRowsToRender();return 0>a-l?new e(r[0],i[o]):new e(r[a-l],i[o])},r}]),t.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","ScrollEvent",function(e,t,n,i,r,o){var a={initializeGrid:function(e){e.registerColumnBuilder(a.cellNavColumnBuilder),e.cellNav={},e.cellNav.lastRowCol=null,e.cellNav.focusedCells=[],a.defaultGridOptions(e.options);var t={events:{cellNav:{navigate:function(){}}},methods:{cellNav:{scrollTo:function(t,n){a.scrollTo(e,t,n)},scrollToFocus:function(t,n){a.scrollToFocus(e,t,n)},scrollToIfNecessary:function(t,n){a.scrollToIfNecessary(e,t,n)},getFocusedCell:function(){return e.cellNav.lastRowCol},getCurrentSelection:function(){return e.cellNav.focusedCells},rowColSelectIndex:function(t){for(var n=-1,i=0;e.cellNav.focusedCells.length>i;i++)if(e.cellNav.focusedCells[i].col.uid===t.col.uid&&e.cellNav.focusedCells[i].row.uid===t.row.uid){n=i;break}return n}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.modifierKeysToMultiSelectCells=e.modifierKeysToMultiSelectCells===!0},decorateRenderContainers:function(e){var t=e.hasRightContainer()?e.renderContainers.right:null,n=e.hasLeftContainer()?e.renderContainers.left:null;null!==n&&(e.renderContainers.left.cellNav=new r(e.renderContainers.body,n,t,e.renderContainers.body)),null!==t&&(e.renderContainers.right.cellNav=new r(e.renderContainers.body,t,e.renderContainers.body,n)),e.renderContainers.body.cellNav=new r(e.renderContainers.body,e.renderContainers.body,n,t)},getDirection:function(e){return e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey?n.direction.LEFT:e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB?n.direction.RIGHT:e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey?n.direction.UP:e.keyCode===t.keymap.PG_UP?n.direction.PG_UP:e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER?n.direction.DOWN:e.keyCode===t.keymap.PG_DOWN?n.direction.PG_DOWN:null},cellNavColumnBuilder:function(e){var t=[];return e.allowCellFocus=void 0===e.allowCellFocus?!0:e.allowCellFocus,i.all(t)},scrollTo:function(e,t,n){var i=null,r=null;null!==t&&t!==void 0&&(i=e.getRow(t)),null!==n&&n!==void 0&&(r=e.getColumn(n.name?n.name:n.field)),this.scrollToInternal(e,i,r)},scrollToFocus:function(e,t,n){var i=null,r=null;null!==t&&(i=e.getRow(t)),null!==n&&(r=e.getColumn(n.name?n.name:n.field)),this.scrollToInternal(e,i,r);var o={row:i,col:r};e.cellNav.broadcastCellNav(o)},scrollToInternal:function(e,t,n){var i=new o(e,null,null,"uiGridCellNavService.scrollToInternal");if(null!==t){var r=e.renderContainers.body.visibleRowCache.indexOf(t),a=e.renderContainers.body.visibleRowCache.length,l=(r+r/(a-1))/a;i.y={percentage:l}}null!==n&&(i.x={percentage:this.getLeftWidth(e,n)/this.getLeftWidth(e,e.renderContainers.body.visibleColumnCache[e.renderContainers.body.visibleColumnCache.length-1])}),(i.y||i.x)&&i.fireScrollingEvent()},scrollToIfNecessary:function(e,t,n){var i=new o(e,"uiGridCellNavService.scrollToIfNecessary"),r=e.renderContainers.body.visibleRowCache,a=e.renderContainers.body.visibleColumnCache,l=e.renderContainers.body.prevScrollTop+e.headerHeight;l=0>l?0:l;var s=e.renderContainers.body.prevScrollLeft,u=e.renderContainers.body.prevScrollTop+e.gridHeight-e.headerHeight,c=e.renderContainers.body.prevScrollLeft+Math.ceil(e.gridWidth);if(null!==t){var d=r.indexOf(t),p=e.renderContainers.body.getCanvasHeight()-e.renderContainers.body.getViewportHeight(),g=(d+1)*e.options.rowHeight;g=0>g?0:g;var f,h;l>g?(f=e.renderContainers.body.prevScrollTop-(l-g),h=f/p,i.y={percentage:h}):g>u&&(f=g-u+e.renderContainers.body.prevScrollTop,h=f/p,i.y={percentage:h})}if(null!==n){for(var m=a.indexOf(n),v=e.renderContainers.body.getCanvasWidth()-e.renderContainers.body.getViewportWidth(),w=0,b=0;m>b;b++){var C=a[b];w+=C.drawnWidth}w=0>w?0:w;var y=w+n.drawnWidth;y=0>y?0:y;var x,S;s>w?(x=e.renderContainers.body.prevScrollLeft-(s-w),S=x/v,S=S>1?1:S,i.x={percentage:S}):y>c&&(x=y-c+e.renderContainers.body.prevScrollLeft,S=x/v,S=S>1?1:S,i.x={percentage:S})}(i.y||i.x)&&i.fireScrollingEvent()},getLeftWidth:function(e,t){var n=0;if(!t)return n;var i=e.renderContainers.body.visibleColumnCache.indexOf(t);e.renderContainers.body.visibleColumnCache.forEach(function(e,t){i>t&&(n+=e.drawnWidth)});var r=0===i?0:(i+1)/e.renderContainers.body.visibleColumnCache.length;return n+=t.drawnWidth*r}};return a}]),t.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants",function(t,n,i){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(t,r,o,a){var l=t,s=a.grid;
n.initializeGrid(s),a.cellNav={},a.cellNav.focusCell=function(e,t){a.cellNav.broadcastCellNav({row:e,col:t})},a.cellNav.broadcastCellNav=s.cellNav.broadcastCellNav=function(e,t){t=!(void 0===t||!t),a.cellNav.broadcastFocus(e,t),l.$broadcast(i.CELL_NAV_EVENT,e,t)},a.cellNav.broadcastFocus=function(t,n){n=!(void 0===n||!n);var i=t.row,r=t.col,o=a.grid.api.cellNav.rowColSelectIndex(t);if(null===s.cellNav.lastRowCol||-1===o){var l=new e(i,r);s.api.cellNav.raise.navigate(l,s.cellNav.lastRowCol),s.cellNav.lastRowCol=l,a.grid.options.modifierKeysToMultiSelectCells&&n?s.cellNav.focusedCells.push(t):s.cellNav.focusedCells=[t]}else s.options.modifierKeysToMultiSelectCells&&n&&o>=0&&s.cellNav.focusedCells.splice(o,1)},a.cellNav.handleKeyDown=function(e){var t=n.getDirection(e);if(null===t)return!0;var r="body";e.uiGridTargetRenderContainerId&&(r=e.uiGridTargetRenderContainerId);var o=a.grid.api.cellNav.getFocusedCell();if(o){var l=a.grid.renderContainers[r].cellNav.getNextRowCol(t,o.row,o.col);return l.eventType=i.EVENT_TYPE.KEYDOWN,a.cellNav.broadcastCellNav(l),n.scrollToIfNecessary(s,l.row,l.col),e.stopPropagation(),e.preventDefault(),!1}}},post:function(){}}}}}]),t.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants",function(e,t,n,i,r){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(n,i,o,a){var l=a[0],s=a[1];if(l.grid.api.cellNav){var u=s.containerId,c=l.grid;r.decorateRenderContainers(c),i.attr("tabindex",-1),i.on("keydown",function(e){return e.uiGridTargetRenderContainerId=u,l.cellNav.handleKeyDown(e)});var d=!1;c.api.core.on.scrollEvent(n,function(n){n.grid&&n.grid.id!==l.grid.id||null!=l.grid.api.cellNav.getFocusedCell()&&("uiGridCellNavService.scrollToIfNecessary"===n.source?d=!0:d&&e(function(){e(function(){var e=l.grid.api.cellNav.getFocusedCell();t.activeElement===t.body&&i[0].focus(),l.cellNav.broadcastCellNav(e),d=!1})}))})}}}}}}]),t.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants",function(t,n,i,r,o){return{priority:-150,restrict:"A",require:"^uiGrid",scope:!1,link:function(t,n,i,r){function a(){n.find("div").attr("tabindex",-1)}function l(){var e=n.find("div");e.addClass("ui-grid-cell-focus")}function s(){var e=n.find("div");e.removeClass("ui-grid-cell-focus")}r.grid.api.cellNav&&t.col.colDef.allowCellFocus&&(a(),n.find("div").on("click",function(n){r.cellNav.broadcastCellNav(new e(t.row,t.col),n.ctrlKey||n.metaKey),n.stopPropagation()}),t.$on(o.CELL_NAV_EVENT,function(e,i,a){i.row===t.row&&i.col===t.col?(r.grid.options.modifierKeysToMultiSelectCells&&a&&-1===r.grid.api.cellNav.rowColSelectIndex(i)?s():l(),i.hasOwnProperty("eventType")&&i.eventType===o.EVENT_TYPE.KEYDOWN&&n.find("div")[0].focus()):r.grid.options.modifierKeysToMultiSelectCells&&a||s()}),t.$on("$destroy",function(){n.find("div").off("click")}))}}}])}(),function(){"use strict";var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),e.service("uiGridEditService",["$q","$templateCache","uiGridConstants","gridUtil",function(e,t,n,i){var r={initializeGrid:function(e){r.defaultGridOptions(e.options),e.registerColumnBuilder(r.editColumnBuilder);var t={events:{edit:{afterCellEdit:function(){},beginCellEdit:function(){},cancelCellEdit:function(){}}},methods:{edit:{}}};e.api.registerEventsFromObject(t.events)},defaultGridOptions:function(e){e.cellEditableCondition=void 0===e.cellEditableCondition?!0:e.cellEditableCondition,e.enableCellEditOnFocus=void 0===e.enableCellEditOnFocus?!1:e.enableCellEditOnFocus},editColumnBuilder:function(t,n,r){var o=[];return t.enableCellEdit=void 0===t.enableCellEdit?void 0===r.enableCellEdit?"object"!==t.type:r.enableCellEdit:t.enableCellEdit,t.cellEditableCondition=void 0===t.cellEditableCondition?r.cellEditableCondition:t.cellEditableCondition,t.enableCellEdit&&(t.editableCellTemplate=t.editableCellTemplate||r.editableCellTemplate||"ui-grid/cellEditor",o.push(i.getTemplate(t.editableCellTemplate).then(function(e){n.editableCellTemplate=e},function(){throw Error("Couldn't fetch/use colDef.editableCellTemplate '"+t.editableCellTemplate+"'")}))),t.enableCellEditOnFocus=void 0===t.enableCellEditOnFocus?r.enableCellEditOnFocus:t.enableCellEditOnFocus,e.all(o)},isStartEditKey:function(e){return e.keyCode===n.keymap.LEFT||e.keyCode===n.keymap.TAB&&e.shiftKey||e.keyCode===n.keymap.RIGHT||e.keyCode===n.keymap.TAB||e.keyCode===n.keymap.UP||e.keyCode===n.keymap.ENTER&&e.shiftKey||e.keyCode===n.keymap.DOWN||e.keyCode===n.keymap.ENTER?!1:!0}};return r}]),e.directive("uiGridEdit",["gridUtil","uiGridEditService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(r.grid)},post:function(){}}}}}]),e.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService",function(e,t,n,i,r,o,a,l){var s=500;return{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(o,u,c,d){function p(){u.on("dblclick",b),u.on("keydown",v),o.col.colDef.enableCellEditOnFocus&&u.find("div").on("focus",m),u.on("touchstart",g)}function g(e){e.originalEvent!==void 0&&void 0!==e.originalEvent&&(e=e.originalEvent),u.on("touchend",f),T=n(function(){},s),T.then(function(){setTimeout(b,0),u.off("touchend",f)})}function f(){n.cancel(T),u.off("touchend",f)}function h(){u.off("dblclick",b),u.off("keydown",v),o.col.colDef.enableCellEditOnFocus&&u.find("div").off("focus",m),u.off("touchstart",g)}function m(e){d&&d.cellNav&&d.cellNav.focusCell(o.row,o.col),e.stopPropagation(),b()}function v(e){l.isStartEditKey(e)&&b()}function w(e,t){return!t.isSaving&&(angular.isFunction(e.colDef.cellEditableCondition)?e.colDef.cellEditableCondition(o):e.colDef.cellEditableCondition)}function b(){if(!D&&w(o.col,o.row)){o.grid.api.cellNav&&o.grid.api.cellNav.scrollToIfNecessary(o,o.row,o.col),$=a(o.row.getQualifiedColField(o.col)),E=$(o),S=o.col.editableCellTemplate,S=S.replace(i.MODEL_COL_FIELD,o.row.getQualifiedColField(o.col));var t=o.col.colDef.editDropdownFilter?"|"+o.col.colDef.editDropdownFilter:"";S=S.replace(i.CUSTOM_FILTERS,t);var n="text";switch(o.col.colDef.type){case"boolean":n="checkbox";break;case"number":n="number";break;case"date":n="date"}S=S.replace("INPUT_TYPE",n);var l=o.col.colDef.editDropdownRowEntityOptionsArrayPath;o.editDropdownOptionsArray=l?x(o.row.entity,l):o.col.colDef.editDropdownOptionsArray,o.editDropdownIdLabel=o.col.colDef.editDropdownIdLabel?o.col.colDef.editDropdownIdLabel:"id",o.editDropdownValueLabel=o.col.colDef.editDropdownValueLabel?o.col.colDef.editDropdownValueLabel:"value",o.$apply(function(){D=!0,h();var t=angular.element(S);u.append(t),R=o.$new(),e(t)(R);var n=angular.element(u.children()[0]);k=n.hasClass("ui-grid-cell-focus"),n.addClass("ui-grid-cell-contents-hidden")});var s=o.col.grid.api.core.on.scrollEvent(o,function(){C(!0),o.grid.api.edit.raise.afterCellEdit(o.row.entity,o.col.colDef,$(o),E),s(),c(),d()}),c=o.$on(r.events.END_CELL_EDIT,function(e,t){C(t),o.grid.api.edit.raise.afterCellEdit(o.row.entity,o.col.colDef,$(o),E),c(),s(),d()}),d=o.$on(r.events.CANCEL_CELL_EDIT,function(){y(),d(),s(),c()});o.$broadcast(r.events.BEGIN_CELL_EDIT),o.grid.api.edit.raise.beginCellEdit(o.row.entity,o.col.colDef)}}function C(e){if(D){var t=angular.element(u.children()[0]);R.$destroy(),angular.element(u.children()[1]).remove(),t.removeClass("ui-grid-cell-contents-hidden"),e&&k&&t[0].focus(),k=!1,D=!1,p(),o.grid.api.core.notifyDataChange(i.dataChange.EDIT)}}function y(){D&&($.assign(o,E),o.$apply(),o.grid.api.edit.raise.cancelCellEdit(o.row.entity,o.col.colDef),C(!0))}function x(e,t){t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var n=t.split(".");n.length;){var i=n.shift();if(!(i in e))return;e=e[i]}return e}if(o.col.colDef.enableCellEdit&&o.row.enableCellEdit!==!1){var S,E,$,T,R,D=!1,k=!1;p();try{var A=t.get("uiGridCellNavConstants");o.col.colDef.enableCellEditOnFocus&&o.$on(A.CELL_NAV_EVENT,function(e,t){t.row===o.row&&t.col===o.col?b():C()})}catch(P){}}}}}]),e.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants",function(e,t,n){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(){},post:function(e,i,r,o){var a,l;o[0]&&(a=o[0]),o[1]&&(l=o[1]),e.$on(n.events.BEGIN_CELL_EDIT,function(){i[0].focus(),i[0].select(),i.on("blur",function(t){e.stopEdit(t)})}),e.deepEdit=!1,e.stopEdit=function(t){e.inputForm&&!e.inputForm.$valid?(t.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT)):e.$emit(n.events.END_CELL_EDIT),e.deepEdit=!1},i.on("click",function(){e.deepEdit=!0}),i.on("keydown",function(i){switch(i.keyCode){case t.keymap.ESC:i.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT);break;case t.keymap.ENTER:e.stopEdit(i);break;case t.keymap.TAB:e.stopEdit(i)}if(e.deepEdit)switch(i.keyCode){case t.keymap.LEFT:i.stopPropagation();break;case t.keymap.RIGHT:i.stopPropagation();break;case t.keymap.UP:i.stopPropagation();break;case t.keymap.DOWN:i.stopPropagation()}else a&&a.hasOwnProperty("cellNav")&&l&&(i.uiGridTargetRenderContainerId=l.containerId,a.cellNav.handleKeyDown(i));return!0})}}}}}]),e.directive("uiGridEditor",["$filter",function(e){function t(e){if(e===void 0||""===e)return null;var t=e.split("-");if(3!==t.length)return null;var n=parseInt(t[0],10),i=parseInt(t[1],10),r=parseInt(t[2],10);return 1>i||1>n||1>r?null:new Date(n,i-1,r)}return{priority:-100,require:"?ngModel",link:function(n,i,r,o){2===angular.version.minor&&r.type&&"date"===r.type&&o&&(o.$formatters.push(function(t){return o.$setValidity(null,!t||!isNaN(t.getTime())),e("date")(t,"yyyy-MM-dd")}),o.$parsers.push(function(e){if(e&&e.length>0){var n=t(e);return o.$setValidity(null,n&&!isNaN(n.getTime())),n}return o.$setValidity(null,!0),null}))}}}]),e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants",function(e,t){return{scope:!0,compile:function(){return{pre:function(){},post:function(n,i){n.$on(t.events.BEGIN_CELL_EDIT,function(){i[0].focus(),i[0].style.width=i[0].parentElement.offsetWidth-1+"px",i.on("blur",function(e){n.stopEdit(e)})}),n.stopEdit=function(){n.$emit(t.events.END_CELL_EDIT)},i.on("keydown",function(i){switch(i.keyCode){case e.keymap.ESC:i.stopPropagation(),n.$emit(t.events.CANCEL_CELL_EDIT);break;case e.keymap.ENTER:n.stopEdit(i);break;case e.keymap.LEFT:n.stopEdit(i);break;case e.keymap.RIGHT:n.stopEdit(i);break;case e.keymap.UP:i.stopPropagation();break;case e.keymap.DOWN:i.stopPropagation();break;case e.keymap.TAB:n.stopEdit(i)}return!0})}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil","$compile",function(e){var t={initializeGrid:function(n){n.expandable={},n.expandable.expandedAll=!1,n.options.enableExpandable=n.options.enableExpandable!==!1,n.options.expandableRowHeight=n.options.expandableRowHeight||150,n.options.expandableRowHeaderWidth=n.options.expandableRowHeaderWidth||40,n.options.enableExpandable&&!n.options.expandableRowTemplate&&(e.logError("You have not set the expandableRowTemplate, disabling expandable module"),n.options.enableExpandable=!1);var i={events:{expandable:{rowExpandedStateChanged:function(){}}},methods:{expandable:{toggleRowExpansion:function(e){var i=n.getRow(e);null!==i&&t.toggleRowExpansion(n,i)},expandAllRows:function(){t.expandAllRows(n)},collapseAllRows:function(){t.collapseAllRows(n)},toggleAllRows:function(){t.toggleAllRows(n)}}}};n.api.registerEventsFromObject(i.events),n.api.registerMethodsFromObject(i.methods)},toggleRowExpansion:function(e,t){t.isExpanded=!t.isExpanded,t.isExpanded?t.height=t.grid.options.rowHeight+e.options.expandableRowHeight:(t.height=t.grid.options.rowHeight,e.expandable.expandedAll=!1),e.api.expandable.raise.rowExpandedStateChanged(t)},expandAllRows:function(e){angular.forEach(e.renderContainers.body.visibleRowCache,function(n){n.isExpanded||t.toggleRowExpansion(e,n)}),e.expandable.expandedAll=!0,e.refresh()},collapseAllRows:function(e){angular.forEach(e.renderContainers.body.visibleRowCache,function(n){n.isExpanded&&t.toggleRowExpansion(e,n)}),e.expandable.expandedAll=!1,e.refresh()},toggleAllRows:function(e){e.expandable.expandedAll?t.collapseAllRows(e):t.expandAllRows(e)}};return t}]),e.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,o){if(o.grid.options.enableExpandableRowHeader!==!1){var a={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:o.grid.options.expandableRowHeaderWidth||40};a.cellTemplate=t.get("ui-grid/expandableRowHeader"),a.headerCellTemplate=t.get("ui-grid/expandableTopRowHeader"),o.grid.addRowHeaderColumn(a)}e.initializeGrid(o.grid)},post:function(){}}}}}]),e.directive("uiGrid",["uiGridExpandableService","$templateCache",function(){return{replace:!0,priority:1e3,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,i){i.grid.api.core.on.renderingComplete(e,function(){e.row&&e.row.grid&&e.row.grid.options&&e.row.grid.options.enableExpandable&&(i.grid.parentRow=e.row)})},post:function(){}}}}}]),e.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(e,t,n,i,r){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(e,t){r.getTemplate(e.grid.options.expandableRowTemplate).then(function(i){if(e.grid.options.expandableRowScope){var r=e.grid.options.expandableRowScope;for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}var a=n(i)(e);t.append(a),e.row.expandedRendered=!0})},post:function(e){e.$on("$destroy",function(){e.row.expandedRendered=!1})}}}}}]),e.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(){return{priority:-200,scope:!1,compile:function(){return{pre:function(e){function t(){var t=e.grid,n=0;return angular.forEach(t.columns,function(e){"left"===e.renderContainer&&(n+=e.width)}),n=Math.floor(n),".grid"+t.id+" .ui-grid-pinned-container-"+e.colContainer.name+", .grid"+t.id+" .ui-grid-pinned-container-"+e.colContainer.name+" .ui-grid-render-container-"+e.colContainer.name+" .ui-grid-viewport .ui-grid-canvas .ui-grid-row { width: "+n+"px; }"}e.expandableRow={},e.expandableRow.shouldRenderExpand=function(){var t="body"===e.colContainer.name&&e.grid.options.enableExpandable!==!1&&e.row.isExpanded&&(!e.grid.isScrollingVertically||e.row.expandedRendered);return t},e.expandableRow.shouldRenderFiller=function(){var t=e.row.isExpanded&&("body"!==e.colContainer.name||e.grid.isScrollingVertically&&!e.row.expandedRendered);return t},"left"===e.colContainer.name&&e.grid.registerStyleComputation({priority:15,func:t})},post:function(){}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e.children().children()[0]),i=n.get("ui-grid/expandableScrollFiller"),r=n.get("ui-grid/expandableRow");return t.append(r),t.append(i),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),e.service("uiGridExporterService",["$q","uiGridExporterConstants","uiGridSelectionConstants","gridUtil","$compile","$interval","i18nService",function(e,t,n,i,r,o,a){var l={initializeGrid:function(e){e.exporter={},this.defaultGridOptions(e.options);var t={events:{exporter:{}},methods:{exporter:{csvExport:function(t,n){l.csvExport(e,t,n)},pdfExport:function(t,n){l.pdfExport(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods),e.api.core.addToGridMenu?l.addToMenu(e):o(function(){e.api.core.addToGridMenu&&l.addToMenu(e)},100,1)},defaultGridOptions:function(e){e.exporterSuppressMenu=e.exporterSuppressMenu===!0,e.exporterMenuLabel=e.exporterMenuLabel?e.exporterMenuLabel:"Export",e.exporterSuppressColumns=e.exporterSuppressColumns?e.exporterSuppressColumns:[],e.exporterCsvColumnSeparator=e.exporterCsvColumnSeparator?e.exporterCsvColumnSeparator:",",e.exporterCsvFilename=e.exporterCsvFilename?e.exporterCsvFilename:"download.csv",e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11},e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]},e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},e.exporterPdfHeader=e.exporterPdfHeader?e.exporterPdfHeader:null,e.exporterPdfFooter=e.exporterPdfFooter?e.exporterPdfFooter:null,e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape",e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4",e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720,e.exporterMenuCsv=void 0!==e.exporterMenuCsv?e.exporterMenuCsv:!0,e.exporterMenuPdf=void 0!==e.exporterMenuPdf?e.exporterMenuPdf:!0,e.exporterPdfCustomFormatter=e.exporterPdfCustomFormatter&&"function"==typeof e.exporterPdfCustomFormatter?e.exporterPdfCustomFormatter:function(e){return e},e.exporterHeaderFilterUseName=e.exporterHeaderFilterUseName===!0,e.exporterFieldCallback=e.exporterFieldCallback?e.exporterFieldCallback:function(e,t,n,i){return i}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.exporterAllAsCsv"),action:function(){this.grid.api.exporter.csvExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuCsv}},{title:a.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(){this.grid.api.exporter.csvExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv}},{title:a.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(){this.grid.api.exporter.csvExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0}},{title:a.getSafeText("gridMenu.exporterAllAsPdf"),action:function(){this.grid.api.exporter.pdfExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuPdf}},{title:a.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(){this.grid.api.exporter.pdfExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf}},{title:a.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(){this.grid.api.exporter.pdfExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0}}])},csvExport:function(e,t,n){var i=this.getColumnHeaders(e,n),r=this.getData(e,t,n),o=this.formatAsCsv(i,r,e.options.exporterCsvColumnSeparator);this.downloadFile(e.options.exporterCsvFilename,o)},getColumnHeaders:function(e,n){var i=[];return angular.forEach(e.columns,function(r){!r.visible&&n!==t.ALL||r.colDef.exporterSuppressExport===!0||-1!==e.options.exporterSuppressColumns.indexOf(r.name)||i.push({name:r.field,displayName:e.options.exporterHeaderFilter?e.options.exporterHeaderFilterUseName?e.options.exporterHeaderFilter(r.name):e.options.exporterHeaderFilter(r.displayName):r.displayName,width:r.drawnWidth?r.drawnWidth:r.width,align:"number"===r.colDef.type?"right":"left"})}),i},getData:function(e,n,r){var o,a=[];switch(n){case t.ALL:o=e.rows;break;case t.VISIBLE:o=e.getVisibleRows();break;case t.SELECTED:e.api.selection?o=e.api.selection.getSelectedGridRows():i.logError("selection feature must be enabled to allow selected rows to be exported")}return angular.forEach(o,function(n){if(n.exporterEnableExporting!==!1){var i=[];angular.forEach(e.columns,function(o){if((o.visible||r===t.ALL)&&o.colDef.exporterSuppressExport!==!0&&-1===e.options.exporterSuppressColumns.indexOf(o.name)){var a={value:e.options.exporterFieldCallback(e,n,o,e.getCellValue(n,o))};o.colDef.exporterPdfAlign&&(a.alignment=o.colDef.exporterPdfAlign),i.push(a)}}),a.push(i)}}),a},formatAsCsv:function(e,t,n){var i=this,r=e.map(function(e){return{value:e.displayName}}),o=i.formatRowAsCsv(this,n)(r)+"\n";return o+=t.map(this.formatRowAsCsv(this,n)).join("\n")},formatRowAsCsv:function(e,t){return function(n){return n.map(e.formatFieldAsCsv).join(t)}},formatFieldAsCsv:function(e){return null==e.value?"":"number"==typeof e.value?e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?'"'+e.value.replace(/"/g,'""')+'"':JSON.stringify(e.value)},downloadFile:function(e,t){var n,i=document,r=i.createElement("a"),o="application/octet-stream;charset=utf-8";if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob(["﻿",t],{type:o}),e);if("download"in r){var a=new Blob([t],{type:o});n=URL.createObjectURL(a),r.setAttribute("download",e)}else n="data:"+o+","+encodeURIComponent(t),r.setAttribute("target","_blank");r.href=n,r.setAttribute("style","display:none;"),i.body.appendChild(r),setTimeout(function(){if(r.click)r.click();else if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),r.dispatchEvent(e)}i.body.removeChild(r)},100)},pdfExport:function(e,t,n){var i=this.getColumnHeaders(e,n),r=this.getData(e,t,n),o=this.prepareAsPdf(e,i,r);pdfMake.createPdf(o).open()},prepareAsPdf:function(e,t,n){var i=this.calculatePdfHeaderWidths(e,t),r=t.map(function(e){return{text:e.displayName,style:"tableHeader"}}),o=n.map(this.formatRowAsPdf(this)),a=[r].concat(o),l={pageOrientation:e.options.exporterPdfOrientation,pageSize:e.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:i,body:a}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};return e.options.exporterPdfLayout&&(l.layout=e.options.exporterPdfLayout),e.options.exporterPdfHeader&&(l.header=e.options.exporterPdfHeader),e.options.exporterPdfFooter&&(l.footer=e.options.exporterPdfFooter),e.options.exporterPdfCustomFormatter&&(l=e.options.exporterPdfCustomFormatter(l)),l},calculatePdfHeaderWidths:function(e,t){var n=0;angular.forEach(t,function(e){"number"==typeof e.width&&(n+=e.width)});var i=0;angular.forEach(t,function(e){if("*"===e.width&&(i+=100),"string"==typeof e.width&&e.width.match(/(\d)*%/)){var t=parseInt(e.width.match(/(\d)*%/)[0]);e.width=n*t/100,i+=e.width}});var r=n+i;return t.map(function(t){return"*"===t.width?t.width:t.width*e.options.exporterPdfMaxGridWidth/r})},formatRowAsPdf:function(e){return function(t){return t.map(e.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){var t;return t=null==e.value?"":"number"==typeof e.value?""+e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?e.value.replace(/"/g,'""'):JSON.stringify(e.value).replace(/^"/,"").replace(/"$/,""),e.alignment&&"string"==typeof e.alignment&&(t={text:t,alignment:e.alignment}),t}};return l}]),e.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,i,r){t.initializeGrid(r.grid),r.grid.exporter.$scope=e}}}])}(),function(){"use strict";var e=angular.module("ui.grid.importer",["ui.grid"]);e.constant("uiGridImporterConstants",{featureName:"importer"}),e.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(e,t,n,i,r,o,a,l){var s={initializeGrid:function(e,t){t.importer={$scope:e},this.defaultGridOptions(t.options);var n={events:{importer:{}},methods:{importer:{importFile:function(e){s.importThisFile(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.options.enableImporter&&t.options.importerShowMenu&&(t.api.core.addToGridMenu?s.addToMenu(t):o(function(){t.api.core.addToGridMenu&&s.addToMenu(t)},100,1))},defaultGridOptions:function(e){e.enableImporter||void 0===e.enableImporter?l.hasOwnProperty("File")&&l.hasOwnProperty("FileReader")&&l.hasOwnProperty("FileList")&&l.hasOwnProperty("Blob")?e.enableImporter=!0:(i.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),e.enableImporter=!1):e.enableImporter=!1,e.importerProcessHeaders=e.importerProcessHeaders||s.processHeaders,e.importerHeaderFilter=e.importerHeaderFilter||function(e){return e},e.importerErrorCallback&&"function"==typeof e.importerErrorCallback||delete e.importerErrorCallback,e.enableImporter!==!0||e.importerDataAddCallback||(i.logError("You have not set an importerDataAddCallback, importer is disabled"),e.enableImporter=!1),e.importerShowMenu=e.importerShowMenu!==!1,e.importerObjectCallback=e.importerObjectCallback||function(e,t){return t}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.importerTitle")},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(){this.grid.api.importer.importAFile(e)}}])},importThisFile:function(e,t){if(!t)return i.logError("No file object provided to importThisFile, should be impossible, aborting"),void 0;var n=new FileReader;switch(t.type){case"application/json":n.onload=s.importJsonClosure(e);break;default:n.onload=s.importCsvClosure(e)}n.readAsText(t)},importJsonClosure:function(e){return function(t){var n,i=[];angular.forEach(s.parseJson(e,t),function(t){n=s.newObject(e),angular.extend(n,t),n=e.options.importerObjectCallback(e,n),i.push(n)}),s.addObjects(e,i)}},parseJson:function(e,t){var n;try{n=JSON.parse(t.target.result)}catch(i){return s.alertError(e,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",t.target.result),void 0}return Array.isArray(n)?n:(s.alertError(e,"importer.jsonNotarray","Import failed, file is not an array, file was: ",t.target.result),[])},importCsvClosure:function(e){return function(t){var n=s.parseCsv(t);if(!n||1>n.length)return s.alertError(e,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",t.target.result),void 0;var i=s.createCsvObjects(e,n);return i&&0!==i.length?(s.addObjects(e,i),void 0):(s.alertError(e,"importer.noObjects","Objects were not able to be derived, content was: ",t.target.result),void 0)}},parseCsv:function(e){var t=e.target.result;return CSV.parse(t)},createCsvObjects:function(e,t){var n=e.options.importerProcessHeaders(e,t.shift());if(!n||0===n.length)return s.alertError(e,"importer.noHeaders","Column names could not be derived, content was: ",t),[];var i,r=[];return angular.forEach(t,function(t){i=s.newObject(e),angular.forEach(t,function(e,t){null!==n[t]&&(i[n[t]]=e)}),i=e.options.importerObjectCallback(e,i),r.push(i)}),r},processHeaders:function(e,t){var n=[];if(e.options.columnDefs&&0!==e.options.columnDefs.length){var i=s.flattenColumnDefs(e,e.options.columnDefs);return angular.forEach(t,function(e){i[e]?n.push(i[e]):i[e.toLowerCase()]?n.push(i[e.toLowerCase()]):n.push(null)}),n}return angular.forEach(t,function(e){n.push(e.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),n},flattenColumnDefs:function(e,t){var n={};return angular.forEach(t,function(t){t.name&&(n[t.name]=t.field||t.name,n[t.name.toLowerCase()]=t.field||t.name),t.field&&(n[t.field]=t.field||t.name,n[t.field.toLowerCase()]=t.field||t.name),t.displayName&&(n[t.displayName]=t.field||t.name,n[t.displayName.toLowerCase()]=t.field||t.name),t.displayName&&e.options.importerHeaderFilter&&(n[e.options.importerHeaderFilter(t.displayName)]=t.field||t.name,n[e.options.importerHeaderFilter(t.displayName).toLowerCase()]=t.field||t.name)}),n},addObjects:function(e,n){if(e.api.rowEdit){var i=e.registerDataChangeCallback(function(){e.api.rowEdit.setRowsDirty(n),i()},[t.dataChange.ROW]);e.importer.$scope.$on("$destroy",i)}e.importer.$scope.$apply(e.options.importerDataAddCallback(e,n))},newObject:function(e){return e.options!==void 0&&e.options.importerNewObject!==void 0?new e.options.importerNewObject:{}},alertError:function(e,t,n,r){e.options.importerErrorCallback?e.options.importerErrorCallback(e,t,n,r):(l.alert(a.getSafeText(t)),i.logError(n+r))}};return s}]),e.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,i,r){t.initializeGrid(e,r.grid)}}}]),e.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(e,i,r,o){var a=function(e){var n=e.srcElement||e.target;if(n&&n.files&&1===n.files.length){var i=n.files[0];t.importThisFile(s,i),n.form.reset()}},l=i[0].querySelectorAll(".ui-grid-importer-file-chooser"),s=o.grid;1!==l.length?n.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):l[0].addEventListener("change",a,!1)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout","uiGridConstants",function(e,t,n,i){var r={initializeGrid:function(e){r.defaultGridOptions(e.options);var t={events:{infiniteScroll:{needLoadMoreData:function(){},needLoadMoreDataTop:function(){}}},methods:{infiniteScroll:{dataLoaded:function(){e.options.loadTimout=!1}}}};e.options.loadTimout=!1,e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enableInfiniteScroll=e.enableInfiniteScroll!==!1},loadData:function(e){return e.options.loadTimout=!0,e.scrollDirection===i.scrollDirection.UP?(e.api.infiniteScroll.raise.needLoadMoreDataTop(),void 0):(e.api.infiniteScroll.raise.needLoadMoreData(),void 0)},checkScroll:function(e,t){var n=e.options.infiniteScrollPercentage?e.options.infiniteScrollPercentage:20;return!e.options.loadTimout&&n>=t?(this.loadData(e),!0):!1}};return r}]),e.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(e){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(){return{pre:function(t,n,i,r){e.initializeGrid(r.grid)},post:function(){}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","uiGridInfiniteScrollService","uiGridConstants",function(e,t,n,i){return{priority:-200,scope:!1,link:function(e){e.grid.options.enableInfiniteScroll&&e.grid.api.core.on.scrollEvent(e,function(t){if(t.y&&"ui.grid.adjustInfiniteScrollPosition"!==t.source){var r=100-100*t.y.percentage;e.grid.scrollDirection===i.scrollDirection.UP&&(r=100*t.y.percentage),n.checkScroll(e.grid,r)}})}}}])}(),function(){"use strict";var e=angular.module("ui.grid.moveColumns",["ui.grid"]);e.service("uiGridMoveColumnService",["$q","$timeout","$log","ScrollEvent","uiGridConstants",function(e,t,n,i,r){var o={initializeGrid:function(e){var t=this;this.registerPublicApi(e),this.defaultGridOptions(e.options),e.registerColumnBuilder(t.movableColumnBuilder)},registerPublicApi:function(e){var t=this,n={events:{colMovable:{columnPositionChanged:function(){}}},methods:{colMovable:{moveColumn:function(n,i){var r=e.columns;if(!angular.isNumber(n)||!angular.isNumber(i))return console.log("Please provide valid values for originalPosition and finalPosition"),void 0;for(var o=0,a=0;r.length>a;a++)(angular.isDefined(r[a].colDef.visible)&&r[a].colDef.visible===!1||r[a].isRowHeader===!0)&&o++;
if(n>=r.length-o||i>=r.length-o)return console.log("Invalid values for originalPosition, finalPosition"),void 0;var l=function(e){for(var t=e,n=0;t>=n;n++)angular.isDefined(r[n])&&(angular.isDefined(r[n].colDef.visible)&&r[n].colDef.visible===!1||r[n].isRowHeader===!0)&&t++;return t};t.redrawColumnAtPosition(e,l(n),l(i))}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableColumnMoving=e.enableColumnMoving!==!1},movableColumnBuilder:function(t,n,i){var r=[];return t.enableColumnMoving=void 0===t.enableColumnMoving?i.enableColumnMoving:t.enableColumnMoving,e.all(r)},redrawColumnAtPosition:function(e,n,i){var o=e.columns,a=o[n];if(a.colDef.enableColumnMoving){if(n>i)for(var l=n;l>i;l--)o[l]=o[l-1];else if(i>n)for(var s=n;i>s;s++)o[s]=o[s+1];o[i]=a,t(function(){e.refresh(),e.api.colMovable.raise.columnPositionChanged(a.colDef,n,i),e.api.core.notifyDataChange(r.dataChange.COLUMN)})}}};return o}]),e.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(e){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,n,i,r){e.initializeGrid(r.grid)},post:function(){}}}}}]),e.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(e,t,n,i,r,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,r,l,s){e.col.colDef.enableColumnMoving&&e.$on(o.events.COLUMN_HEADER_CLICK,function(o,l){if(l.columnName===e.col.colDef.name&&!e.col.renderContainer){var u=l.event;if("ui-grid-icon-angle-down"!==u.target.className&&"I"!==u.target.tagName&&0>u.target.className.indexOf("ui-grid-filter-input")){var c,d,p=e.grid.element[0].getBoundingClientRect().left,g=u.pageX,f=0,h=p+e.grid.getViewportWidth(),m=!1,v=function(){m=!0,c=r.clone(),r.parent().append(c),c.addClass("movingColumn");var t={},n=r[0].getBoundingClientRect().left;t.left=n-p+"px";var i=e.grid.element[0].getBoundingClientRect().right,o=r[0].getBoundingClientRect().right;o>i&&(d=e.col.drawnWidth+(i-o),t.width=d+"px"),c.css(t)},w=function(n){s.fireEvent("hide-menu");for(var i=e.grid.columns,r=0,o=0;i.length>o;o++)(angular.isUndefined(i[o].colDef.visible)||i[o].colDef.visible===!0)&&(r+=i[o].drawnWidth||i[o].width||i[o].colDef.width);var l,u=c[0].getBoundingClientRect().left-1,g=c[0].getBoundingClientRect().right;if(l="ie"===t.detectBrowser()?u+n:u-p+n,l=h>l?l:h,(u>=p||n>0)&&(h>=g||0>n))c.css({visibility:"visible",left:l+"px"});else if(r>Math.ceil(s.grid.gridWidth)){n*=8;var m=new a(e.col.grid,null,null,"uiGridHeaderCell.moveElement");m.x={pixels:n},m.fireScrollingEvent()}for(var v=0,w=0;i.length>w;w++)if(angular.isUndefined(i[w].colDef.visible)||i[w].colDef.visible===!0){if(i[w].colDef.name===e.col.colDef.name)break;v+=i[w].drawnWidth||i[w].width||i[w].colDef.width}void 0===e.newScrollLeft?f+=n:f=e.newScrollLeft+l-v,e.col.drawnWidth>d&&(d+=Math.abs(n),c.css({width:d+"px"}))},b=function(e){document.onselectstart=function(){return!1};var t=e.pageX-g;!m&&Math.abs(t)>50?v():m&&(w(t),g=e.pageX)};i.on("mousemove",b);var C=function(){document.onselectstart=null,c&&c.remove();for(var t=e.grid.columns,r=0,o=0;t.length>o&&t[o].colDef.name!==e.col.colDef.name;o++)r++;if(0>f){for(var a=0,l=r-1;l>=0;l--)if((angular.isUndefined(t[l].colDef.visible)||t[l].colDef.visible===!0)&&(a+=t[l].drawnWidth||t[l].width||t[l].colDef.width,a>Math.abs(f))){n.redrawColumnAtPosition(e.grid,r,l+1);break}Math.abs(f)>a&&n.redrawColumnAtPosition(e.grid,r,0)}else if(f>0){for(var s=0,u=r+1;t.length>u;u++)if((angular.isUndefined(t[u].colDef.visible)||t[u].colDef.visible===!0)&&(s+=t[u].drawnWidth||t[u].width||t[u].colDef.width,s>f)){n.redrawColumnAtPosition(e.grid,r,u-1);break}f>s&&n.redrawColumnAtPosition(e.grid,r,t.length-1)}i.off("mousemove",b),i.off("mouseup",C)};i.on("mouseup",C)}}})}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pagination",["ng","ui.grid"]);e.service("uiGridPaginationService",["gridUtil",function(e){var t={initializeGrid:function(e){t.defaultGridOptions(e.options);var n={events:{pagination:{paginationChanged:function(){}}},methods:{pagination:{getPage:function(){return e.options.enablePagination?e.options.paginationCurrentPage:null},getTotalPages:function(){return e.options.enablePagination?0===e.options.totalItems?1:Math.ceil(e.options.totalItems/e.options.paginationPageSize):null},nextPage:function(){e.options.enablePagination&&(e.options.totalItems>0?e.options.paginationCurrentPage=Math.min(e.options.paginationCurrentPage+1,n.methods.pagination.getTotalPages()):e.options.paginationCurrentPage++)},previousPage:function(){e.options.enablePagination&&(e.options.paginationCurrentPage=Math.max(e.options.paginationCurrentPage-1,1))},seek:function(t){if(e.options.enablePagination){if(!angular.isNumber(t)||1>t)throw"Invalid page number: "+t;e.options.paginationCurrentPage=Math.min(t,n.methods.pagination.getTotalPages())}}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods),e.registerRowsProcessor(function(t){if(e.options.useExternalPagination||!e.options.enablePagination)return t;var n=parseInt(e.options.paginationPageSize,10),i=parseInt(e.options.paginationCurrentPage,10),r=t.filter(function(e){return e.visible});e.options.totalItems=r.length;var o=(i-1)*n;return o>r.length&&(i=e.options.paginationCurrentPage=1,o=(i-1)*n),r.slice(o,o+n)})},defaultGridOptions:function(t){t.enablePagination=t.enablePagination!==!1,t.enablePaginationControls=t.enablePaginationControls!==!1,t.useExternalPagination=t.useExternalPagination===!0,e.isNullOrUndefined(t.totalItems)&&(t.totalItems=0),e.isNullOrUndefined(t.paginationPageSizes)&&(t.paginationPageSizes=[250,500,1e3]),e.isNullOrUndefined(t.paginationPageSize)&&(t.paginationPageSize=t.paginationPageSizes.length>0?t.paginationPageSizes[0]:0),e.isNullOrUndefined(t.paginationCurrentPage)&&(t.paginationCurrentPage=1),e.isNullOrUndefined(t.paginationTemplate)&&(t.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(e,t,n){e.api.pagination.raise.paginationChanged(t,n),e.options.useExternalPagination||e.refresh()}};return t}]),e.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(e,t){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(n,i,r,o){t.initializeGrid(o.grid),e.getTemplate(o.grid.options.paginationTemplate).then(function(e){var t=angular.element(e);i.append(t),o.innerCompile(t)})}}}}]),e.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService",function(e,t,n,i){return{priority:-200,scope:!0,require:"^uiGrid",link:function(r,o,a,l){r.paginationApi=l.grid.api.pagination,r.sizesLabel=i.getSafeText("pagination.sizes"),r.totalItemsLabel=i.getSafeText("pagination.totalItems");var s=l.grid.options;l.grid.renderContainers.body.registerViewportAdjuster(function(e){return e.height=e.height-n.elementHeight(o),e});var u=l.grid.registerDataChangeCallback(function(e){e.options.useExternalPagination||(e.options.totalItems=e.rows.length)},[t.dataChange.ROW]);r.$on("$destroy",u);var c=function(){r.showingLow=(s.paginationCurrentPage-1)*s.paginationPageSize+1,r.showingHigh=Math.min(s.paginationCurrentPage*s.paginationPageSize,s.totalItems)},d=r.$watch("grid.options.totalItems + grid.options.paginationPageSize",c),p=r.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(t,n){if(t!==n){if(!angular.isNumber(s.paginationCurrentPage)||1>s.paginationCurrentPage)return s.paginationCurrentPage=1,void 0;if(s.totalItems>0&&s.paginationCurrentPage>r.paginationApi.getTotalPages())return s.paginationCurrentPage=r.paginationApi.getTotalPages(),void 0;c(),e.onPaginationChanged(r.grid,s.paginationCurrentPage,s.paginationPageSize)}});r.$on("$destroy",function(){d(),p()}),r.cantPageForward=function(){return s.totalItems>0?s.paginationCurrentPage>=r.paginationApi.getTotalPages():1>s.data.length},r.cantPageToLast=function(){return s.totalItems>0?r.cantPageForward():!0},r.cantPageBackward=function(){return 1>=s.paginationCurrentPage}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pinning",["ui.grid"]);e.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService",function(e,t,n){var i={initializeGrid:function(e){i.defaultGridOptions(e.options),e.registerColumnBuilder(i.pinningColumnBuilder)},defaultGridOptions:function(e){e.enablePinning=e.enablePinning!==!1},pinningColumnBuilder:function(t,i,r){if(t.enablePinning=void 0===t.enablePinning?r.enablePinning:t.enablePinning,t.pinnedLeft?"*"===i.width?i.grid.refresh().then(function(){i.renderContainer="left",i.width=i.grid.canvasWidth/i.grid.columns.length,i.grid.createLeftContainer()}):(i.renderContainer="left",i.grid.createLeftContainer()):t.pinnedRight&&("*"===i.width?i.grid.refresh().then(function(){i.renderContainer="right",i.width=i.grid.canvasWidth/i.grid.columns.length,i.grid.createRightContainer()}):(i.renderContainer="right",i.grid.createRightContainer())),t.enablePinning){var o={name:"ui.grid.pinning.pinLeft",title:n.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return this.context.col.renderContainer===void 0||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){this.context.col.renderContainer="left",this.context.col.width=this.context.col.drawnWidth,this.context.col.grid.createLeftContainer(),i.grid.refresh().then(function(){i.grid.refresh()})}},a={name:"ui.grid.pinning.pinRight",title:n.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return this.context.col.renderContainer===void 0||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){this.context.col.renderContainer="right",this.context.col.width=this.context.col.drawnWidth,this.context.col.grid.createRightContainer(),i.grid.refresh().then(function(){i.grid.refresh()})}},l={name:"ui.grid.pinning.unpin",title:n.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return this.context.col.renderContainer!==void 0&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){this.context.col.renderContainer=null,i.grid.refresh().then(function(){i.grid.refresh()})}};e.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.pinning.pinLeft")||i.menuItems.push(o),e.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.pinning.pinRight")||i.menuItems.push(a),e.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.pinning.unpin")||i.menuItems.push(l)}}};return i}]),e.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(e,t){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(r.grid)},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.service("uiGridResizeColumnsService",["gridUtil","$q","$timeout",function(e,t,n){var i={defaultGridOptions:function(e){e.enableColumnResizing=e.enableColumnResizing!==!1,e.enableColumnResize===!1&&(e.enableColumnResizing=!1)},colResizerColumnBuilder:function(e,n,i){var r=[];return e.enableColumnResizing=void 0===e.enableColumnResizing?i.enableColumnResizing:e.enableColumnResizing,e.enableColumnResize===!1&&(e.enableColumnResizing=!1),t.all(r)},registerPublicApi:function(e){var t={events:{colResizable:{columnSizeChanged:function(){}}}};e.api.registerEventsFromObject(t.events)},fireColumnSizeChanged:function(e,t,i){n(function(){e.api.colResizable.raise.columnSizeChanged(t,i)})},findTargetCol:function(e,t,n){var i=e.getRenderContainer();if("left"===t){var r=i.visibleColumnCache.indexOf(e);return i.visibleColumnCache[r-1*n]}return e}};return i}]),e.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.defaultGridOptions(r.grid.options),r.grid.registerColumnBuilder(t.colResizerColumnBuilder),t.registerPublicApi(r.grid)},post:function(){}}}}}]),e.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants","$timeout",function(e,t,n,i,r,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,i,l,s){var u=s.grid;if(u.options.enableColumnResizing){var c=t.get("ui-grid/columnResizer"),d=1;u.isRTL()&&(e.position="left",d=-1);var p=function(){for(var t=i[0].getElementsByClassName("ui-grid-column-resizer"),o=0;t.length>o;o++)angular.element(t[o]).remove();var a=r.findTargetCol(e.col,"left",d),l=e.col.getRenderContainer();if(a&&0!==l.visibleColumnCache.indexOf(e.col)&&a.colDef.enableColumnResizing!==!1){var s=angular.element(c).clone();s.attr("position","left"),i.prepend(s),n(s)(e)}if(e.col.colDef.enableColumnResizing!==!1){var u=angular.element(c).clone();u.attr("position","right"),i.append(u),n(u)(e)}};p();var g=function(){a(p)},f=u.registerDataChangeCallback(g,[o.dataChange.COLUMN]);e.$on("$destroy",f)}}}}}}]),e.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(e,t,n,i){var r,o,a,l=angular.element('<div class="ui-grid-resize-overlay"></div>');t.isTouchEnabled()?(r="touchstart",o="touchend",a="touchmove"):(r="mousedown",o="mouseup",a="mousemove");var s={priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(s,u,c,d){function p(e){var t=e.getRenderContainer();t.visibleColumnCache.forEach(function(t){if(t!==e){var n=t.colDef;(!n.width||angular.isString(n.width)&&(-1!==n.width.indexOf("*")||-1!==n.width.indexOf("%")))&&(t.width=t.drawnWidth)}})}function g(){d.grid.buildColumns().then(function(){d.grid.refreshCanvas(!0).then(function(){d.grid.refresh()})})}function f(e,t){var n=t;return e.colDef.minWidth&&e.colDef.minWidth>n?n=e.colDef.minWidth:e.colDef.maxWidth&&n>e.colDef.maxWidth&&(n=e.colDef.maxWidth),n}function h(e){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),w=(e.targetTouches?e.targetTouches[0]:e).clientX-b,0>w?w=0:w>d.grid.gridWidth&&(w=d.grid.gridWidth);var t=i.findTargetCol(s.col,s.position,C);if(t.colDef.enableColumnResizing!==!1){d.grid.element.hasClass("column-resizing")||d.grid.element.addClass("column-resizing");var r=w-v,o=parseInt(t.drawnWidth+r*C,10);w+=(f(t,o)-o)*C,l.css({left:w+"px"}),d.fireEvent(n.events.ITEM_DRAGGING)}}function m(t){t.originalEvent&&(t=t.originalEvent),t.preventDefault(),d.grid.element.removeClass("column-resizing"),l.remove(),w=(t.changedTouches?t.changedTouches[0]:t).clientX-b;var n=w-v;if(0===n)return e.off(o,m),e.off(a,h),void 0;var r=i.findTargetCol(s.col,s.position,C);if(r.colDef.enableColumnResizing!==!1){var u=parseInt(r.drawnWidth+n*C,10);r.width=f(r,u),p(r),g(n),i.fireColumnSizeChanged(d.grid,r.colDef,n),e.off(o,m),e.off(a,h)}}var v=0,w=0,b=0,C=1;d.grid.isRTL()&&(s.position="left",C=-1),"left"===s.position?u.addClass("left"):"right"===s.position&&u.addClass("right"),u.on(r,function(t){t.originalEvent&&(t=t.originalEvent),t.stopPropagation(),b=d.grid.element[0].getBoundingClientRect().left,v=(t.targetTouches?t.targetTouches[0]:t).clientX-b,d.grid.element.append(l),l.css({left:v}),e.on(o,m),e.on(a,h)}),u.on("dblclick",function(e){e.stopPropagation();var r=i.findTargetCol(s.col,s.position,C);if(r.colDef.enableColumnResizing!==!1){var o=0,a=0,l=t.closestElm(u,".ui-grid-render-container"),c=l.querySelectorAll("."+n.COL_CLASS_PREFIX+r.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(c,function(e){var n;angular.element(e).parent().hasClass("ui-grid-header-cell")&&(n=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),t.fakeElement(e,{},function(e){var i=angular.element(e);i.attr("style","float: left");var r=t.elementWidth(i);if(n){var l=t.elementWidth(n);r+=l}r>o&&(o=r,a=o-r)})}),r.width=f(r,o),p(r),g(a),i.fireColumnSizeChanged(d.grid,r.colDef,a)}}),u.on("$destroy",function(){u.off(r),u.off("dblclick"),e.off(a,h),e.off(o,m)})}};return s}])}(),function(){"use strict";var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{}),e.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(e,t,n,i,r){var o={initializeGrid:function(e,t){t.rowEdit={};var n={events:{rowEdit:{saveRow:function(){}}},methods:{rowEdit:{setSavePromise:function(e,n){o.setSavePromise(t,e,n)},getDirtyRows:function(){return t.rowEdit.dirtyRows?t.rowEdit.dirtyRows:[]},getErrorRows:function(){return t.rowEdit.errorRows?t.rowEdit.errorRows:[]},flushDirtyRows:function(){return o.flushDirtyRows(t)},setRowsDirty:function(e){o.setRowsDirty(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.api.core.on.renderingComplete(e,function(){t.api.edit.on.afterCellEdit(e,o.endEditCell),t.api.edit.on.beginCellEdit(e,o.beginEditCell),t.api.edit.on.cancelCellEdit(e,o.cancelEditCell),t.api.cellNav&&t.api.cellNav.on.navigate(e,o.navigate)})},defaultGridOptions:function(){},saveRow:function(e,t){var n=this;return function(){t.isSaving=!0;var i=e.api.rowEdit.raise.saveRow(t.entity);return t.rowEditSavePromise?t.rowEditSavePromise.then(n.processSuccessPromise(e,t),n.processErrorPromise(e,t)):r.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),i}},setSavePromise:function(e,t,n){var i=e.getRow(t);i.rowEditSavePromise=n},processSuccessPromise:function(e,t){var n=this;return function(){delete t.isSaving,delete t.isDirty,delete t.isError,delete t.rowEditSaveTimer,n.removeRow(e.rowEdit.errorRows,t),n.removeRow(e.rowEdit.dirtyRows,t)}},processErrorPromise:function(e,t){return function(){delete t.isSaving,delete t.rowEditSaveTimer,t.isError=!0,e.rowEdit.errorRows||(e.rowEdit.errorRows=[]),o.isRowPresent(e.rowEdit.errorRows,t)||e.rowEdit.errorRows.push(t)}},removeRow:function(e,t){angular.forEach(e,function(n,i){n.uid===t.uid&&e.splice(i,1)})},isRowPresent:function(e,t){var n=!1;return angular.forEach(e,function(e){e.uid===t.uid&&(n=!0)}),n},flushDirtyRows:function(e){var n=[];return angular.forEach(e.rowEdit.dirtyRows,function(t){o.saveRow(e,t)(),n.push(t.rowEditSavePromise)}),t.all(n)},endEditCell:function(e,t,n,i){var a=this.grid,l=a.getRow(e);return l?((n!==i||l.isDirty)&&(a.rowEdit.dirtyRows||(a.rowEdit.dirtyRows=[]),l.isDirty||(l.isDirty=!0,a.rowEdit.dirtyRows.push(l)),delete l.isError,o.considerSetTimer(a,l)),void 0):(r.logError("Unable to find rowEntity in grid data, dirty flag cannot be set"),void 0)},beginEditCell:function(e){var t=this.grid,n=t.getRow(e);return n?(o.cancelTimer(t,n),void 0):(r.logError("Unable to find rowEntity in grid data, timer cannot be cancelled"),void 0)},cancelEditCell:function(e){var t=this.grid,n=t.getRow(e);return n?(o.considerSetTimer(t,n),void 0):(r.logError("Unable to find rowEntity in grid data, timer cannot be set"),void 0)},navigate:function(e,t){var n=this.grid;e.row.rowEditSaveTimer&&o.cancelTimer(n,e.row),t&&t.row&&t.row!==e.row&&o.considerSetTimer(n,t.row)},considerSetTimer:function(t,n){if(o.cancelTimer(t,n),n.isDirty&&!n.isSaving&&-1!==t.options.rowEditWaitInterval){var i=t.options.rowEditWaitInterval?t.options.rowEditWaitInterval:2e3;n.rowEditSaveTimer=e(o.saveRow(t,n),i,1)}},cancelTimer:function(t,n){n.rowEditSaveTimer&&!n.isSaving&&(e.cancel(n.rowEditSaveTimer),delete n.rowEditSaveTimer)},setRowsDirty:function(e,t){var n;t.forEach(function(t){n=e.getRow(t),n?(e.rowEdit.dirtyRows||(e.rowEdit.dirtyRows=[]),n.isDirty||(n.isDirty=!0,e.rowEdit.dirtyRows.push(n)),delete n.isError,o.considerSetTimer(e,n)):r.logError("requested row not found in rowEdit.setRowsDirty, row was: "+t)})}};return o}]),e.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(e,r.grid)},post:function(){}}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e.children().children()[0]),n=t.attr("ng-class"),i="";return i=n?n.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",t.attr("ng-class",i),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav"]);e.constant("uiGridSaveStateConstants",{featureName:"saveState"}),e.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(){var e={initializeGrid:function(t){t.saveState={},this.defaultGridOptions(t.options);var n={events:{saveState:{}},methods:{saveState:{save:function(){return e.save(t)},restore:function(n,i){e.restore(t,n,i)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.saveWidths=e.saveWidths!==!1,e.saveOrder=e.saveOrder!==!1,e.saveScroll=e.saveScroll===!0,e.saveFocus=e.saveScroll!==!0&&e.saveFocus!==!1,e.saveVisible=e.saveVisible!==!1,e.saveSort=e.saveSort!==!1,e.saveFilter=e.saveFilter!==!1,e.saveSelection=e.saveSelection!==!1},save:function(t){var n={};return n.columns=e.saveColumns(t),n.scrollFocus=e.saveScrollFocus(t),n.selection=e.saveSelection(t),n},restore:function(t,n,i){i.columns&&e.restoreColumns(t,i.columns),i.scrollFocus&&e.restoreScrollFocus(t,n,i.scrollFocus),i.selection&&e.restoreSelection(t,i.selection),t.refresh()},saveColumns:function(e){var t=[];return angular.forEach(e.columns,function(e){var n={};n.name=e.name,n.visible=e.visible,n.width=e.width,n.sort=angular.copy(e.sort),n.filters=angular.copy(e.filters),t.push(n)}),t},saveScrollFocus:function(t){if(!t.api.cellNav)return{};var n={};if(t.options.saveFocus){n.focus=!0;var i=t.api.cellNav.getFocusedCell();null!==i&&(n.colName=i.col.colDef.name,n.rowVal=e.getRowVal(t,i.row))}else t.options.saveScroll&&(n.focus=!1,t.renderContainers.body.prevRowScrollIndex&&(n.rowVal=e.getRowVal(t,t.renderContainers.body.visibleRowCache[t.renderContainers.body.prevRowScrollIndex])),t.renderContainers.body.prevColScrollIndex&&(n.colName=t.renderContainers.body.visibleColumnCache[t.renderContainers.body.prevColScrollIndex].name));return n},saveSelection:function(t){if(!t.api.selection)return{};var n=t.api.selection.getSelectedGridRows().map(function(n){return e.getRowVal(t,n)});return n},getRowVal:function(e,t){if(!t)return null;var n={};return e.options.saveRowIdentity?(n.identity=!0,n.row=e.options.saveRowIdentity(t.entity)):(n.identity=!1,n.row=e.renderContainers.body.visibleRowCache.indexOf(t)),n},restoreColumns:function(e,t){angular.forEach(t,function(t,n){var i=e.columns.filter(function(e){return e.name===t.name});if(i.length>0){var r=e.columns.indexOf(i[0]);if((e.columns[r].visible!==t.visible||e.columns[r].colDef.visible!==t.visible)&&(e.columns[r].visible=t.visible,e.columns[r].colDef.visible=t.visible,e.api.core.raise.columnVisibilityChanged(e.columns[r])),e.columns[r].width=t.width,angular.equals(e.columns[r].sort,t.sort&&!(void 0===e.columns[r].sort&&angular.isEmpty(t.sort)))||(e.columns[r].sort=angular.copy(t.sort),e.api.core.raise.sortChanged()),angular.equals(e.columns[r].filters,t.filters)||(e.columns[r].filters=angular.copy(t.filters),e.api.core.raise.filterChanged()),r!==n){var o=e.columns.splice(r,1)[0];e.columns.splice(n,0,o)}}})},restoreScrollFocus:function(t,n,i){if(t.api.cellNav){var r,o;if(i.colName){var a=t.options.columnDefs.filter(function(e){return e.name===i.colName});a.length>0&&(r=a[0])}i.rowVal&&i.rowVal.row&&(o=i.rowVal.identity?e.findRowByIdentity(t,i.rowVal):t.renderContainers.body.visibleRowCache[i.rowVal.row]);var l=o&&o.entity?o.entity:null;(r||l)&&(i.focus?t.api.cellNav.scrollToFocus(n,l,r):t.api.cellNav.scrollTo(n,l,r))}},restoreSelection:function(t,n){t.api.selection&&(t.api.selection.clearSelectedRows(),angular.forEach(n,function(n){if(n.identity){var i=e.findRowByIdentity(t,n);i&&t.api.selection.selectRow(i.entity)}else t.api.selection.selectRowByVisibleIndex(n.row)}))},findRowByIdentity:function(e,t){if(!e.options.saveRowIdentity)return null;var n=e.rows.filter(function(n){return e.options.saveRowIdentity(n.entity)===t.row?!0:!1});return n.length>0?n[0]:null}};return e}]),e.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,i,r){t.initializeGrid(r.grid)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(e){e.decorator("GridRow",["$delegate",function(e){return e.prototype.setSelected=function(e){this.isSelected=e,e?this.grid.selection.selectedCount++:this.grid.selection.selectedCount--},e}])}]),e.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(){var e={initializeGrid:function(t){t.selection={},t.selection.lastSelectedRow=null,t.selection.selectAll=!1,t.selection.selectedCount=0,e.defaultGridOptions(t.options);var n={events:{selection:{rowSelectionChanged:function(){},rowSelectionChangedBatch:function(){}}},methods:{selection:{toggleRowSelection:function(n,i){var r=t.getRow(n);null!==r&&r.enableSelection!==!1&&e.toggleRowSelection(t,r,i,t.options.multiSelect,t.options.noUnselect)},selectRow:function(n,i){var r=t.getRow(n);null===r||r.isSelected||r.enableSelection===!1||e.toggleRowSelection(t,r,i,t.options.multiSelect,t.options.noUnselect)},selectRowByVisibleIndex:function(n,i){var r=t.renderContainers.body.visibleRowCache[n];null===r||void 0===r||r.isSelected||r.enableSelection===!1||e.toggleRowSelection(t,r,i,t.options.multiSelect,t.options.noUnselect)},unSelectRow:function(n,i){var r=t.getRow(n);null!==r&&r.isSelected&&e.toggleRowSelection(t,r,i,t.options.multiSelect,t.options.noUnselect)},selectAllRows:function(n){if(t.options.multiSelect!==!1){var i=[];t.rows.forEach(function(r){r.isSelected||r.enableSelection===!1||(r.setSelected(!0),e.decideRaiseSelectionEvent(t,r,i,n))}),e.decideRaiseSelectionBatchEvent(t,i,n),t.selection.selectAll=!0}},selectAllVisibleRows:function(n){if(t.options.multiSelect!==!1){var i=[];t.rows.forEach(function(r){r.visible?r.isSelected||r.enableSelection===!1||(r.setSelected(!0),e.decideRaiseSelectionEvent(t,r,i,n)):r.isSelected&&(r.setSelected(!1),e.decideRaiseSelectionEvent(t,r,i,n))}),e.decideRaiseSelectionBatchEvent(t,i,n),t.selection.selectAll=!0}},clearSelectedRows:function(n){e.clearSelectedRows(t,n)},getSelectedRows:function(){return e.getSelectedRows(t).map(function(e){return e.entity})},getSelectedGridRows:function(){return e.getSelectedRows(t)},setMultiSelect:function(e){t.options.multiSelect=e},setModifierKeysToMultiSelect:function(e){t.options.modifierKeysToMultiSelect=e},getSelectAllState:function(){return t.selection.selectAll}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableRowSelection=e.enableRowSelection!==!1,e.multiSelect=e.multiSelect!==!1,e.noUnselect=e.noUnselect===!0,e.modifierKeysToMultiSelect=e.modifierKeysToMultiSelect===!0,e.enableRowHeaderSelection=e.enableRowHeaderSelection!==!1,e.enableSelectAll=e.enableSelectAll!==!1,e.enableSelectionBatchEvent=e.enableSelectionBatchEvent!==!1,e.selectionRowHeaderWidth=angular.isDefined(e.selectionRowHeaderWidth)?e.selectionRowHeaderWidth:30,e.enableFooterTotalSelected=e.enableFooterTotalSelected!==!1,e.isRowSelectable=angular.isDefined(e.isRowSelectable)?e.isRowSelectable:angular.noop},toggleRowSelection:function(t,n,i,r,o){var a=n.isSelected;if(r||a){if(!r&&a){var l=e.getSelectedRows(t);l.length>1&&(a=!1,e.clearSelectedRows(t,i))}}else e.clearSelectedRows(t,i);a&&o||n.enableSelection!==!1&&(n.setSelected(!a),n.isSelected===!0?t.selection.lastSelectedRow=n:t.selection.selectAll=!1,t.api.selection.raise.rowSelectionChanged(n,i))},shiftSelect:function(t,n,i,r){if(r){var o=e.getSelectedRows(t),a=o.length>0?t.renderContainers.body.visibleRowCache.indexOf(t.selection.lastSelectedRow):0,l=t.renderContainers.body.visibleRowCache.indexOf(n);if(a>l){var s=a;a=l,l=s}for(var u=[],c=a;l>=c;c++){var d=t.renderContainers.body.visibleRowCache[c];d&&(d.isSelected||d.enableSelection===!1||(d.setSelected(!0),t.selection.lastSelectedRow=d,e.decideRaiseSelectionEvent(t,d,u,i)))}e.decideRaiseSelectionBatchEvent(t,u,i)}},getSelectedRows:function(e){return e.rows.filter(function(e){return e.isSelected})},clearSelectedRows:function(t,n){var i=[];e.getSelectedRows(t).forEach(function(r){r.isSelected&&(r.setSelected(!1),e.decideRaiseSelectionEvent(t,r,i,n))}),e.decideRaiseSelectionBatchEvent(t,i,n),t.selection.selectAll=!1},decideRaiseSelectionEvent:function(e,t,n,i){e.options.enableSelectionBatchEvent?n.push(t):e.api.selection.raise.rowSelectionChanged(t,i)},decideRaiseSelectionBatchEvent:function(e,t,n){t.length>0&&e.api.selection.raise.rowSelectionChangedBatch(t,n)}};return e}]),e.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,o){if(t.initializeGrid(o.grid),o.grid.options.enableRowHeaderSelection){var a={name:e.selectionRowHeaderColName,displayName:"",width:o.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0};o.grid.addRowHeaderColumn(a)}o.grid.options.isRowSelectable!==angular.noop&&o.grid.registerRowBuilder(function(e){e.enableSelection=o.grid.options.isRowSelectable(e)})},post:function(){}}}}}]),e.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,n,i,r){var o=r.grid;e.selectButtonClick=function(e,n){n.shiftKey?t.shiftSelect(o,e,n,o.options.multiSelect):n.ctrlKey||n.metaKey?t.toggleRowSelection(o,e,n,o.options.multiSelect,o.options.noUnselect):t.toggleRowSelection(o,e,n,o.options.multiSelect&&!o.options.modifierKeysToMultiSelect,o.options.noUnselect)}}}}]),e.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(e){var n=e.col.grid;e.headerButtonClick=function(e,i){n.selection.selectAll?(t.clearSelectedRows(n,i),n.options.noUnselect&&n.api.selection.selectRowByVisibleIndex(0,i),n.selection.selectAll=!1):n.options.multiSelect&&(n.api.selection.selectAllVisibleRows(i),n.selection.selectAll=!0)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e.children().children()[0]),n=t.attr("ng-class"),i="";return i=n?n.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",t.attr("ng-class",i),{pre:function(){},post:function(){}}}}}]),e.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(e,t,n,i,r,o){return{priority:-200,restrict:"A",scope:!1,link:function(e,n){function i(){e.grid.options.enableRowSelection&&!e.grid.options.enableRowHeaderSelection&&(n.addClass("ui-grid-disable-selection"),n.on("touchstart",u),n.on("touchend",c),n.on("click",s),e.registered=!0)
}function r(){e.registered&&(n.removeClass("ui-grid-disable-selection"),n.off("touchstart",u),n.off("touchend",c),n.off("click",s),e.registered=!1)}var a=0,l=300,s=function(t){t.shiftKey?o.shiftSelect(e.grid,e.row,t,e.grid.options.multiSelect):t.ctrlKey||t.metaKey?o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect,e.grid.options.noUnselect):o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply()},u=function(){a=(new Date).getTime()},c=function(e){var t=(new Date).getTime(),n=t-a;l>n&&s(e)};i();var d=e.grid.registerDataChangeCallback(function(){!e.grid.options.enableRowSelection||e.grid.options.enableRowHeaderSelection||e.registered?e.grid.options.enableRowSelection&&!e.grid.options.enableRowHeaderSelection||!e.registered||r():i()},[t.dataChange.OPTIONS]);n.on("$destroy",d)}}}]),e.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(e,t,n){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(t,i,r,o){o.grid.options.showGridFooter&&n.getTemplate("ui-grid/gridFooterSelectedItems").then(function(n){var r=angular.element(n),o=e(r)(t);angular.element(i[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(o)})},post:function(){}}}}}])}(),angular.module("ui.grid").run(["$templateCache",function(e){"use strict";e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row"><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" ui-grid-footer-cell col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix" ng-style="$index === 0 && colContainer.columnStyle($index)"></div></div></div></div>'),e.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>'),e.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>'),e.put("ui-grid/ui-grid-header",'<div class="ui-grid-header"><div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" ui-grid-header-cell col="col" render-index="$index" ng-style="$index === 0 && colContainer.columnStyle($index)"></div></div></div><div ui-grid-menu></div></div></div>'),e.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button" ng-click="toggleMenu()"><div class="ui-grid-icon-container"><i class="ui-grid-icon-menu">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),e.put("ui-grid/ui-grid-row",'<div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader }" ui-grid-cell></div>'),e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div>'),e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/uiGridColumnFilter",'<li class="ui-grid-menu-item ui-grid-clearfix ui-grid-column-filter" ng-show="itemShown()" ng-click="$event.stopPropagation();"><div class="input-container"><input class="column-filter-input" type="text" ng-model="item.model" placeholder="{{ i18n.search.placeholder }}"><div class="column-filter-cancel-icon-container"><i class="ui-grid-filter-cancel ui-grid-icon-cancel column-filter-cancel-icon">&nbsp;</i></div></div><div style="button-container" ng-click="item.action($event)"><div class="ui-grid-button"><i class="ui-grid-icon-search">&nbsp;</i></div></div></li>'),e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems"><!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --></div></div>'),e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),e.put("ui-grid/uiGridHeaderCell",'<div ng-class="{ \'sortable\': sortable }"><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><span>{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">&nbsp;</span></div><div class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}"><i class="ui-grid-icon-angle-down">&nbsp;</i></div><div ng-if="filterable" class="ui-grid-filter-container" ng-repeat="colFilter in col.filters"><input type="text" class="ui-grid-filter-input" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}"><div class="ui-grid-filter-button" ng-click="colFilter.term = null"><i class="ui-grid-icon-cancel" ng-show="!!colFilter.term">&nbsp;</i><!-- use !! because angular interprets \'f\' as false --></div></div></div>'),e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul class="ui-grid-menu-items"><li ng-repeat="item in menuItems" ui-grid-menu-item action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl"></li></ul></div></div></div>'),e.put("ui-grid/uiGridMenuItem",'<li class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\' : active() }"><i ng-class="icon"></i> {{ name }}</li>'),e.put("ui-grid/uiGridRenderContainer",'<div class="ui-grid-render-container"><div ui-grid-header></div><div ui-grid-viewport></div><div ui-grid-footer ng-if="grid.options.showColumnFooter"></div></div>'),e.put("ui-grid/uiGridViewport",'<div class="ui-grid-viewport" ng-style="containerCtrl.colContainer.getViewPortStyle()"><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="containerCtrl.rowStyle(rowRenderIndex)"><div ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\'\n     , height: grid.options.expandableRowHeight + \'px\'}"></div>'),e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),e.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" style=\"float:left; margin-top: 2px; margin-bottom: 2px\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px',\n              height: grid.options.expandableRowHeight + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{ 'margin-top': ( grid.options.expandableRowHeight/2 - 5) + 'px',\n            'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px' }\"></i></div>"),e.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></i></div></div>'),e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),e.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),e.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),e.put("ui-grid/pagination",'<div class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div class="ui-grid-pager-container"><div class="ui-grid-pager-control"><button type="button" ng-click="paginationApi.seek(1)" ng-disabled="cantPageBackward()"><div class="first-triangle"><div class="first-bar"></div></div></button> <button type="button" ng-click="paginationApi.previousPage()" ng-disabled="cantPageBackward()"><div class="first-triangle prev-triangle"></div></button> <input type="number" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0">/ {{ paginationApi.getTotalPages() }}</span> <button type="button" ng-click="paginationApi.nextPage()" ng-disabled="cantPageForward()"><div class="last-triangle next-triangle"></div></button> <button type="button" ng-click="paginationApi.seek(paginationApi.getTotalPages())" ng-disabled="cantPageToLast()"><div class="last-triangle"><div class="last-bar"></div></div></button></div><div class="ui-grid-pager-row-count-picker"><select ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{showingLow}} - {{showingHigh}} of {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>'),e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex"></div>'),e.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),e.put("ui-grid/selectionHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"></ui-grid-selection-select-all-buttons></div></div>'),e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>'),e.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)"></div>')}]),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(e){return{link:function(t,n,i){function r(){n.removeClass("collapse").addClass("collapsing"),e.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(o)}function o(){n.removeClass("collapsing"),n.css({height:"auto"})}function a(){n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing"),e.removeClass(n,"in",{to:{height:"0"}}).then(l)}function l(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}t.$watch(i.collapse,function(e){e?a():r()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){i.addGroup(e),e.$watch("isOpen",function(t){t&&i.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,i){e.$watch(function(){return i[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,i,r){e(function(){r.close()},parseInt(i.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,i){var r=i[0],o=i[1];o.$render=function(){t.toggleClass(r.activeClass,angular.equals(o.$modelValue,e.$eval(n.btnRadio)))},t.bind(r.toggleEvent,function(){var i=t.hasClass(r.activeClass);(!i||angular.isDefined(n.uncheckable))&&e.$apply(function(){o.$setViewValue(i?null:e.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,i){function r(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(t,n){var i=e.$eval(t);return angular.isDefined(i)?i:n}var l=i[0],s=i[1];s.$render=function(){t.toggleClass(l.activeClass,angular.equals(s.$modelValue,r()))},t.bind(l.toggleEvent,function(){e.$apply(function(){s.$setViewValue(t.hasClass(l.activeClass)?o():r()),s.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$interval","$animate",function(e,t,n){function i(e){if(angular.isUndefined(c[e].index))return c[e];var t;for(c.length,t=0;c.length>t;++t)if(c[t].index==e)return c[t]}function r(){o();var n=+e.interval;!isNaN(n)&&n>0&&(l=t(a,n))}function o(){l&&(t.cancel(l),l=null)}function a(){var t=+e.interval;s&&!isNaN(t)&&t>0?e.next():e.pause()}var l,s,u=this,c=u.slides=e.slides=[],d=-1;u.currentSlide=null;var p=!1;u.select=e.select=function(t,i){function o(){p||(angular.extend(t,{direction:i,active:!0}),angular.extend(u.currentSlide||{},{direction:i,active:!1}),n.enabled()&&!e.noTransition&&t.$element&&(e.$currentTransition=!0,t.$element.one("$animate:close",function(){e.$currentTransition=null})),u.currentSlide=t,d=a,r())}var a=u.indexOfSlide(t);void 0===i&&(i=a>u.getCurrentIndex()?"next":"prev"),t&&t!==u.currentSlide&&o()},e.$on("$destroy",function(){p=!0}),u.getCurrentIndex=function(){return u.currentSlide&&angular.isDefined(u.currentSlide.index)?+u.currentSlide.index:d},u.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:c.indexOf(e)},e.next=function(){var t=(u.getCurrentIndex()+1)%c.length;return e.$currentTransition?void 0:u.select(i(t),"next")},e.prev=function(){var t=0>u.getCurrentIndex()-1?c.length-1:u.getCurrentIndex()-1;return e.$currentTransition?void 0:u.select(i(t),"prev")},e.isActive=function(e){return u.currentSlide===e},e.$watch("interval",r),e.$on("$destroy",o),e.play=function(){s||(s=!0,r())},e.pause=function(){e.noPause||(s=!1,o())},u.addSlide=function(t,n){t.$element=n,c.push(t),1===c.length||t.active?(u.select(c[c.length-1]),1==c.length&&e.play()):t.active=!1},u.removeSlide=function(e){angular.isDefined(e.index)&&c.sort(function(e,t){return+e.index>+t.index});var t=c.indexOf(e);c.splice(t,1),c.length>0&&e.active?u.select(t>=c.length?c[t-1]:c[t]):d>t&&d--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(e,t,n,i){i.addSlide(e,t),e.$on("$destroy",function(){i.removeSlide(e)}),e.$watch("active",function(t){t&&i.select(e)})}}}).animation(".item",["$animate",function(e){return{beforeAddClass:function(t,n,i){if("active"==n&&t.parent()&&!t.parent().scope().noTransition){var r=!1,o=t.isolateScope().direction,a="next"==o?"left":"right";return t.addClass(o),e.addClass(t,a).then(function(){r||t.removeClass(a+" "+o),i()}),function(){r=!0}}i()},beforeRemoveClass:function(t,n,i){if("active"==n&&t.parent()&&!t.parent().scope().noTransition){var r=!1,o=t.isolateScope().direction,a="next"==o?"left":"right";return e.addClass(t,a).then(function(){r||t.removeClass(a),i()}),function(){r=!0}}i()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function n(e){var n=[],i=e.split("");return angular.forEach(o,function(t,r){var o=e.indexOf(r);if(o>-1){e=e.split(""),i[o]="("+t.regex+")",e[o]="$";for(var a=o+1,l=o+r.length;l>a;a++)i[a]="",e[a]="$";e=e.join(""),n.push({index:o,apply:t.apply})}}),{regex:RegExp("^"+i.join("")+"$"),map:t(n,"index")}}function i(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(0===e%4&&0!==e%100||0===e%400):3===t||5===t||8===t||10===t?31>n:!0}var r=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var o={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}}};this.parse=function(t,o,a){if(!angular.isString(t)||!o)return t;o=e.DATETIME_FORMATS[o]||o,o=o.replace(r,"\\$&"),this.parsers[o]||(this.parsers[o]=n(o));var l=this.parsers[o],s=l.regex,u=l.map,c=t.match(s);if(c&&c.length){var d,p;d=a?{year:a.getFullYear(),month:a.getMonth(),date:a.getDate(),hours:a.getHours(),minutes:a.getMinutes(),seconds:a.getSeconds(),milliseconds:a.getMilliseconds()}:{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};for(var g=1,f=c.length;f>g;g++){var h=u[g-1];h.apply&&h.apply.call(d,c[g])}return i(d.year,d.month,d.date)&&(p=new Date(d.year,d.month,d.date,d.hours,d.minutes,d.seconds,d.milliseconds||0)),p}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var r=function(t){for(var n=e[0],r=t.offsetParent||n;r&&r!==n&&i(r);)r=r.offsetParent;return r||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},o=r(t[0]);o!=e[0]&&(i=this.offset(angular.element(o)),i.top+=o.clientTop-o.scrollTop,i.left+=o.clientLeft-o.scrollLeft);var a=t[0].getBoundingClientRect();return{width:a.width||t.prop("offsetWidth"),height:a.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var r,o,a,l,s=n.split("-"),u=s[0],c=s[1]||"center";r=i?this.offset(e):this.position(e),o=t.prop("offsetWidth"),a=t.prop("offsetHeight");var d={center:function(){return r.left+r.width/2-o/2},left:function(){return r.left},right:function(){return r.left+r.width}},p={center:function(){return r.top+r.height/2-a/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(u){case"right":l={top:p[c](),left:d[u]()};break;case"left":l={top:p[c](),left:r.left-o};break;case"bottom":l={top:p[u](),left:d[c]()};break;default:l={top:r.top-a,left:d[c]()}}return l}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,i,r,o,a,l){var s=this,u={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,r){s[n]=angular.isDefined(t[n])?8>r?i(t[n])(e.$parent):e.$parent.$eval(t[n]):l[n]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(e){s[i]=e?new Date(e):null,s.refreshView()}):s[i]=l[i]?new Date(l[i]):null}),e.datepickerMode=e.datepickerMode||l.datepickerMode,e.maxMode=s.maxMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(u.$isEmpty(u.$modelValue)||u.$invalid)&&(s.activeDate=e,s.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===s.compare(t.date,s.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){u=e,u.$render=function(){s.render()}},this.render=function(){if(u.$viewValue){var e=new Date(u.$viewValue),t=!isNaN(e);t?this.activeDate=e:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),u.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=u.$viewValue?new Date(u.$viewValue):null;u.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=u.$viewValue?new Date(u.$viewValue):null;return{date:e,label:a(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&0>this.compare(n,this.minDate)||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===s.minMode){var n=u.$viewValue?new Date(u.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),u.$setViewValue(n),u.$render()}else s.activeDate=t,e.datepickerMode=s.modes[s.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=s.activeDate.getFullYear()+e*(s.step.years||0),n=s.activeDate.getMonth()+e*(s.step.months||0);s.activeDate.setFullYear(t,n,1),s.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===s.maxMode&&1===t||e.datepickerMode===s.minMode&&-1===t||(e.datepickerMode=s.modes[s.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){r(function(){s.element[0].focus()},0,!1)};e.$on("datepicker.focus",c),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),s.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(s.isDisabled(s.activeDate))return;e.select(s.activeDate),c()}else!t.ctrlKey||"up"!==n&&"down"!==n?(s.handleKeyDown(n,t),s.refreshView()):(e.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,i,r){function o(e,t){return 1!==t||0!==e%4||0===e%100&&0!==e%400?s[t]:29}function a(e,t){var n=Array(t),i=new Date(e),r=0;for(i.setHours(12);t>r;)n[r++]=new Date(i),i.setDate(i.getDate()+1);return n}function l(e){var t=new Date(e);
t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=r.showWeeks,r.step={months:1},r.element=n;var s=[31,28,31,30,31,30,31,31,30,31,30,31];r._refreshView=function(){var n=r.activeDate.getFullYear(),i=r.activeDate.getMonth(),o=new Date(n,i,1),s=r.startingDay-o.getDay(),u=s>0?7-s:-s,c=new Date(o);u>0&&c.setDate(-u+1);for(var d=a(c,42),p=0;42>p;p++)d[p]=angular.extend(r.createDateObject(d[p],r.formatDay),{secondary:d[p].getMonth()!==i,uid:t.uniqueId+"-"+p});t.labels=Array(7);for(var g=0;7>g;g++)t.labels[g]={abbr:e(d[g].date,r.formatDayHeader),full:e(d[g].date,"EEEE")};if(t.title=e(r.activeDate,r.formatDayTitle),t.rows=r.split(d,7),t.showWeeks){t.weekNumbers=[];for(var f=(11-r.startingDay)%7,h=t.rows.length,m=0;h>m;m++)t.weekNumbers.push(l(t.rows[m][f].date))}},r.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},r.handleKeyDown=function(e){var t=r.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=r.activeDate.getMonth()+("pageup"===e?-1:1);r.activeDate.setMonth(n,1),t=Math.min(o(r.activeDate.getFullYear(),r.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=o(r.activeDate.getFullYear(),r.activeDate.getMonth()));r.activeDate.setDate(t)},r.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,i,r){r.step={years:1},r.element=n,r._refreshView=function(){for(var n=Array(12),i=r.activeDate.getFullYear(),o=0;12>o;o++)n[o]=angular.extend(r.createDateObject(new Date(i,o,1),r.formatMonth),{uid:t.uniqueId+"-"+o});t.title=e(r.activeDate,r.formatMonthTitle),t.rows=r.split(n,3)},r.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},r.handleKeyDown=function(e){var t=r.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=r.activeDate.getFullYear()+("pageup"===e?-1:1);r.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);r.activeDate.setMonth(t)},r.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,i){function r(e){return parseInt((e-1)/o,10)*o+1}var o=i.yearRange;i.step={years:o},i.element=t,i._refreshView=function(){for(var t=Array(o),n=0,a=r(i.activeDate.getFullYear());o>n;n++)t[n]=angular.extend(i.createDateObject(new Date(a+n,0,1),i.formatYear),{uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[o-1].label].join(" - "),e.rows=i.split(t,5)},i.compare=function(e,t){return e.getFullYear()-t.getFullYear()},i.handleKeyDown=function(e){var t=i.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*i.step.years:"home"===e?t=r(i.activeDate.getFullYear()):"end"===e&&(t=r(i.activeDate.getFullYear())+o-1),i.activeDate.setFullYear(t)},i.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,i,r,o,a){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(l,s,u,c){function d(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function p(e){if(angular.isNumber(e)&&(e=new Date(e)),e){if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=o.parse(e,f,l.date)||new Date(e);return isNaN(t)?void 0:t}return void 0}return null}function g(e,t){var n=e||t;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var i=o.parse(n,f)||new Date(n);return!isNaN(i)}return!1}return!0}var f,h=angular.isDefined(u.closeOnDateSelection)?l.$parent.$eval(u.closeOnDateSelection):a.closeOnDateSelection,m=angular.isDefined(u.datepickerAppendToBody)?l.$parent.$eval(u.datepickerAppendToBody):a.appendToBody;l.showButtonBar=angular.isDefined(u.showButtonBar)?l.$parent.$eval(u.showButtonBar):a.showButtonBar,l.getText=function(e){return l[e+"Text"]||a[e+"Text"]};var v=!1;if(a.html5Types[u.type]?(f=a.html5Types[u.type],v=!0):(f=u.datepickerPopup||a.datepickerPopup,u.$observe("datepickerPopup",function(e){var t=e||a.datepickerPopup;if(t!==f&&(f=t,c.$modelValue=null,!f))throw Error("datepickerPopup must have a date format specified.")})),!f)throw Error("datepickerPopup must have a date format specified.");if(v&&u.datepickerPopup)throw Error("HTML5 date input types do not support custom formats.");var w=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");w.attr({"ng-model":"date","ng-change":"dateSelection()"});var b=angular.element(w.children()[0]);if(v&&"month"==u.type&&(b.attr("datepicker-mode",'"month"'),b.attr("min-mode","month")),u.datepickerOptions){var C=l.$parent.$eval(u.datepickerOptions);C.initDate&&(l.initDate=C.initDate,b.attr("init-date","initDate"),delete C.initDate),angular.forEach(C,function(e,t){b.attr(d(t),e)})}l.watchData={},angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(u[e]){var n=t(u[e]);if(l.$parent.$watch(n,function(t){l.watchData[e]=t}),b.attr(d(e),"watchData."+e),"datepickerMode"===e){var i=n.assign;l.$watch("watchData."+e,function(e,t){e!==t&&i(l.$parent,e)})}}}),u.dateDisabled&&b.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),u.showWeeks&&b.attr("show-weeks",u.showWeeks),u.customClass&&b.attr("custom-class","customClass({ date: date, mode: mode })"),v?c.$formatters.push(function(e){return l.date=e,e}):(c.$$parserName="date",c.$validators.date=g,c.$parsers.unshift(p),c.$formatters.push(function(e){return l.date=e,c.$isEmpty(e)?e:r(e,f)})),l.dateSelection=function(e){angular.isDefined(e)&&(l.date=e);var t=l.date?r(l.date,f):"";s.val(t),c.$setViewValue(t),h&&(l.isOpen=!1,s[0].focus())},c.$viewChangeListeners.push(function(){l.date=o.parse(c.$viewValue,f,l.date)||new Date(c.$viewValue)});var y=function(e){l.isOpen&&e.target!==s[0]&&l.$apply(function(){l.isOpen=!1})},x=function(e){l.keydown(e)};s.bind("keydown",x),l.keydown=function(e){27===e.which?(e.preventDefault(),l.isOpen&&e.stopPropagation(),l.close()):40!==e.which||l.isOpen||(l.isOpen=!0)},l.$watch("isOpen",function(e){e?(l.$broadcast("datepicker.focus"),l.position=m?i.offset(s):i.position(s),l.position.top=l.position.top+s.prop("offsetHeight"),n.bind("click",y)):n.unbind("click",y)}),l.select=function(e){if("today"===e){var t=new Date;angular.isDate(l.date)?(e=new Date(l.date),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}l.dateSelection(e)},l.close=function(){l.isOpen=!1,s[0].focus()};var S=e(w)(l);w.remove(),m?n.find("body").append(S):s.after(S),l.$on("$destroy",function(){S.remove(),s.unbind("keydown",x),n.unbind("click",y)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",i),e.bind("keydown",r)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",i),e.unbind("keydown",r))};var i=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var i=n.getToggleElement();if(!(e&&i&&i[0].contains(e.target))){var r=n.getElement();e&&"outsideClick"===n.getAutoClose()&&r&&r[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},r=function(e){27===e.which&&(n.focusToggleElement(),i())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document",function(e,t,n,i,r,o,a,l){var s,u=this,c=e.$new(),d=i.openClass,p=angular.noop,g=t.onToggle?n(t.onToggle):angular.noop,f=!1;this.init=function(i){u.$element=i,t.isOpen&&(s=n(t.isOpen),p=s.assign,e.$watch(s,function(e){c.isOpen=!!e})),f=angular.isDefined(t.dropdownAppendToBody),f&&u.dropdownMenu&&(l.find("body").append(u.dropdownMenu),i.on("$destroy",function(){u.dropdownMenu.remove()}))},this.toggle=function(e){return c.isOpen=arguments.length?!!e:!c.isOpen},this.isOpen=function(){return c.isOpen},c.getToggleElement=function(){return u.toggleElement},c.getAutoClose=function(){return t.autoClose||"always"},c.getElement=function(){return u.$element},c.focusToggleElement=function(){u.toggleElement&&u.toggleElement[0].focus()},c.$watch("isOpen",function(t,n){if(f&&u.dropdownMenu){var i=a.positionElements(u.$element,u.dropdownMenu,"bottom-left",!0);u.dropdownMenu.css({top:i.top+"px",left:i.left+"px",display:t?"block":"none"})}o[t?"addClass":"removeClass"](u.$element,d),t?(c.focusToggleElement(),r.open(c)):r.close(c),p(e,t),angular.isDefined(t)&&t!==n&&g(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){c.isOpen=!1}),e.$on("$destroy",function(){c.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,i){i.init(t)}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(e,t,n,i){i&&(i.dropdownMenu=t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,i){if(i){i.toggleElement=t;var r=function(r){r.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.bind("click",r),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",r)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;e.length>n;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;e.length>n;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;e.length>i;i++)if(t==e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){function t(t){t.animate=!1,e(function(){t.animate=!0})}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,n){return e.addClass(n.backdropClass),t}}}]).directive("modalWindow",["$modalStack","$q",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,i,r){i.addClass(r.windowClass||""),n.size=r.size,n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},n.$isRendered=!0;var o=t.defer();r.$observe("modalRender",function(e){"true"==e&&o.resolve()}),o.promise.then(function(){n.animate=!0;var t=i[0].querySelectorAll("[autofocus]");t.length?t[0].focus():i[0].focus();var r=e.getTop();r&&e.modalRendered(r.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,i,r){r(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,i,r,o){function a(){for(var e=-1,t=f.keys(),n=0;t.length>n;n++)f.get(t[n]).value.backdrop&&(e=n);return e}function l(e){var t=n.find("body").eq(0),i=f.get(e).value;f.remove(e),u(i.modalDomEl,i.modalScope,function(){t.toggleClass(g,f.length()>0),s()})}function s(){if(d&&-1==a()){var e=p;u(d,p,function(){e=null}),d=void 0,p=void 0}}function u(n,i,o){function a(){a.done||(a.done=!0,n.remove(),i.$destroy(),o&&o())}i.animate=!1,n.attr("modal-animation")&&e.enabled()?n.one("$animate:close",function(){r.$evalAsync(a)}):t(a)}function c(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var d,p,g="modal-open",f=o.createNew(),h={};return r.$watch(a,function(e){p&&(p.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=f.top(),t&&t.value.keyboard&&(e.preventDefault(),r.$apply(function(){h.dismiss(t.key,"escape key press")})))}),h.open=function(e,t){var o=n[0].activeElement;f.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var l=n.find("body").eq(0),s=a();if(s>=0&&!d){p=r.$new(!0),p.index=s;var u=angular.element('<div modal-backdrop="modal-backdrop"></div>');u.attr("backdrop-class",t.backdropClass),t.animation&&u.attr("modal-animation","true"),d=i(u)(p),l.append(d)}var c=angular.element('<div modal-window="modal-window"></div>');c.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:f.length()-1,animate:"animate"}).html(t.content),t.animation&&c.attr("modal-animation","true");var h=i(c)(t.scope);f.top().value.modalDomEl=h,f.top().value.modalOpener=o,l.append(h),l.addClass(g)},h.close=function(e,t){var n=f.get(e);return n&&c(n,t,!0)?(n.value.deferred.resolve(t),l(e),n.value.modalOpener.focus(),!0):!n},h.dismiss=function(e,t){var n=f.get(e);return n&&c(n,t,!1)?(n.value.deferred.reject(t),l(e),n.value.modalOpener.focus(),!0):!n},h.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},h.getTop=function(){return f.top()},h.modalRendered=function(e){var t=f.get(e);t&&t.value.renderDeferred.resolve()},h}]).provider("$modal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,n,i,r,o,a){function l(e){return e.template?i.when(e.template):r(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function s(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(i.when(t.invoke(e)))}),n}var u={};return u.open=function(t){var r=i.defer(),u=i.defer(),c=i.defer(),d={result:r.promise,opened:u.promise,rendered:c.promise,close:function(e){return a.close(d,e)},dismiss:function(e){return a.dismiss(d,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw Error("One of template or templateUrl options is required.");var p=i.all([l(t)].concat(s(t.resolve)));return p.then(function(e){var i=(t.scope||n).$new();i.$close=d.close,i.$dismiss=d.dismiss;var l,s={},u=1;t.controller&&(s.$scope=i,s.$modalInstance=d,angular.forEach(t.resolve,function(t,n){s[n]=e[u++]}),l=o(t.controller,s),t.controllerAs&&(i[t.controllerAs]=l)),a.open(d,{scope:i,deferred:r,renderDeferred:c,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){r.reject(e)}),p.then(function(){u.resolve(!0)},function(e){u.reject(e)}),d},u}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var i=this,r={$setViewValue:angular.noop},o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(a,l){r=a,this.config=l,r.$render=function(){i.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){i.itemsPerPage=parseInt(t,10),e.totalPages=i.calculateTotalPages()}):this.itemsPerPage=l.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=i.calculateTotalPages()}),e.$watch("totalPages",function(t){o(e.$parent,t),e.page>t?e.selectPage(t):r.$render()})},this.calculateTotalPages=function(){var t=1>this.itemsPerPage?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(r.$viewValue,10)||1},e.selectPage=function(t,n){e.page!==t&&t>0&&e.totalPages>=t&&(n&&n.target&&n.target.blur(),r.$setViewValue(t),r.$render())},e.getText=function(t){return e[t+"Text"]||i.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,i,r,o){function a(e,t,n){return{number:e,text:t,active:n}}function l(e,t){var n=[],i=1,r=t,o=angular.isDefined(c)&&t>c;o&&(d?(i=Math.max(e-Math.floor(c/2),1),r=i+c-1,r>t&&(r=t,i=r-c+1)):(i=(Math.ceil(e/c)-1)*c+1,r=Math.min(i+c-1,t)));for(var l=i;r>=l;l++){var s=a(l,l,l===e);n.push(s)}if(o&&!d){if(i>1){var u=a(i-1,"...",!1);n.unshift(u)}if(t>r){var p=a(r+1,"...",!1);n.push(p)}}return n}var s=o[0],u=o[1];if(u){var c=angular.isDefined(r.maxSize)?n.$parent.$eval(r.maxSize):t.maxSize,d=angular.isDefined(r.rotate)?n.$parent.$eval(r.rotate):t.rotate;n.boundaryLinks=angular.isDefined(r.boundaryLinks)?n.$parent.$eval(r.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(r.directionLinks)?n.$parent.$eval(r.directionLinks):t.directionLinks,s.init(u,t),r.maxSize&&n.$parent.$watch(e(r.maxSize),function(e){c=parseInt(e,10),s.render()});var p=s.render;s.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=l(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,i,r){var o=r[0],a=r[1];a&&(t.align=angular.isDefined(i.align)?t.$parent.$eval(i.align):e.align,o.init(a,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur"},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(r,o,a,l,s,u){return function(r,c,d,p){function g(e){var t=e||p.trigger||d,i=n[t]||t;return{show:t,hide:i}}p=angular.extend({},t,i,p);var f=e(r),h=u.startSymbol(),m=u.endSymbol(),v="<div "+f+'-popup title="'+h+"title"+m+'" '+(p.useContentExp?'content-exp="contentExp()" ':'content="'+h+"content"+m+'" ')+'placement="'+h+"placement"+m+'" popup-class="'+h+"popupClass"+m+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var e=o(v);return function(t,n,i){function o(){A.isOpen?d():u()}function u(){(!k||t.$eval(i[c+"Enable"]))&&(w(),A.popupDelay?T||(T=a(f,A.popupDelay,!1),T.then(function(e){e()})):f()())}function d(){t.$apply(function(){h()})}function f(){return T=null,$&&(a.cancel($),$=null),(p.useContentExp?A.contentExp():A.content)?(m(),S.css({top:0,left:0,display:"block"}),A.$digest(),P(),A.isOpen=!0,A.$apply(),P):angular.noop}function h(){A.isOpen=!1,a.cancel(T),T=null,A.animation?$||($=a(v,500)):v()}function m(){S&&v(),E=A.$new(),S=e(E,function(e){R?l.find("body").append(e):n.after(e)}),E.$watch(function(){a(P,0,!1)}),p.useContentExp&&E.$watch("contentExp()",function(e){!e&&A.isOpen&&h()})}function v(){$=null,S&&(S.remove(),S=null),E&&(E.$destroy(),E=null)}function w(){b(),C(),y()}function b(){A.popupClass=i[c+"Class"]}function C(){var e=i[c+"Placement"];A.placement=angular.isDefined(e)?e:p.placement}function y(){var e=i[c+"PopupDelay"],t=parseInt(e,10);A.popupDelay=isNaN(t)?p.popupDelay:t}function x(){var e=i[c+"Trigger"];M(),D=g(e),D.show===D.hide?n.bind(D.show,o):(n.bind(D.show,u),n.bind(D.hide,d))}var S,E,$,T,R=angular.isDefined(p.appendToBody)?p.appendToBody:!1,D=g(void 0),k=angular.isDefined(i[c+"Enable"]),A=t.$new(!0),P=function(){if(S){var e=s.positionElements(n,S,A.placement,R);e.top+="px",e.left+="px",S.css(e)}};A.origScope=t,A.isOpen=!1,A.contentExp=function(){return t.$eval(i[r])},p.useContentExp||i.$observe(r,function(e){A.content=e,!e&&A.isOpen&&h()}),i.$observe("disabled",function(e){e&&A.isOpen&&h()}),i.$observe(c+"Title",function(e){A.title=e});var M=function(){n.unbind(D.show,u),n.unbind(D.hide,d)};x();var I=t.$eval(i[c+"Animation"]);A.animation=angular.isDefined(I)?!!I:p.animation;var O=t.$eval(i[c+"AppendToBody"]);R=angular.isDefined(O)?O:R,R&&t.$on("$locationChangeSuccess",function(){A.isOpen&&h()}),t.$on("$destroy",function(){a.cancel($),a.cancel(T),M(),v(),A=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(r,o,a){var l,s,u,c=r.$eval(a.tooltipTemplateTranscludeScope),d=0,p=function(){s&&(s.remove(),s=null),l&&(l.$destroy(),l=null),u&&(e.leave(u).then(function(){s=null}),s=u,u=null)};r.$watch(t.parseAsResourceUrl(a.tooltipTemplateTransclude),function(t){var a=++d;t?(i(t,!0).then(function(i){if(a===d){var r=c.$new(),s=i,g=n(s)(r,function(t){p(),e.enter(t,o)});l=r,u=g,l.$emit("$includeContentLoaded",t)}},function(){a===d&&(p(),r.$emit("$includeContentError",t))}),r.$emit("$includeContentRequested",t)):p()}),r.$on("$destroy",p)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(e,t,n){return t||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var i=this,r=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n){r||n.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(n){t.percent=+(100*n/e.max).toFixed(2)}),t.$on("$destroy",function(){n=null,i.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var i={$setViewValue:angular.noop};this.init=function(r){i=r,i.$render=this.render,i.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var o=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&e.range.length>=t&&(i.$setViewValue(t),i.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},t.addTab=function(e){n.push(e),1===n.length&&e.active!==!1?e.active=!0:e.active?t.select(e):e.active=!1},t.removeTab=function(e){var r=n.indexOf(e);if(e.active&&n.length>1&&!i){var o=r==n.length-1?r-1:r+1;t.select(n[o])}n.splice(r,1)};var i;e.$on("$destroy",function(){i=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse","$log",function(e,t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(n,i,r){return function(n,i,o,a){n.$watch("active",function(e){e&&a.select(n)}),n.disabled=!1,o.disable&&n.$parent.$watch(e(o.disable),function(e){n.disabled=!!e}),o.disabled&&(t.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(e(o.disabled),function(e){n.disabled=!!e})),n.select=function(){n.disabled||(n.active=!0)},a.addTab(n),n.$on("$destroy",function(){a.removeTab(n)}),n.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,i){var r=t.$eval(i.tabContentTransclude);r.$transcludeFn(r.$parent,function(t){angular.forEach(t,function(t){e(t)?r.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,i,r,o){function a(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===h[1]&&(t+=12)),t):void 0}function l(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function s(e){return angular.isDefined(e)&&2>(""+e).length?"0"+e:""+e}function u(e){c(),f.$setViewValue(new Date(g)),d(e)}function c(){f.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function d(t){var n=g.getHours(),i=g.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:s(n),"m"!==t&&(e.minutes=s(i)),e.meridian=12>g.getHours()?h[0]:h[1]}function p(e){var t=new Date(g.getTime()+6e4*e);g.setHours(t.getHours(),t.getMinutes()),u()}var g=new Date,f={$setViewValue:angular.noop},h=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):o.meridians||r.DATETIME_FORMATS.AMPMS;this.init=function(n,i){f=n,f.$render=this.render,f.$formatters.unshift(function(e){return e?new Date(e):null});var r=i.eq(0),a=i.eq(1),l=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):o.mousewheel;l&&this.setupMousewheelEvents(r,a);var s=angular.isDefined(t.arrowkeys)?e.$parent.$eval(t.arrowkeys):o.arrowkeys;s&&this.setupArrowkeyEvents(r,a),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):o.readonlyInput,this.setupInputEvents(r,a)};var m=o.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){m=parseInt(e,10)});var v=o.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){v=parseInt(e,10)}),e.showMeridian=o.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,f.$error.time){var n=a(),i=l();angular.isDefined(n)&&angular.isDefined(i)&&(g.setHours(n),u())}else d()}),this.setupMousewheelEvents=function(t,n){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()
})},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())}),n.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var i=function(t,n){f.$setViewValue(null),f.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=a();angular.isDefined(e)?(g.setHours(e),u("h")):i(!0)},t.bind("blur",function(){!e.invalidHours&&10>e.hours&&e.$apply(function(){e.hours=s(e.hours)})}),e.updateMinutes=function(){var e=l();angular.isDefined(e)?(g.setMinutes(e),u("m")):i(void 0,!0)},n.bind("blur",function(){!e.invalidMinutes&&10>e.minutes&&e.$apply(function(){e.minutes=s(e.minutes)})})},this.render=function(){var e=f.$viewValue;isNaN(e)?(f.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(g=e),c(),d())},e.incrementHours=function(){p(60*m)},e.decrementHours=function(){p(60*-m)},e.incrementMinutes=function(){p(v)},e.decrementMinutes=function(){p(-v)},e.toggleMeridian=function(){p(720*(12>g.getHours()?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o,t.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(e,t,n,i,r){function o(e){for(var t in e)if(void 0!==l.style[t])return e[t]}r||i.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var a=function(i,r,o){o=o||{};var l=e.defer(),s=a[o.animation?"animationEndEventName":"transitionEndEventName"],u=function(){n.$apply(function(){i.unbind(s,u),l.resolve(i)})};return s&&i.bind(s,u),t(function(){angular.isString(r)?i.addClass(r):angular.isFunction(r)?r(i):angular.isObject(r)&&i.css(r),s||l.resolve(i)}),l.promise.cancel=function(){s&&i.unbind(s,u),l.reject("Transition cancelled")},l.promise},l=document.createElement("trans"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},u={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return a.transitionEndEventName=o(s),a.animationEndEventName=o(u),a}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,i,r,o,a){var l=[9,13,27,38,40];return{require:"ngModel",link:function(s,u,c,d){var p,g=s.$eval(c.typeaheadMinLength)||1,f=s.$eval(c.typeaheadWaitMs)||0,h=s.$eval(c.typeaheadEditable)!==!1,m=t(c.typeaheadLoading).assign||angular.noop,v=t(c.typeaheadOnSelect),w=c.typeaheadInputFormatter?t(c.typeaheadInputFormatter):void 0,b=c.typeaheadAppendToBody?s.$eval(c.typeaheadAppendToBody):!1,C=s.$eval(c.typeaheadFocusFirst)!==!1,y=t(c.ngModel).assign,x=a.parse(c.typeahead),S=s.$new();s.$on("$destroy",function(){S.$destroy()});var E="typeahead-"+S.$id+"-"+Math.floor(1e4*Math.random());u.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":E});var $=angular.element("<div typeahead-popup></div>");$.attr({id:E,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&$.attr("template-url",c.typeaheadTemplateUrl);var T=function(){S.matches=[],S.activeIdx=-1,u.attr("aria-expanded",!1)},R=function(e){return E+"-option-"+e};S.$watch("activeIdx",function(e){0>e?u.removeAttr("aria-activedescendant"):u.attr("aria-activedescendant",R(e))});var D=function(e){var t={$viewValue:e};m(s,!0),n.when(x.source(s,t)).then(function(n){var i=e===d.$viewValue;if(i&&p)if(n&&n.length>0){S.activeIdx=C?0:-1,S.matches.length=0;for(var r=0;n.length>r;r++)t[x.itemName]=n[r],S.matches.push({id:R(r),label:x.viewMapper(S,t),model:n[r]});S.query=e,S.position=b?o.offset(u):o.position(u),S.position.top=S.position.top+u.prop("offsetHeight"),u.attr("aria-expanded",!0)}else T();i&&m(s,!1)},function(){T(),m(s,!1)})};T(),S.query=void 0;var k,A=function(e){k=i(function(){D(e)},f)},P=function(){k&&i.cancel(k)};d.$parsers.unshift(function(e){return p=!0,e&&e.length>=g?f>0?(P(),A(e)):D(e):(m(s,!1),P(),T()),h?e:e?void d.$setValidity("editable",!1):(d.$setValidity("editable",!0),e)}),d.$formatters.push(function(e){var t,n,i={};return h||d.$setValidity("editable",!0),w?(i.$model=e,w(s,i)):(i[x.itemName]=e,t=x.viewMapper(s,i),i[x.itemName]=void 0,n=x.viewMapper(s,i),t!==n?t:e)}),S.select=function(e){var t,n,r={};r[x.itemName]=n=S.matches[e].model,t=x.modelMapper(s,r),y(s,t),d.$setValidity("editable",!0),d.$setValidity("parse",!0),v(s,{$item:n,$model:t,$label:x.viewMapper(s,r)}),T(),i(function(){u[0].focus()},0,!1)},u.bind("keydown",function(e){0!==S.matches.length&&-1!==l.indexOf(e.which)&&(-1!=S.activeIdx||13!==e.which&&9!==e.which)&&(e.preventDefault(),40===e.which?(S.activeIdx=(S.activeIdx+1)%S.matches.length,S.$digest()):38===e.which?(S.activeIdx=(S.activeIdx>0?S.activeIdx:S.matches.length)-1,S.$digest()):13===e.which||9===e.which?S.$apply(function(){S.select(S.activeIdx)}):27===e.which&&(e.stopPropagation(),T(),S.$digest()))}),u.bind("blur",function(){p=!1});var M=function(e){u[0]!==e.target&&(T(),S.$digest())};r.bind("click",M),s.$on("$destroy",function(){r.unbind("click",M),b&&I.remove(),$.remove()});var I=e($)(S);b?r.find("body").append(I):u.after(I)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var a=n(o.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e(a).then(function(e){t(e.trim())(i,function(e){r.replaceWith(e)})})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?(""+t).replace(RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href="javascript:void(0)" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:\'index\' track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}" ng-class="dt.customClass">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n	ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1, $event)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1, $event)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1, $event)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1, $event)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages, $event)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-window.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-window.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen, fade: animation }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" tooltip-template-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.module("ui.alias",[]).config(["$compileProvider","uiAliasConfig",function(e,t){t=t||{},angular.forEach(t,function(t,n){angular.isString(t)&&(t={replace:!0,template:t}),e.directive(n,function(){return t})})}]),angular.module("ui.event",[]).directive("uiEvent",["$parse",function(e){return function(t,n,i){var r=t.$eval(i.uiEvent);angular.forEach(r,function(i,r){var o=e(i);n.bind(r,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),o(t,{$event:e,$params:n}),t.$$phase||t.$apply()})})}}]),angular.module("ui.format",[]).filter("format",function(){return function(e,t){var n=e;if(angular.isString(n)&&void 0!==t)if(angular.isArray(t)||angular.isObject(t)||(t=[t]),angular.isArray(t)){var i=t.length,r=function(e,n){return n=parseInt(n,10),n>=0&&i>n?t[n]:e};n=n.replace(/\$([0-9]+)/g,r)}else angular.forEach(t,function(e,t){n=n.split(":"+t).join(e)});return n}}),angular.module("ui.highlight",[]).filter("highlight",function(){return function(e,t,n){return t||angular.isNumber(t)?(e=""+e,t=""+t,n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.include",[]).directive("uiInclude",["$http","$templateCache","$anchorScroll","$compile",function(e,t,n,i){return{restrict:"ECA",terminal:!0,compile:function(r,o){var a=o.uiInclude||o.src,l=o.fragment||"",s=o.onload||"",u=o.autoscroll;return function(r,o){function c(){var c=++p,f=r.$eval(a),h=r.$eval(l);f?e.get(f,{cache:t}).success(function(e){if(c===p){d&&d.$destroy(),d=r.$new();var t;t=h?angular.element("<div/>").html(e).find(h):angular.element("<div/>").html(e).contents(),o.html(t),i(t)(d),!angular.isDefined(u)||u&&!r.$eval(u)||n(),d.$emit("$includeContentLoaded"),r.$eval(s)}}).error(function(){c===p&&g()}):g()}var d,p=0,g=function(){d&&(d.$destroy(),d=null),o.html("")};r.$watch(l,c),r.$watch(a,c)}}}}]),angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){return{compile:function(e,t){return t.type&&"checkbox"===t.type.toLowerCase()?function(e,t,n){e.$watch(n.uiIndeterminate,function(e){t[0].indeterminate=!!e})}:angular.noop}}}]),angular.module("ui.inflector",[]).filter("inflector",function(){function e(e){return e.replace(/^([a-z])|\s+([a-z])/g,function(e){return e.toUpperCase()})}function t(e,t){return e.replace(/[A-Z]/g,function(e){return t+e})}var n={humanize:function(n){return e(t(n," ").split("_").join(" "))},underscore:function(e){return e.substr(0,1).toLowerCase()+t(e.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(t){return t=t.substr(0,1).toLowerCase()+e(t.split("_").join(" ")).substr(1).split(" ").join("")}};return function(e,t){return t!==!1&&angular.isString(e)?(t=t||"humanize",n[t](e)):e}}),angular.module("ui.jq",[]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","$timeout",function(e,t){return{restrict:"A",compile:function(n,i){if(!angular.isFunction(n[i.uiJq]))throw Error('ui-jq: The "'+i.uiJq+'" function does not exist');var r=e&&e[i.uiJq];return function(e,n,i){function o(){t(function(){n[i.uiJq].apply(n,a)},0,!1)}var a=[];i.uiOptions?(a=e.$eval("["+i.uiOptions+"]"),angular.isObject(r)&&angular.isObject(a[0])&&(a[0]=angular.extend({},r,a[0]))):r&&(a=[r]),i.ngModel&&n.is("select,input,textarea")&&n.bind("change",function(){n.trigger("input")}),i.uiRefresh&&e.$watch(i.uiRefresh,function(){o()}),o()}}}}]),angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(e){var t={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(i,r,o,a){var l,s=[];l=r.$eval(a["ui"+n(i)]),angular.forEach(l,function(t,n){var i,r;r=e(t),angular.forEach(n.split(" "),function(e){i={expression:r,keys:{}},angular.forEach(e.split("-"),function(e){i.keys[e]=!0}),s.push(i)})}),o.bind(i,function(e){var n=!(!e.metaKey||e.ctrlKey),o=!!e.altKey,a=!!e.ctrlKey,l=!!e.shiftKey,u=e.keyCode;"keypress"===i&&!l&&u>=97&&122>=u&&(u-=32),angular.forEach(s,function(i){var s=i.keys[t[u]]||i.keys[""+u],c=!!i.keys.meta,d=!!i.keys.alt,p=!!i.keys.ctrl,g=!!i.keys.shift;s&&c===n&&d===o&&p===a&&g===l&&r.$apply(function(){i.expression(r,{$event:e})})})})}}]),angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(e){return{link:function(t,n,i){e("keydown",t,n,i)}}}]),angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(e){return{link:function(t,n,i){e("keypress",t,n,i)}}}]),angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(e){return{link:function(t,n,i){e("keyup",t,n,i)}}}]),angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/}}).directive("uiMask",["uiMaskConfig",function(e){return{priority:100,require:"ngModel",restrict:"A",compile:function(){var t=e;return function(e,n,i,r){function o(e){return angular.isDefined(e)?(w(e),L?(c(),d(),!0):u()):u()}function a(e){angular.isDefined(e)&&(k=e,L&&x())}function l(e){return L?(M=f(e||""),O=g(M),r.$setValidity("mask",O),O&&M.length?h(M):void 0):e}function s(e){return L?(M=f(e||""),O=g(M),r.$viewValue=M.length?h(M):"",r.$setValidity("mask",O),""===M&&void 0!==r.$error.required&&r.$setValidity("required",!1),O?M:void 0):e}function u(){return L=!1,p(),angular.isDefined(W)?n.attr("placeholder",W):n.removeAttr("placeholder"),angular.isDefined(U)?n.attr("maxlength",U):n.removeAttr("maxlength"),n.val(r.$modelValue),r.$viewValue=r.$modelValue,!1}function c(){M=N=f(r.$modelValue||""),I=F=h(M),O=g(M);var e=O&&M.length?I:"";i.maxlength&&n.attr("maxlength",2*R[R.length-1]),n.attr("placeholder",k),n.val(e),r.$viewValue=e}function d(){V||(n.bind("blur",b),n.bind("mousedown mouseup",C),n.bind("input keyup click focus",x),V=!0)}function p(){V&&(n.unbind("blur",b),n.unbind("mousedown",C),n.unbind("mouseup",C),n.unbind("input",x),n.unbind("keyup",x),n.unbind("click",x),n.unbind("focus",x),V=!1)}function g(e){return e.length?e.length>=P:!0}function f(e){var t="",n=D.slice();return e=""+e,angular.forEach(A,function(t){e=e.replace(t,"")}),angular.forEach(e.split(""),function(e){n.length&&n[0].test(e)&&(t+=e,n.shift())}),t}function h(e){var t="",n=R.slice();return angular.forEach(k.split(""),function(i,r){e.length&&r===n[0]?(t+=e.charAt(0)||"_",e=e.substr(1),n.shift()):t+=i
}),t}function m(e){var t=i.placeholder;return t!==void 0&&t[e]?t[e]:"_"}function v(){return k.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_")}function w(e){var t=0;if(R=[],D=[],k="","string"==typeof e){P=0;var n=!1,i=e.split("");angular.forEach(i,function(e,i){j.maskDefinitions[e]?(R.push(t),k+=m(i),D.push(j.maskDefinitions[e]),t++,n||P++):"?"===e?n=!0:(k+=e,t++)})}R.push(R.slice().pop()+1),A=v(),L=R.length>1?!0:!1}function b(){G=0,H=0,O&&0!==M.length||(I="",n.val(""),e.$apply(function(){r.$setViewValue("")}))}function C(e){"mousedown"===e.type?n.bind("mouseout",y):n.unbind("mouseout",y)}function y(){H=T(this),n.unbind("mouseout",y)}function x(t){t=t||{};var i=t.which,o=t.type;if(16!==i&&91!==i){var a,l=n.val(),s=F,u=f(l),c=N,d=!1,p=E(this)||0,g=G||0,m=p-g,v=R[0],w=R[u.length]||R.slice().shift(),b=H||0,C=T(this)>0,y=b>0,x=l.length>s.length||b&&l.length>s.length-b,D=l.length<s.length||b&&l.length===s.length-b,k=i>=37&&40>=i&&t.shiftKey,A=37===i,P=8===i||"keyup"!==o&&D&&-1===m,M=46===i||"keyup"!==o&&D&&0===m&&!y,I=(A||P||"click"===o)&&p>v;if(H=T(this),!k&&(!C||"click"!==o&&"keyup"!==o)){if("input"===o&&D&&!y&&u===c){for(;P&&p>v&&!S(p);)p--;for(;M&&w>p&&-1===R.indexOf(p);)p++;var O=R.indexOf(p);u=u.substring(0,O)+u.substring(O+1),d=!0}for(a=h(u),F=a,N=u,n.val(a),d&&e.$apply(function(){r.$setViewValue(u)}),x&&v>=p&&(p=v+1),I&&p--,p=p>w?w:v>p?v:p;!S(p)&&p>v&&w>p;)p+=I?-1:1;(I&&w>p||x&&!S(g))&&p++,G=p,$(this,p)}}}function S(e){return R.indexOf(e)>-1}function E(e){if(!e)return 0;if(void 0!==e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();return t.moveStart("character",-e.value.length),t.text.length}return 0}function $(e,t){if(!e)return 0;if(0!==e.offsetWidth&&0!==e.offsetHeight)if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}function T(e){return e?void 0!==e.selectionStart?e.selectionEnd-e.selectionStart:document.selection?document.selection.createRange().text.length:0:0}var R,D,k,A,P,M,I,O,F,N,G,H,L=!1,V=!1,W=i.placeholder,U=i.maxlength,j={};i.uiOptions?(j=e.$eval("["+i.uiOptions+"]"),angular.isObject(j[0])&&(j=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]?angular.extend(t[n],e[n]):t[n]=angular.copy(e[n]));return t}(t,j[0]))):j=t,i.$observe("uiMask",o),i.$observe("placeholder",a),r.$formatters.push(l),r.$parsers.push(s),n.bind("mousedown mouseup",C),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&1/0!==i&&i!==-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);n>r;r++)if(r in t&&t[r]===e)return r;return-1})}}}}]),angular.module("ui.reset",[]).value("uiResetConfig",null).directive("uiReset",["uiResetConfig",function(e){var t=null;return void 0!==e&&(t=e),{require:"ngModel",link:function(e,n,i,r){var o;o=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(o),o.bind("click",function(n){n.preventDefault(),e.$apply(function(){r.$setViewValue(i.uiReset?e.$eval(i.uiReset):t),r.$render()})})}}}]),angular.module("ui.route",[]).directive("uiRoute",["$location","$parse",function(e,t){return{restrict:"AC",scope:!0,compile:function(n,i){var r;if(i.uiRoute)r="uiRoute";else if(i.ngHref)r="ngHref";else{if(!i.href)throw Error("uiRoute missing a route or href property on "+n[0]);r="href"}return function(n,i,o){function a(t){var i=t.indexOf("#");i>-1&&(t=t.substr(i+1)),(u=function(){s(n,e.path().indexOf(t)>-1)})()}function l(t){var i=t.indexOf("#");i>-1&&(t=t.substr(i+1)),(u=function(){var i=RegExp("^"+t+"$",["i"]);s(n,i.test(e.path()))})()}var s=t(o.ngModel||o.routeModel||"$uiRoute").assign,u=angular.noop;switch(r){case"uiRoute":o.uiRoute?l(o.uiRoute):o.$observe("uiRoute",l);break;case"ngHref":o.ngHref?a(o.ngHref):o.$observe("ngHref",a);break;case"href":a(o.href)}n.$on("$routeChangeSuccess",function(){u()}),n.$on("$stateChangeSuccess",function(){u()})}}}}]),angular.module("ui.scroll.jqlite",["ui.scroll"]).service("jqLiteExtras",["$log","$window",function(e,t){return{registerFor:function(e){var n,i,r,o,a,l,s;return i=angular.element.prototype.css,e.prototype.css=function(e,t){var n,r;return r=this,n=r[0],n&&3!==n.nodeType&&8!==n.nodeType&&n.style?i.call(r,e,t):void 0},l=function(e){return e&&e.document&&e.location&&e.alert&&e.setInterval},s=function(e,t,n){var i,r,o,a,s;return i=e[0],s={top:["scrollTop","pageYOffset","scrollLeft"],left:["scrollLeft","pageXOffset","scrollTop"]}[t],r=s[0],a=s[1],o=s[2],l(i)?angular.isDefined(n)?i.scrollTo(e[o].call(e),n):a in i?i[a]:i.document.documentElement[r]:angular.isDefined(n)?i[r]=n:i[r]},t.getComputedStyle?(o=function(e){return t.getComputedStyle(e,null)},n=function(e,t){return parseFloat(t)}):(o=function(e){return e.currentStyle},n=function(e,t){var n,i,r,o,a,l,s;return n=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,o=RegExp("^("+n+")(?!px)[a-z%]+$","i"),o.test(t)?(s=e.style,i=s.left,a=e.runtimeStyle,l=a&&a.left,a&&(a.left=s.left),s.left=t,r=s.pixelLeft,s.left=i,l&&(a.left=l),r):parseFloat(t)}),r=function(e,t){var i,r,a,s,u,c,d,p,g,f,h,m,v;return l(e)?(i=document.documentElement[{height:"clientHeight",width:"clientWidth"}[t]],{base:i,padding:0,border:0,margin:0}):(v={width:[e.offsetWidth,"Left","Right"],height:[e.offsetHeight,"Top","Bottom"]}[t],i=v[0],d=v[1],p=v[2],c=o(e),h=n(e,c["padding"+d])||0,m=n(e,c["padding"+p])||0,r=n(e,c["border"+d+"Width"])||0,a=n(e,c["border"+p+"Width"])||0,s=c["margin"+d],u=c["margin"+p],g=n(e,s)||0,f=n(e,u)||0,{base:i,padding:h+m,border:r+a,margin:g+f})},a=function(e,t,n){var i,a,l;return a=r(e,t),a.base>0?{base:a.base-a.padding-a.border,outer:a.base,outerfull:a.base+a.margin}[n]:(i=o(e),l=i[t],(0>l||null===l)&&(l=e.style[t]||0),l=parseFloat(l)||0,{base:l-a.padding-a.border,outer:l,outerfull:l+a.padding+a.border+a.margin}[n])},angular.forEach({before:function(e){var t,n,i,r,o,a,l;if(o=this,n=o[0],r=o.parent(),t=r.contents(),t[0]===n)return r.prepend(e);for(i=a=1,l=t.length-1;l>=1?l>=a:a>=l;i=l>=1?++a:--a)if(t[i]===n)return void angular.element(t[i-1]).after(e);throw Error("invalid DOM structure "+n.outerHTML)},height:function(e){var t;return t=this,angular.isDefined(e)?(angular.isNumber(e)&&(e+="px"),i.call(t,"height",e)):a(this[0],"height","base")},outerHeight:function(e){return a(this[0],"height",e?"outerfull":"outer")},offset:function(e){var t,n,i,r,o,a;return o=this,arguments.length?void 0===e?o:e:(t={top:0,left:0},r=o[0],(n=r&&r.ownerDocument)?(i=n.documentElement,r.getBoundingClientRect&&(t=r.getBoundingClientRect()),a=n.defaultView||n.parentWindow,{top:t.top+(a.pageYOffset||i.scrollTop)-(i.clientTop||0),left:t.left+(a.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):void 0)},scrollTop:function(e){return s(this,"top",e)},scrollLeft:function(e){return s(this,"left",e)}},function(t,n){return e.prototype[n]?void 0:e.prototype[n]=t})}}}]).run(["$log","$window","jqLiteExtras",function(e,t,n){return t.jQuery?void 0:n.registerFor(angular.element)}]),angular.module("ui.scroll",[]).directive("ngScrollViewport",["$log",function(){return{controller:["$scope","$element",function(e,t){return t}]}}]).directive("ngScroll",["$log","$injector","$rootScope","$timeout",function(e,t,n,i){return{require:["?^ngScrollViewport"],transclude:"element",priority:1e3,terminal:!0,compile:function(r,o,a){return function(o,l,s,u){var c,d,p,g,f,h,m,v,w,b,C,y,x,S,E,$,T,R,D,k,A,P,M,I,O,F,N,G,H,L,V,W,U,j,_,z;if(I=s.ngScroll.match(/^\s*(\w+)\s+in\s+(\w+)\s*$/),!I)throw Error('Expected ngScroll in form of "item_ in _datasource_" but got "'+s.ngScroll+'"');if(P=I[1],y=I[2],k=function(e){return angular.isObject(e)&&e.get&&angular.isFunction(e.get)},C=o[y],!k(C)&&(C=t.get(y),!k(C)))throw Error(y+" is not a valid datasource");return v=Math.max(3,+s.bufferSize||10),m=function(){return z.height()*Math.max(.1,+s.padding||.1)},V=function(e){return e[0].scrollHeight||e[0].document.documentElement.scrollHeight},c=null,a(j=o.$new(),function(e){var t,n,i,o,a,l;if(o=e[0].localName,"dl"===o)throw Error("ng-scroll directive does not support <"+e[0].localName+"> as a repeating tag: "+e[0].outerHTML);return"li"!==o&&"tr"!==o&&(o="div"),l=u[0]||angular.element(window),l.css({"overflow-y":"auto",display:"block"}),i=function(e){var t,n,i;switch(e){case"tr":return i=angular.element("<table><tr><td><div></div></td></tr></table>"),t=i.find("div"),n=i.find("tr"),n.paddingHeight=function(){return t.height.apply(t,arguments)},n;default:return n=angular.element("<"+e+"></"+e+">"),n.paddingHeight=n.height,n}},n=function(e,t,n){return t[{top:"before",bottom:"after"}[n]](e),{paddingHeight:function(){return e.paddingHeight.apply(e,arguments)},insert:function(t){return e[{top:"after",bottom:"before"}[n]](t)}}},a=n(i(o),r,"top"),t=n(i(o),r,"bottom"),j.$destroy(),c={viewport:l,topPadding:a.paddingHeight,bottomPadding:t.paddingHeight,append:t.insert,prepend:a.insert,bottomDataPos:function(){return V(l)-t.paddingHeight()},topDataPos:function(){return a.paddingHeight()}}}),z=c.viewport,R=1,O=1,h=[],F=[],S=!1,g=!1,M=C.loading||function(){},A=!1,G=function(e,t){var n,i;for(n=i=e;t>=e?t>i:i>t;n=t>=e?++i:--i)h[n].scope.$destroy(),h[n].element.remove();return h.splice(e,t-e)},N=function(){return R=1,O=1,G(0,h.length),c.topPadding(0),c.bottomPadding(0),F=[],S=!1,g=!1,d(!1)},f=function(){return z.scrollTop()+z.height()},_=function(){return z.scrollTop()},W=function(){return!S&&c.bottomDataPos()<f()+m()},w=function(){var t,n,i,r,o,a;for(t=0,r=0,n=o=a=h.length-1;(0>=a?0>=o:o>=0)&&(i=h[n].element.outerHeight(!0),c.bottomDataPos()-t-i>f()+m());n=0>=a?++o:--o)t+=i,r++,S=!1;return r>0?(c.bottomPadding(c.bottomPadding()+t),G(h.length-r,h.length),O-=r,e.log("clipped off bottom "+r+" bottom padding "+c.bottomPadding())):void 0},U=function(){return!g&&c.topDataPos()>_()-m()},b=function(){var t,n,i,r,o,a;for(r=0,i=0,o=0,a=h.length;a>o&&(t=h[o],n=t.element.outerHeight(!0),c.topDataPos()+r+n<_()-m());o++)r+=n,i++,g=!1;return i>0?(c.topPadding(c.topPadding()+r),G(0,i),R+=i,e.log("clipped off top "+i+" top padding "+c.topPadding())):void 0},x=function(e,t){return A||(A=!0,M(!0)),1===F.push(e)?$(t):void 0},D=function(e,t){var n,i,r;return n=o.$new(),n[P]=t,i=e>R,n.$index=e,i&&n.$index--,r={scope:n},a(n,function(t){return r.element=t,i?e===O?(c.append(t),h.push(r)):(h[e-R].element.after(t),h.splice(e-R+1,0,r)):(c.prepend(t),h.unshift(r))}),{appended:i,wrapper:r}},p=function(e,t){var n;return e?c.bottomPadding(Math.max(0,c.bottomPadding()-t.element.outerHeight(!0))):(n=c.topPadding()-t.element.outerHeight(!0),n>=0?c.topPadding(n):z.scrollTop(z.scrollTop()+t.element.outerHeight(!0)))},d=function(t,n,r){var o;return o=function(){return e.log("top {actual="+c.topDataPos()+" visible from="+_()+" bottom {visible through="+f()+" actual="+c.bottomDataPos()+"}"),W()?x(!0,t):U()&&x(!1,t),r?r():void 0},n?i(function(){var e,t,i;for(t=0,i=n.length;i>t;t++)e=n[t],p(e.appended,e.wrapper);return o()}):o()},T=function(e,t){return d(e,t,function(){return F.shift(),0===F.length?(A=!1,M(!1)):$(e)})},$=function(t){var n;return n=F[0],n?h.length&&!W()?T(t):C.get(O,v,function(n){var i,r,o,a;if(r=[],0===n.length)S=!0,c.bottomPadding(0),e.log("appended: requested "+v+" records starting from "+O+" recieved: eof");else{for(b(),o=0,a=n.length;a>o;o++)i=n[o],r.push(D(++O,i));e.log("appended: requested "+v+" received "+n.length+" buffer size "+h.length+" first "+R+" next "+O)}return T(t,r)}):h.length&&!U()?T(t):C.get(R-v,v,function(n){var i,r,o,a;if(r=[],0===n.length)g=!0,c.topPadding(0),e.log("prepended: requested "+v+" records starting from "+(R-v)+" recieved: bof");else{for(w(),i=o=a=n.length-1;0>=a?0>=o:o>=0;i=0>=a?++o:--o)r.unshift(D(--R,n[i]));e.log("prepended: requested "+v+" received "+n.length+" buffer size "+h.length+" first "+R+" next "+O)}return T(t,r)})},H=function(){return n.$$phase||A?void 0:(d(!1),o.$apply())},z.bind("resize",H),L=function(){return n.$$phase||A?void 0:(d(!0),o.$apply())},z.bind("scroll",L),o.$watch(C.revision,function(){return N()}),E=C.scope?C.scope.$new():o.$new(),o.$on("$destroy",function(){return E.$destroy(),z.unbind("resize",H),z.unbind("scroll",L)}),E.$on("update.items",function(e,t,n){var i,r,o,a,l;if(angular.isFunction(t))for(r=function(e){return t(e.scope)},o=0,a=h.length;a>o;o++)i=h[o],r(i);else(l=t-R-1)>=0&&h.length>l&&(h[t-R-1].scope[P]=n);return null}),E.$on("delete.items",function(e,t){var n,i,r,o,a,l,s,u,c,p,g,f;if(angular.isFunction(t)){for(r=[],l=0,c=h.length;c>l;l++)i=h[l],r.unshift(i);for(a=function(e){return t(e.scope)?(G(r.length-1-n,r.length-n),O--):void 0},n=s=0,p=r.length;p>s;n=++s)o=r[n],a(o)}else(f=t-R-1)>=0&&h.length>f&&(G(t-R-1,t-R),O--);for(n=u=0,g=h.length;g>u;n=++u)i=h[n],i.scope.$index=R+n;return d(!1)}),E.$on("insert.item",function(e,t,n){var i,r,o,a,l,s,u,c,p,g,f,m;if(r=[],angular.isFunction(t)){for(o=[],s=0,p=h.length;p>s;s++)n=h[s],o.unshift(n);for(l=function(e){var o,a,l,s,u;if(a=t(e.scope)){if(D=function(e,t){return D(e,t),O++},angular.isArray(a)){for(u=[],o=l=0,s=a.length;s>l;o=++l)n=a[o],u.push(r.push(D(i+o,n)));return u}return r.push(D(i,a))}},i=u=0,g=o.length;g>u;i=++u)a=o[i],l(a)}else(m=t-R-1)>=0&&h.length>m&&(r.push(D(t,n)),O++);for(i=c=0,f=h.length;f>c;i=++c)n=h[i],n.scope.$index=R+i;return d(!1,r)})}}}}]),angular.module("ui.scrollfix",[]).directive("uiScrollfix",["$window",function(e){return{require:"^?uiScrollfixTarget",link:function(t,n,i,r){function o(){var t;if(angular.isDefined(e.pageYOffset))t=e.pageYOffset;else{var r=document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body;t=r.scrollTop}!n.hasClass("ui-scrollfix")&&t>i.uiScrollfix?n.addClass("ui-scrollfix"):n.hasClass("ui-scrollfix")&&i.uiScrollfix>t&&n.removeClass("ui-scrollfix")}var a=n[0].offsetTop,l=r&&r.$element||angular.element(e);i.uiScrollfix?"string"==typeof i.uiScrollfix&&("-"===i.uiScrollfix.charAt(0)?i.uiScrollfix=a-parseFloat(i.uiScrollfix.substr(1)):"+"===i.uiScrollfix.charAt(0)&&(i.uiScrollfix=a+parseFloat(i.uiScrollfix.substr(1)))):i.uiScrollfix=a,l.on("scroll",o),t.$on("$destroy",function(){l.off("scroll",o)})}}}]).directive("uiScrollfixTarget",[function(){return{controller:["$element",function(e){this.$element=e}]}}]),angular.module("ui.showhide",[]).directive("uiShow",[function(){return function(e,t,n){e.$watch(n.uiShow,function(e){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(e,t,n){e.$watch(n.uiHide,function(e){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(e,t,n){e.$watch(n.uiToggle,function(e){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.unique",[]).filter("unique",["$parse",function(e){return function(t,n){if(n===!1)return t;if((n||angular.isUndefined(n))&&angular.isArray(t)){var i=[],r=angular.isString(n)?e(n):function(e){return e},o=function(e){return angular.isObject(e)?r(e):e};angular.forEach(t,function(e){for(var t=!1,n=0;i.length>n;n++)if(angular.equals(o(i[n]),o(e))){t=!0;break}t||i.push(e)}),t=i}return t}}]),angular.module("ui.validate",[]).directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){function r(t){return angular.isString(t)?void e.$watch(t,function(){angular.forEach(a,function(e){e(i.$modelValue)})}):angular.isArray(t)?void angular.forEach(t,function(t){e.$watch(t,function(){angular.forEach(a,function(e){e(i.$modelValue)})})}):void(angular.isObject(t)&&angular.forEach(t,function(t,n){angular.isString(t)&&e.$watch(t,function(){a[n](i.$modelValue)}),angular.isArray(t)&&angular.forEach(t,function(t){e.$watch(t,function(){a[n](i.$modelValue)})})}))}var o,a={},l=e.$eval(n.uiValidate);l&&(angular.isString(l)&&(l={validator:l}),angular.forEach(l,function(t,n){o=function(r){var o=e.$eval(t,{$value:r});return angular.isObject(o)&&angular.isFunction(o.then)?(o.then(function(){i.$setValidity(n,!0)},function(){i.$setValidity(n,!1)}),r):o?(i.$setValidity(n,!0),r):(i.$setValidity(n,!1),r)},a[n]=o,i.$formatters.push(o),i.$parsers.push(o)}),n.uiValidateWatch&&r(e.$eval(n.uiValidateWatch)))}}}),angular.module("ui.utils",["ui.event","ui.format","ui.highlight","ui.include","ui.indeterminate","ui.inflector","ui.jq","ui.keypress","ui.mask","ui.reset","ui.route","ui.scrollfix","ui.scroll","ui.scroll.jqlite","ui.showhide","ui.unique","ui.validate"]),function(){var e;e=angular.module("ui.bootstrap.showErrors",[]),e.directive("showErrors",["$timeout","showErrorsConfig","$interpolate",function(e,t,n){var i,r,o;return r=function(e){var n;return n=t.trigger,e&&null!=e.trigger&&(n=e.trigger),n},i=function(e){var n;return n=t.showSuccess,e&&null!=e.showSuccess&&(n=e.showSuccess),n},o=function(t,o,a,l){var s,u,c,d,p,g,f,h;if(s=!1,p=t.$eval(a.showErrors),g=i(p),h=r(p),u=o[0].querySelector(".form-control[name]"),d=angular.element(u),c=n(d.attr("name")||"")(t),!c)throw"show-errors element has no child input elements with a 'name' attribute and a 'form-control' class";return d.bind(h,function(){return s=!0,f(l[c].$invalid)}),t.$watch(function(){return l[c]&&l[c].$invalid},function(e){return s?f(e):void 0}),t.$on("show-errors-check-validity",function(){return f(l[c].$invalid)}),t.$on("show-errors-reset",function(){return e(function(){return o.removeClass("has-error"),o.removeClass("has-success"),s=!1},0,!1)}),f=function(e){return o.toggleClass("has-error",e),g?o.toggleClass("has-success",!e):void 0}},{restrict:"A",require:"^form",compile:function(e){if(!e.hasClass("form-group"))throw"show-errors element does not have the 'form-group' class";return o}}}]),e.provider("showErrorsConfig",function(){var e,t;e=!1,t="blur",this.showSuccess=function(t){return e=t},this.trigger=function(e){return t=e},this.$get=function(){return{showSuccess:e,trigger:t}}})}.call(this),function(){function e(e){function t(t,n,i,r,o,a){for(;o>=0&&a>o;o+=e){var l=r?r[o]:o;i=n(i,t[l],l,t)}return i}return function(n,i,r,o){i=b(i,o,4);var a=!T(n)&&w.keys(n),l=(a||n).length,s=e>0?0:l-1;return 3>arguments.length&&(r=n[a?a[s]:s],s+=e),t(n,i,r,a,s,l)}}function t(e){return function(t,n,i){n=C(n,i);for(var r=$(t),o=e>0?0:r-1;o>=0&&r>o;o+=e)if(n(t[o],o,t))return o;return-1}}function n(e,t,n){return function(i,r,o){var a=0,l=$(i);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+l,a):l=o>=0?Math.min(o+1,l):o+l+1;else if(n&&o&&l)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=t(c.call(i,a,l),w.isNaN),o>=0?o+a:-1;for(o=e>0?a:l-1;o>=0&&l>o;o+=e)if(i[o]===r)return o;return-1}}function i(e,t){var n=P.length,i=e.constructor,r=w.isFunction(i)&&i.prototype||l,o="constructor";for(w.has(e,o)&&!w.contains(t,o)&&t.push(o);n--;)o=P[n],o in e&&e[o]!==r[o]&&!w.contains(t,o)&&t.push(o)}var r=this,o=r._,a=Array.prototype,l=Object.prototype,s=Function.prototype,u=a.push,c=a.slice,d=l.toString,p=l.hasOwnProperty,g=Array.isArray,f=Object.keys,h=s.bind,m=Object.create,v=function(){},w=function(e){return e instanceof w?e:this instanceof w?(this._wrapped=e,void 0):new w(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=w),exports._=w):r._=w,w.VERSION="1.8.3";var b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},C=function(e,t,n){return null==e?w.identity:w.isFunction(e)?b(e,t,n):w.isObject(e)?w.matcher(e):w.property(e)};w.iteratee=function(e,t){return C(e,t,1/0)};var y=function(e,t){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var o=arguments[r],a=e(o),l=a.length,s=0;l>s;s++){var u=a[s];t&&void 0!==n[u]||(n[u]=o[u])}return n}},x=function(e){if(!w.isObject(e))return{};if(m)return m(e);v.prototype=e;var t=new v;return v.prototype=null,t},S=function(e){return function(t){return null==t?void 0:t[e]}},E=Math.pow(2,53)-1,$=S("length"),T=function(e){var t=$(e);return"number"==typeof t&&t>=0&&E>=t};w.each=w.forEach=function(e,t,n){t=b(t,n);var i,r;if(T(e))for(i=0,r=e.length;r>i;i++)t(e[i],i,e);else{var o=w.keys(e);for(i=0,r=o.length;r>i;i++)t(e[o[i]],o[i],e)}return e},w.map=w.collect=function(e,t,n){t=C(t,n);for(var i=!T(e)&&w.keys(e),r=(i||e).length,o=Array(r),a=0;r>a;a++){var l=i?i[a]:a;o[a]=t(e[l],l,e)}return o},w.reduce=w.foldl=w.inject=e(1),w.reduceRight=w.foldr=e(-1),w.find=w.detect=function(e,t,n){var i;return i=T(e)?w.findIndex(e,t,n):w.findKey(e,t,n),void 0!==i&&-1!==i?e[i]:void 0},w.filter=w.select=function(e,t,n){var i=[];return t=C(t,n),w.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},w.reject=function(e,t,n){return w.filter(e,w.negate(C(t)),n)},w.every=w.all=function(e,t,n){t=C(t,n);for(var i=!T(e)&&w.keys(e),r=(i||e).length,o=0;r>o;o++){var a=i?i[o]:o;if(!t(e[a],a,e))return!1}return!0},w.some=w.any=function(e,t,n){t=C(t,n);for(var i=!T(e)&&w.keys(e),r=(i||e).length,o=0;r>o;o++){var a=i?i[o]:o;if(t(e[a],a,e))return!0}return!1},w.contains=w.includes=w.include=function(e,t,n,i){return T(e)||(e=w.values(e)),("number"!=typeof n||i)&&(n=0),w.indexOf(e,t,n)>=0},w.invoke=function(e,t){var n=c.call(arguments,2),i=w.isFunction(t);return w.map(e,function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)})},w.pluck=function(e,t){return w.map(e,w.property(t))},w.where=function(e,t){return w.filter(e,w.matcher(t))},w.findWhere=function(e,t){return w.find(e,w.matcher(t))},w.max=function(e,t,n){var i,r,o=-1/0,a=-1/0;if(null==t&&null!=e){e=T(e)?e:w.values(e);for(var l=0,s=e.length;s>l;l++)i=e[l],i>o&&(o=i)}else t=C(t,n),w.each(e,function(e,n,i){r=t(e,n,i),(r>a||r===-1/0&&o===-1/0)&&(o=e,a=r)});return o},w.min=function(e,t,n){var i,r,o=1/0,a=1/0;if(null==t&&null!=e){e=T(e)?e:w.values(e);for(var l=0,s=e.length;s>l;l++)i=e[l],o>i&&(o=i)}else t=C(t,n),w.each(e,function(e,n,i){r=t(e,n,i),(a>r||1/0===r&&1/0===o)&&(o=e,a=r)});return o},w.shuffle=function(e){for(var t,n=T(e)?e:w.values(e),i=n.length,r=Array(i),o=0;i>o;o++)t=w.random(0,o),t!==o&&(r[o]=r[t]),r[t]=n[o];return r},w.sample=function(e,t,n){return null==t||n?(T(e)||(e=w.values(e)),e[w.random(e.length-1)]):w.shuffle(e).slice(0,Math.max(0,t))},w.sortBy=function(e,t,n){return t=C(t,n),w.pluck(w.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var R=function(e){return function(t,n,i){var r={};return n=C(n,i),w.each(t,function(i,o){var a=n(i,o,t);e(r,i,a)}),r}};w.groupBy=R(function(e,t,n){w.has(e,n)?e[n].push(t):e[n]=[t]}),w.indexBy=R(function(e,t,n){e[n]=t}),w.countBy=R(function(e,t,n){w.has(e,n)?e[n]++:e[n]=1}),w.toArray=function(e){return e?w.isArray(e)?c.call(e):T(e)?w.map(e,w.identity):w.values(e):[]},w.size=function(e){return null==e?0:T(e)?e.length:w.keys(e).length},w.partition=function(e,t,n){t=C(t,n);var i=[],r=[];return w.each(e,function(e,n,o){(t(e,n,o)?i:r).push(e)}),[i,r]},w.first=w.head=w.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:w.initial(e,e.length-t)},w.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},w.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:w.rest(e,Math.max(0,e.length-t))},w.rest=w.tail=w.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},w.compact=function(e){return w.filter(e,w.identity)};var D=function(e,t,n,i){for(var r=[],o=0,a=i||0,l=$(e);l>a;a++){var s=e[a];if(T(s)&&(w.isArray(s)||w.isArguments(s))){t||(s=D(s,t,n));var u=0,c=s.length;for(r.length+=c;c>u;)r[o++]=s[u++]}else n||(r[o++]=s)}return r};w.flatten=function(e,t){return D(e,t,!1)},w.without=function(e){return w.difference(e,c.call(arguments,1))},w.uniq=w.unique=function(e,t,n,i){w.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=C(n,i));for(var r=[],o=[],a=0,l=$(e);l>a;a++){var s=e[a],u=n?n(s,a,e):s;t?(a&&o===u||r.push(s),o=u):n?w.contains(o,u)||(o.push(u),r.push(s)):w.contains(r,s)||r.push(s)}return r},w.union=function(){return w.uniq(D(arguments,!0,!0))},w.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=$(e);r>i;i++){var o=e[i];if(!w.contains(t,o)){for(var a=1;n>a&&w.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},w.difference=function(e){var t=D(arguments,!0,!0,1);return w.filter(e,function(e){return!w.contains(t,e)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(e){for(var t=e&&w.max(e,$).length||0,n=Array(t),i=0;t>i;i++)n[i]=w.pluck(e,i);return n},w.object=function(e,t){for(var n={},i=0,r=$(e);r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},w.findIndex=t(1),w.findLastIndex=t(-1),w.sortedIndex=function(e,t,n,i){n=C(n,i,1);for(var r=n(t),o=0,a=$(e);a>o;){var l=Math.floor((o+a)/2);r>n(e[l])?o=l+1:a=l}return o},w.indexOf=n(1,w.findIndex,w.sortedIndex),w.lastIndexOf=n(-1,w.findLastIndex),w.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;i>o;o++,e+=n)r[o]=e;return r};var k=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=x(e.prototype),a=e.apply(o,r);return w.isObject(a)?a:o};w.bind=function(e,t){if(h&&e.bind===h)return h.apply(e,c.call(arguments,1));if(!w.isFunction(e))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return k(e,i,t,this,n.concat(c.call(arguments)))};return i},w.partial=function(e){var t=c.call(arguments,1),n=function(){for(var i=0,r=t.length,o=Array(r),a=0;r>a;a++)o[a]=t[a]===w?arguments[i++]:t[a];for(;arguments.length>i;)o.push(arguments[i++]);return k(e,n,this,this,o)};return n},w.bindAll=function(e){var t,n,i=arguments.length;if(1>=i)throw Error("bindAll must be passed function names");for(t=1;i>t;t++)n=arguments[t],e[n]=w.bind(e[n],e);return e},w.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return w.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},w.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},w.defer=w.partial(w.delay,w,1),w.throttle=function(e,t,n){var i,r,o,a=null,l=0;n||(n={});var s=function(){l=n.leading===!1?0:w.now(),a=null,o=e.apply(i,r),a||(i=r=null)};return function(){var u=w.now();l||n.leading!==!1||(l=u);var c=t-(u-l);return i=this,r=arguments,0>=c||c>t?(a&&(clearTimeout(a),a=null),l=u,o=e.apply(i,r),a||(i=r=null)):a||n.trailing===!1||(a=setTimeout(s,c)),o}},w.debounce=function(e,t,n){var i,r,o,a,l,s=function(){var u=w.now()-a;t>u&&u>=0?i=setTimeout(s,t-u):(i=null,n||(l=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=w.now();var u=n&&!i;return i||(i=setTimeout(s,t)),u&&(l=e.apply(o,r),o=r=null),l}},w.wrap=function(e,t){return w.partial(t,e)},w.negate=function(e){return function(){return!e.apply(this,arguments)}},w.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},w.after=function(e,t){return function(){return 1>--e?t.apply(this,arguments):void 0}},w.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},w.once=w.partial(w.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(e){if(!w.isObject(e))return[];if(f)return f(e);var t=[];for(var n in e)w.has(e,n)&&t.push(n);return A&&i(e,t),t},w.allKeys=function(e){if(!w.isObject(e))return[];var t=[];for(var n in e)t.push(n);return A&&i(e,t),t},w.values=function(e){for(var t=w.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},w.mapObject=function(e,t,n){t=C(t,n);for(var i,r=w.keys(e),o=r.length,a={},l=0;o>l;l++)i=r[l],a[i]=t(e[i],i,e);return a},w.pairs=function(e){for(var t=w.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},w.invert=function(e){for(var t={},n=w.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},w.functions=w.methods=function(e){var t=[];for(var n in e)w.isFunction(e[n])&&t.push(n);return t.sort()},w.extend=y(w.allKeys),w.extendOwn=w.assign=y(w.keys),w.findKey=function(e,t,n){t=C(t,n);for(var i,r=w.keys(e),o=0,a=r.length;a>o;o++)if(i=r[o],t(e[i],i,e))return i},w.pick=function(e,t,n){var i,r,o={},a=e;if(null==a)return o;w.isFunction(t)?(r=w.allKeys(a),i=b(t,n)):(r=D(arguments,!1,!1,1),i=function(e,t,n){return t in n},a=Object(a));for(var l=0,s=r.length;s>l;l++){var u=r[l],c=a[u];i(c,u,a)&&(o[u]=c)}return o},w.omit=function(e,t,n){if(w.isFunction(t))t=w.negate(t);else{var i=w.map(D(arguments,!1,!1,1),String);t=function(e,t){return!w.contains(i,t)}}return w.pick(e,t,n)},w.defaults=y(w.allKeys,!0),w.create=function(e,t){var n=x(e);return t&&w.extendOwn(n,t),n},w.clone=function(e){return w.isObject(e)?w.isArray(e)?e.slice():w.extend({},e):e},w.tap=function(e,t){return t(e),e},w.isMatch=function(e,t){var n=w.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;i>o;o++){var a=n[o];if(t[a]!==r[a]||!(a in r))return!1}return!0};var M=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof w&&(e=e._wrapped),t instanceof w&&(t=t._wrapped);var r=d.call(e);if(r!==d.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,l=t.constructor;if(a!==l&&!(w.isFunction(a)&&a instanceof a&&w.isFunction(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var s=n.length;s--;)if(n[s]===e)return i[s]===t;if(n.push(e),i.push(t),o){if(s=e.length,s!==t.length)return!1;for(;s--;)if(!M(e[s],t[s],n,i))return!1}else{var u,c=w.keys(e);if(s=c.length,w.keys(t).length!==s)return!1;for(;s--;)if(u=c[s],!w.has(t,u)||!M(e[u],t[u],n,i))return!1}return n.pop(),i.pop(),!0};w.isEqual=function(e,t){return M(e,t)},w.isEmpty=function(e){return null==e?!0:T(e)&&(w.isArray(e)||w.isString(e)||w.isArguments(e))?0===e.length:0===w.keys(e).length},w.isElement=function(e){return!(!e||1!==e.nodeType)},w.isArray=g||function(e){return"[object Array]"===d.call(e)},w.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){w["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),w.isArguments(arguments)||(w.isArguments=function(e){return w.has(e,"callee")}),"object"!=typeof Int8Array&&(w.isFunction=function(e){return"function"==typeof e||!1}),w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!==+e},w.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===d.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,t){return null!=e&&p.call(e,t)},w.noConflict=function(){return r._=o,this},w.identity=function(e){return e},w.constant=function(e){return function(){return e}},w.noop=function(){},w.property=S,w.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},w.matcher=w.matches=function(e){return e=w.extendOwn({},e),function(t){return w.isMatch(t,e)}},w.times=function(e,t,n){var i=Array(Math.max(0,e));t=b(t,n,1);for(var r=0;e>r;r++)i[r]=t(r);return i},w.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},w.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},O=w.invert(I),F=function(e){var t=function(t){return e[t]},n="(?:"+w.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");
return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};w.escape=F(I),w.unescape=F(O),w.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),w.isFunction(i)?i.call(e):i};var N=0;w.uniqueId=function(e){var t=++N+"";return e?e+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var G=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g,V=function(e){return"\\"+H[e]};w.template=function(e,t,n){!t&&n&&(t=n),t=w.defaults({},t,w.templateSettings);var i=RegExp([(t.escape||G).source,(t.interpolate||G).source,(t.evaluate||G).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,a,l){return o+=e.slice(r,l).replace(L,V),r=l+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=Function(t.variable||"obj","_",o)}catch(l){throw l.source=o,l}var s=function(e){return a.call(this,e,w)},u=t.variable||"obj";return s.source="function("+u+"){\n"+o+"}",s},w.chain=function(e){var t=w(e);return t._chain=!0,t};var W=function(e,t){return e._chain?w(t).chain():t};w.mixin=function(e){w.each(w.functions(e),function(t){var n=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),W(this,n.apply(w,e))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];w.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],W(this,n)}}),w.each(["concat","join","slice"],function(e){var t=a[e];w.prototype[e]=function(){return W(this,t.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return w})}.call(this);