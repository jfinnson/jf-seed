/*! jf-seed - v0.0.1 - 2015-07-17
 * Copyright (c) 2015 ; */"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function r(e,t){return L(new(L(function(){},{prototype:e})),t)}function i(e){return H(arguments,function(t){t!==e&&H(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function a(e){if(Object.keys)return Object.keys(e);var t=[];return H(e,function(e,n){t.push(n)}),t}function l(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in e&&e[r]===t)return r;return-1}function s(e,t,n,r){var i,s=o(n,r),u={},c=[];for(var d in s)if(s[d].params&&(i=a(s[d].params),i.length))for(var p in i)l(c,i[p])>=0||(c.push(i[p]),u[i[p]]=e[i[p]]);return L({},u,t)}function u(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;n.length>i;i++){var o=n[i];if(e[o]!=t[o])return!1}return!0}function c(e,t){var n={};return H(e,function(e){n[e]=t[e]}),n}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return H(n,function(n){n in e&&(t[n]=e[n])}),t}function p(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)-1==l(n,r)&&(t[r]=e[r]);return t}function f(e,t){var n=G(e),r=n?[]:{};return H(e,function(e,i){t(e,i)&&(r[n?r.length:i]=e)}),r}function g(e,t){var n=G(e)?[]:{};return H(e,function(e,r){n[r]=t(e,r)}),n}function h(e,t){var r=1,o=2,s={},u=[],c=s,d=L(e.when(s),{$$promises:s,$$values:s});this.study=function(s){function f(e,n){if(w[n]!==o){if(v.push(n),w[n]===r)throw v.splice(0,l(v,n)),Error("Cyclic dependency: "+v.join(" -> "));if(w[n]=r,F(e))m.push(n,[function(){return t.get(e)}],u);else{var i=t.annotate(e);H(i,function(e){e!==n&&s.hasOwnProperty(e)&&f(s[e],e)}),m.push(n,e,i)}v.pop(),w[n]=o}}function g(e){return N(e)&&e.then&&e.$$promises}if(!N(s))throw Error("'invocables' must be an object");var h=a(s||{}),m=[],v=[],w={};return H(s,f),s=v=w=null,function(r,o,a){function l(){--C||(y||i(b,o.$$values),v.$$values=b,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,f.resolve(b))}function s(e){v.$$failure=e,f.reject(e)}function u(n,i,o){function u(e){d.reject(e),s(e)}function c(){if(!I(v.$$failure))try{d.resolve(t.invoke(i,a,b)),d.promise.then(function(e){b[n]=e,l()},u)}catch(e){u(e)}}var d=e.defer(),p=0;H(o,function(e){w.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(p++,w[e].then(function(t){b[e]=t,--p||c()},u))}),p||c(),w[n]=d.promise}if(g(r)&&a===n&&(a=o,o=r,r=null),r){if(!N(r))throw Error("'locals' must be an object")}else r=c;if(o){if(!g(o))throw Error("'parent' must be a promise returned by $resolve.resolve()")}else o=d;var f=e.defer(),v=f.promise,w=v.$$promises={},b=L({},r),C=1+m.length/3,y=!1;if(I(o.$$failure))return s(o.$$failure),v;o.$$inheritedValues&&i(b,p(o.$$inheritedValues,h)),L(w,o.$$promises),o.$$values?(y=i(b,p(o.$$values,h)),v.$$inheritedValues=p(o.$$values,h),l()):(o.$$inheritedValues&&(v.$$inheritedValues=p(o.$$inheritedValues,h)),o.then(l,s));for(var $=0,x=m.length;x>$;$+=3)r.hasOwnProperty(m[$])?l():u(m[$],m[$+1],m[$+2]);return v}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function m(e,t,n){this.fromConfig=function(e,t,n){return I(e.template)?this.fromString(e.template,t):I(e.templateUrl)?this.fromUrl(e.templateUrl,t):I(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return O(e)?e(t):e},this.fromUrl=function(n,r){return O(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function v(e,t,i){function o(t,n,r,i){if(m.push(t),g[t])return g[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(h[t])throw Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return h[t]=new j.Param(t,n,r,i),h[t]}function a(e,t,n,r){var i=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:i=["?(",")?"];break;default:i=["("+n+"|",")?"]}return o+i[0]+t+i[1]}function l(i,o){var a,l,s,u,c;return a=i[2]||i[3],c=t.params[a],s=e.substring(p,i.index),l=o?i[4]:i[4]||("*"==i[1]?".*":null),u=j.type(l||"string")||r(j.type("string"),{pattern:RegExp(l,t.caseInsensitive?"i":n)}),{id:a,regexp:l,segment:s,type:u,cfg:c}}t=L({params:{}},N(t)?t:{});var s,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",p=0,f=this.segments=[],g=i?i.params:{},h=this.params=i?i.params.$$new():new j.ParamSet,m=[];this.source=e;for(var v,w,b;(s=u.exec(e))&&(v=l(s,!1),!(v.segment.indexOf("?")>=0));)w=o(v.id,v.type,v.cfg,"path"),d+=a(v.segment,w.type.pattern.source,w.squash,w.isOptional),f.push(v.segment),p=u.lastIndex;b=e.substring(p);var C=b.indexOf("?");if(C>=0){var y=this.sourceSearch=b.substring(C);if(b=b.substring(0,C),this.sourcePath=e.substring(0,p+C),y.length>0)for(p=0;s=c.exec(y);)v=l(s,!0),w=o(v.id,v.type,v.cfg,"search"),p=u.lastIndex}else this.sourcePath=e,this.sourceSearch="";d+=a(b)+(t.strict===!1?"/?":"")+"$",f.push(b),this.regexp=RegExp(d,t.caseInsensitive?"i":n),this.prefix=f[0],this.$$paramNames=m}function w(e){L(this,e)}function b(){function e(e){return null!=e?(""+e).replace(/\//g,"%2F"):e}function i(e){return null!=e?(""+e).replace(/%2F/g,"/"):e}function o(){return{strict:h,caseInsensitive:p}}function s(e){return O(e)||G(e)&&O(e[e.length-1])}function u(){for(;$.length;){var e=$.shift();if(e.pattern)throw Error("You cannot override a type's .pattern at runtime.");t.extend(C[e.name],d.invoke(e.def))}}function c(e){L(this,e||{})}j=this;var d,p=!1,h=!0,m=!1,C={},y=!0,$=[],x={string:{encode:e,decode:i,is:function(e){return null==e||!I(e)||"string"==typeof e},pattern:/[^/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return I(e)&&this.decode(""+e)===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};b.$$getDefaultValue=function(e){if(!s(e.value))return e.value;if(!d)throw Error("Injectable functions cannot be called at configuration time");return d.invoke(e.value)},this.caseInsensitive=function(e){return I(e)&&(p=e),p},this.strictMode=function(e){return I(e)&&(h=e),h},this.defaultSquashPolicy=function(e){if(!I(e))return m;if(e!==!0&&e!==!1&&!F(e))throw Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return m=e,e},this.compile=function(e,t){return new v(e,L(o(),t))},this.isMatcher=function(e){if(!N(e))return!1;var t=!0;return H(v.prototype,function(n,r){O(n)&&(t=t&&I(e[r])&&O(e[r]))}),t},this.type=function(e,t,n){if(!I(t))return C[e];if(C.hasOwnProperty(e))throw Error("A type named '"+e+"' has already been defined.");return C[e]=new w(L({name:e},t)),n&&($.push({name:e,def:n}),y||u()),this},H(x,function(e,t){C[t]=new w(L({name:t},e))}),C=r(C,{}),this.$get=["$injector",function(e){return d=e,y=!1,u(),H(x,function(e,t){C[t]||(C[t]=new w(e))}),this}],this.Param=function(e,t,r,i){function o(e){var t=N(e)?a(e):[],n=-1===l(t,"value")&&-1===l(t,"type")&&-1===l(t,"squash")&&-1===l(t,"array");return n&&(e={value:e}),e.$$fn=s(e.value)?e.value:function(){return e.value},e}function u(t,n,r){if(t.type&&n)throw Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof w?t.type:new w(t.type):"config"===r?C.any:C.string}function c(){var t={array:"search"===i?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return L(t,n,r).array}function p(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!I(n)||null==n)return m;if(n===!0||F(n))return n;throw Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function h(e,t,r,i){var o,a,s=[{from:"",to:r||t?n:""},{from:null,to:r||t?n:""}];return o=G(e.replace)?e.replace:[],F(i)&&o.push({from:i,to:n}),a=g(o,function(e){return e.from}),f(s,function(e){return-1===l(a,e.from)}).concat(o)}function v(){if(!d)throw Error("Injectable functions cannot be called at configuration time");var e=d.invoke(r.$$fn);if(null!==e&&e!==n&&!$.type.is(e))throw Error("Default value ("+e+") for parameter '"+$.id+"' is not an instance of Type ("+$.type.name+")");return e}function b(e){function t(e){return function(t){return t.from===e}}function n(e){var n=g(f($.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),I(e)?$.type.$normalize(e):v()}function y(){return"{Param:"+e+" "+t+" squash: '"+E+"' optional: "+S+"}"}var $=this;r=o(r),t=u(r,t,i);var x=c();t=x?t.$asArray(x,"search"===i):t,"string"!==t.name||x||"path"!==i||r.value!==n||(r.value="");var S=r.value!==n,E=p(r,S),T=h(r,x,S,E);L(this,{id:e,type:t,location:i,array:x,squash:E,replace:T,isOptional:S,value:b,dynamic:n,config:r,toString:y})},c.prototype={$$new:function(){return r(this,L(new c,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=a(c.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),H(t,function(t){H(a(t),function(t){-1===l(e,t)&&-1===l(r,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return H(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return H(r.$$keys(),function(i){var o=e&&e[i],a=t&&t[i];r[i].type.equals(o,a)||(n=!1)}),n},$$validates:function(e){var r,i,o,a,l,s=this.$$keys();for(r=0;s.length>r&&(i=this[s[r]],o=e[s[r]],o!==n&&null!==o||!i.isOptional);r++){if(a=i.type.$normalize(o),!i.type.is(a))return!1;if(l=i.type.encode(a),t.isString(l)&&!i.type.pattern.exec(l))return!1}return!0},$$parent:n},this.ParamSet=c}function C(e,r){function i(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function a(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return I(r)?r:!0}function l(r,i,o,a){function l(e,t,n){return"/"===h?e:t?h.slice(0,-1)+e:n?h.slice(1)+e:e}function p(e){function t(e){var t=e(o,r);return t?(F(t)&&r.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){g&&r.url()===g,g=n;var i,a=u.length;for(i=0;a>i;i++)if(t(u[i]))return;c&&t(c)}}function f(){return s=s||i.$on("$locationChangeSuccess",p)}var g,h=a.baseHref(),m=r.url();return d||f(),{sync:function(){p()},listen:function(){return f()},update:function(e){return e?(m=r.url(),n):(r.url()!==m&&(r.url(m),r.replace()),n)},push:function(e,t,i){var o=e.format(t||{});null!==o&&t&&t["#"]&&(o+="#"+t["#"]),r.url(o),g=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,o){if(!n.validates(i))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled);var s=n.format(i);if(o=o||{},a||null===s||(s="#"+e.hashPrefix()+s),null!==s&&i&&i["#"]&&(s+="#"+i["#"]),s=l(s,a,o.absolute),!o.absolute||!s)return s;var u=!a&&s?"/":"",c=r.port();return c=80===c||443===c?"":":"+c,[r.protocol(),"://",r.host(),c,u,s].join("")}}}var s,u=[],c=null,d=!1;this.rule=function(e){if(!O(e))throw Error("'rule' must be a function");return u.push(e),this},this.otherwise=function(e){if(F(e)){var t=e;e=function(){return t}}else if(!O(e))throw Error("'rule' must be a function");return c=e,this},this.when=function(e,t){var n,l=F(t);if(F(e)&&(e=r.compile(e)),!l&&!O(t)&&!G(t))throw Error("invalid 'handler' in when()");var s={matcher:function(e,t){return l&&(n=r.compile(t),t=["$match",function(e){return n.format(e)}]),L(function(n,r){return a(n,t,e.exec(r.path(),r.search()))},{prefix:F(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw Error("when() RegExp must not be global or sticky");return l&&(n=t,t=["$match",function(e){return o(n,e)}]),L(function(n,r){return a(n,t,e.exec(r.path()))},{prefix:i(e)})}},u={matcher:r.isMatcher(e),regex:e instanceof RegExp};for(var c in u)if(u[c])return this.rule(s[c](e,t));throw Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),d=e},this.$get=l,l.$inject=["$location","$rootScope","$injector","$browser"]}function y(e,i){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function p(e,t){if(!e)return n;var r=F(e),i=r?e:e.name,a=o(i);if(a){if(!t)throw Error("No reference point given for path '"+i+"'");t=p(t);for(var l=i.split("."),s=0,u=l.length,c=t;u>s;s++)if(""!==l[s]||0!==s){if("^"!==l[s])break;if(!c.parent)throw Error("Path '"+i+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;l=l.slice(s).join("."),i=c.name+(c.name&&l?".":"")+l}var d=E[i];return!d||!r&&(r||d!==e&&d.self!==e)?n:d}function f(e,t){T[e]||(T[e]=[]),T[e].push(t)}function h(e){for(var t=T[e]||[];t.length;)m(t.shift())}function m(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!F(n)||n.indexOf("@")>=0)throw Error("State must have a valid name");if(E.hasOwnProperty(n))throw Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):F(t.parent)?t.parent:N(t.parent)&&F(t.parent.name)?t.parent.name:"";if(i&&!E[i])return f(i,t.self);for(var o in D)O(D[o])&&(t[o]=D[o](t,D.$delegates[o]));return E[n]=t,!t[R]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){S.$current.navigable==t&&u(e,n)||S.transitionTo(t,e,{inherit:!0,location:!1})}]),h(n),t}function v(e){return e.indexOf("*")>-1}function w(e){for(var t=e.split("."),n=S.$current.name.split("."),r=0,i=t.length;i>r;r++)"*"===t[r]&&(n[r]="*");return"**"===t[0]&&(n=n.slice(l(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(l(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length?!1:n.join("")===t.join("")}function b(e,t){return F(e)&&!I(t)?D[e]:O(t)&&F(e)?(D[e]&&!D.$delegates[e]&&(D.$delegates[e]=D[e]),D[e]=t,this):this}function C(e,t){return N(e)?t=e:t.name=e,m(t),this}function y(e,i,o,l,d,f,h){function m(t,n,r,o){var a=e.$broadcast("$stateNotFound",t,n,r);if(a.defaultPrevented)return h.update(),T;if(!a.retry)return null;if(o.$retry)return h.update(),D;var l=S.transition=i.when(a.retry);return l.then(function(){return l!==S.transition?C:(t.options.$retry=!0,S.transitionTo(t.to,t.toParams,t.options))},function(){return T}),h.update(),l}function b(e,n,r,a,s,u){function p(){var n=[];return H(e.views,function(r,i){var a=r.resolve&&r.resolve!==e.resolve?r.resolve:{};a.$template=[function(){return o.load(i,{view:r,locals:s.globals,params:f,notify:u.notify})||""}],n.push(d.resolve(a,s.globals,s.resolve,e).then(function(n){if(O(r.controllerProvider)||G(r.controllerProvider)){var o=t.extend({},a,s.globals);n.$$controller=l.invoke(r.controllerProvider,null,o)}else n.$$controller=r.controller;n.$$state=e,n.$$controllerAs=r.controllerAs,s[i]=n}))}),i.all(n).then(function(){return s.globals})}var f=r?n:c(e.params.$$keys(),n),g={$stateParams:f};s.resolve=d.resolve(e.resolve,g,s.resolve,e);var h=[s.resolve.then(function(e){s.globals=e})];return a&&h.push(a),i.all(h).then(p).then(function(){return s})}var C=i.reject(Error("transition superseded")),y=i.reject(Error("transition prevented")),T=i.reject(Error("transition aborted")),D=i.reject(Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},S={params:{},current:x.self,$current:x,transition:null},S.reload=function(e){return S.transitionTo(S.current,f,{reload:e||!0,inherit:!1,notify:!0})},S.go=function(e,t,n){return S.transitionTo(e,t,L({inherit:!0,relative:S.$current},n))},S.transitionTo=function(t,n,o){n=n||{},o=L({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,u=S.$current,d=S.params,g=u.path,v=p(t,o.relative),w=n["#"];if(!I(v)){var E={to:t,toParams:n,options:o},T=m(E,u.self,d,o);if(T)return T;if(t=E.to,n=E.toParams,o=E.options,v=p(t,o.relative),!I(v)){if(!o.relative)throw Error("No such state '"+t+"'");throw Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(v[R])throw Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(n=s(f,n||{},S.$current,v)),!v.params.$$validates(n))return D;n=v.params.$$values(n),t=v;var k=t.path,A=0,P=k[A],M=x.locals,O=[];if(o.reload){if(F(o.reload)||N(o.reload)){if(N(o.reload)&&!o.reload.name)throw Error("Invalid reload state object");var G=o.reload===!0?g[0]:p(o.reload);if(o.reload&&!G)throw Error("No such reload state '"+(F(o.reload)?o.reload:o.reload.name)+"'");for(;P&&P===g[A]&&P!==G;)M=O[A]=P.locals,A++,P=k[A]}}else for(;P&&P===g[A]&&P.ownParams.$$equals(n,d);)M=O[A]=P.locals,A++,P=k[A];if($(t,n,u,d,M,o))return w&&(n["#"]=w),S.params=n,V(S.params,f),o.location&&t.navigable&&t.navigable.url&&(h.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),h.update(!0)),S.transition=null,i.when(S.current);if(n=c(t.params.$$keys(),n||{}),o.notify&&e.$broadcast("$stateChangeStart",t.self,n,u.self,d).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,u.self,d),h.update(),y;for(var H=i.when(M),j=A;k.length>j;j++,P=k[j])M=O[j]=r(M),H=b(P,n,P===t,H,M,o);var W=S.transition=H.then(function(){var r,i,a;if(S.transition!==W)return C;for(r=g.length-1;r>=A;r--)a=g[r],a.self.onExit&&l.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(r=A;k.length>r;r++)i=k[r],i.locals=O[r],i.self.onEnter&&l.invoke(i.self.onEnter,i.self,i.locals.globals);return w&&(n["#"]=w),S.transition!==W?C:(S.$current=t,S.current=t.self,S.params=n,V(S.params,f),S.transition=null,o.location&&t.navigable&&h.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,u.self,d),h.update(!0),S.current)},function(r){return S.transition!==W?C:(S.transition=null,a=e.$broadcast("$stateChangeError",t.self,n,u.self,d,r),a.defaultPrevented||h.update(),i.reject(r))});return W},S.is=function(e,t,r){r=L({relative:S.$current},r||{});var i=p(e,r.relative);return I(i)?S.$current!==i?!1:t?u(i.params.$$values(t),f):!0:n},S.includes=function(e,t,r){if(r=L({relative:S.$current},r||{}),F(e)&&v(e)){if(!w(e))return!1;e=S.$current.name}var i=p(e,r.relative);return I(i)?I(S.$current.includes[i.name])?t?u(i.params.$$values(t),f,a(t)):!0:!1:n},S.href=function(e,t,r){r=L({lossy:!0,inherit:!0,absolute:!1,relative:S.$current},r||{});var i=p(e,r.relative);if(!I(i))return null;r.inherit&&(t=s(f,t||{},S.$current,i));var o=i&&r.lossy?i.navigable:i;return o&&o.url!==n&&null!==o.url?h.href(o.url,c(i.params.$$keys().concat("#"),t||{}),{absolute:r.absolute}):null},S.get=function(e,t){if(0===arguments.length)return g(a(E),function(e){return E[e].self});var n=p(e,t||S.$current);return n&&n.self?n.self:null},S}function $(e,t,r,i,o,a){function l(e,t,n){function r(t){return"search"!=e.params[t].location}var i=e.params.$$keys().filter(r),o=d.apply({},[e.params].concat(i)),a=new j.ParamSet(o);return a.$$equals(t,n)}return!a.reload&&e===r&&(o===r.locals||e.self.reloadOnSearch===!1&&l(r,i,t))?!0:n}var x,S,E={},T={},R="abstract",D={parent:function(e){if(I(e.parent)&&e.parent)return p(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?p(t[1]):x},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=L({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(F(t))return"^"==t.charAt(0)?i.compile(t.substring(1),n):(e.parent.navigable||x).url.concat(t,n);if(!t||i.isMatcher(t))return t;throw Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new j.ParamSet;return H(e.params||{},function(e,n){t[n]||(t[n]=new j.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?L(e.parent.params.$$new(),e.ownParams):new j.ParamSet},views:function(e){var t={};return H(I(e.views)?e.views:{"":e},function(n,r){0>r.indexOf("@")&&(r+="@"+e.parent.name),t[r]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?L({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};x=m({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=b,this.state=C,this.$get=y,y.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function $(){function e(e,t){return{load:function(n,r){var i,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=L(o,r),r.view&&(i=t.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&e.$broadcast("$viewContentLoading",r),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function x(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function S(e,n,r,i){function o(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function a(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(u)return{enter:function(e,t,n){var r=u.enter(e,null,t,n);r&&r.then&&r.then(n)},leave:function(e,t){var n=u.leave(e,t);n&&n.then&&n.then(t)}};if(s){var r=s&&s(t,e);return{enter:function(e,t,n){r.enter(e,null,t),n()},leave:function(e,t){r.leave(e),t()}}}return n()}var l=o(),s=l("$animator"),u=l("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,l){return function(n,o,s){function u(){d&&(d.remove(),d=null),f&&(f.$destroy(),f=null),p&&(v.leave(p,function(){d=null}),d=p,p=null)}function c(a){var c,d=T(n,s,o,i),w=d&&e.$current&&e.$current.locals[d];if(a||w!==g){c=n.$new(),g=e.$current.locals[d];var b=l(c,function(e){v.enter(e,o,function(){f&&f.$emit("$viewContentAnimationEnded"),(t.isDefined(m)&&!m||n.$eval(m))&&r(e)}),u()});p=b,f=c,f.$emit("$viewContentLoaded"),f.$eval(h)}}var d,p,f,g,h=s.onload||"",m=s.autoscroll,v=a(s,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function E(e,t,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var o=i.html();return function(i,a,l){var s=n.$current,u=T(i,l,a,r),c=s&&s.locals[u];if(c){a.data("$uiView",{name:u,state:c.$$state}),a.html(c.$template?c.$template:o);var d=e(a.contents());if(c.$$controller){c.$scope=i,c.$element=a;var p=t(c.$$controller,c);c.$$controllerAs&&(i[c.$$controllerAs]=p),a.data("$ngControllerController",p),a.children().data("$ngControllerController",p)}d(i)}}}}}function T(e,t,n,r){var i=r(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(o?o.state.name:"")}function R(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function D(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:n}function k(e,r){var i=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(o,a,l,s){var u=R(l.uiSref,e.current.name),c=null,d=D(a)||e.$current,p="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href"))?"xlink:href":"href",f=null,g="A"===a.prop("tagName").toUpperCase(),h="FORM"===a[0].nodeName,m=h?"action":p,v=!0,w={relative:d,inherit:!0},b=o.$eval(l.uiSrefOpts)||{};t.forEach(i,function(e){e in b&&(w[e]=b[e])});var C=function(r){if(r&&(c=t.copy(r)),v){f=e.href(u.state,c,w);var i=s[1]||s[0];return i&&i.$$addStateInfo(u.state,c),null===f?(v=!1,!1):(l.$set(m,f),n)}};u.paramExpr&&(o.$watch(u.paramExpr,function(e){e!==c&&C(e)},!0),c=t.copy(o.$eval(u.paramExpr))),C(),h||a.bind("click",function(t){var n=t.which||t.button;if(!(n>1||t.ctrlKey||t.metaKey||t.shiftKey||a.attr("target"))){var i=r(function(){e.go(u.state,c,w)});t.preventDefault();var o=g&&!f?1:0;t.preventDefault=function(){0>=o--&&r.cancel(i)}}})}}}function A(e,t,r){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,i,o){function a(){l()?i.addClass(u):i.removeClass(u)}function l(){for(var e=0;c.length>e;e++)if(s(c[e].state,c[e].params))return!0;return!1}function s(t,r){return o.uiSrefActiveEq!==n?e.is(t.name,r):e.includes(t.name,r)}var u,c=[];u=r(o.uiSrefActiveEq||o.uiSrefActive||"",!1)(t),this.$$addStateInfo=function(t,n){var r=e.get(t,D(i));c.push({state:r||{name:t},params:n}),a()},t.$on("$stateChangeSuccess",a)}]}}function P(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function M(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var I=t.isDefined,O=t.isFunction,F=t.isString,N=t.isObject,G=t.isArray,H=t.forEach,L=t.extend,V=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),h.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",h),m.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",m);var j;v.prototype.concat=function(e,t){var n={caseInsensitive:j.caseInsensitive(),strict:j.strictMode(),squash:j.defaultSquashPolicy()};return new v(this.sourcePath+e+this.sourceSearch,L(n,t),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var r=t(e).split(/-(?!\\)/),i=g(r,t);return g(i,n).reverse()}var r=this.regexp.exec(e);if(!r)return null;t=t||{};var i,o,a,l=this.parameters(),s=l.length,u=this.segments.length-1,c={};if(u!==r.length-1)throw Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;u>i;i++){a=l[i];var d=this.params[a],p=r[i+1];for(o=0;d.replace>o;o++)d.replace[o].from===p&&(p=d.replace[o].to);p&&d.array===!0&&(p=n(p)),c[a]=d.value(p)}for(;s>i;i++)a=l[i],c[a]=this.params[a].value(t[a]);return c},v.prototype.parameters=function(e){return I(e)?this.params[e]||null:this.$$paramNames},v.prototype.validates=function(e){return this.params.$$validates(e)},v.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(e))return null;var o,a=!1,l=n.length-1,s=r.length,u=n[0];for(o=0;s>o;o++){var c=l>o,d=r[o],p=i[d],f=p.value(e[d]),h=p.isOptional&&p.type.equals(p.value(),f),m=h?p.squash:!1,v=p.type.encode(f);if(c){var w=n[o+1];if(m===!1)null!=v&&(u+=G(v)?g(v,t).join("-"):encodeURIComponent(v)),u+=w;else if(m===!0){var b=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=w.match(b)[1]}else F(m)&&(u+=m+w)}else{if(null==v||h&&m!==!1)continue;G(v)||(v=[v]),v=g(v,encodeURIComponent).join("&"+d+"="),u+=(a?"&":"?")+(d+"="+v),a=!0}}return u},w.prototype.is=function(){return!0},w.prototype.encode=function(e){return e},w.prototype.decode=function(e){return e},w.prototype.equals=function(e,t){return e==t},w.prototype.$subPattern=function(){var e=""+this.pattern;return e.substr(1,e.length-2)},w.prototype.pattern=/.*/,w.prototype.toString=function(){return"{Type:"+this.name+"}"},w.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},w.prototype.$asArray=function(e,t){function r(e,t){function r(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return G(e)?e:I(e)?[e]:[]}function o(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e){return!e}function l(e,t){return function(n){n=i(n);var r=g(n,e);return t===!0?0===f(r,a).length:o(r)}}function s(e){return function(t,n){var r=i(t),o=i(n);if(r.length!==o.length)return!1;for(var a=0;r.length>a;a++)if(!e(r[a],o[a]))return!1;return!0}}this.encode=l(r(e,"encode")),this.decode=l(r(e,"decode")),this.is=l(r(e,"is"),!0),this.equals=s(r(e,"equals")),this.pattern=e.pattern,this.$normalize=l(r(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw Error("'auto' array mode is for query parameters only");return new r(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",b),t.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),C.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",C),y.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",y),$.$inject=[],t.module("ui.router.state").provider("$view",$),t.module("ui.router.state").provider("$uiViewScroll",x),S.$inject=["$state","$injector","$uiViewScroll","$interpolate"],E.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",S),t.module("ui.router.state").directive("uiView",E),k.$inject=["$state","$timeout"],A.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",k).directive("uiSrefActive",A).directive("uiSrefActiveEq",A),P.$inject=["$state"],M.$inject=["$state"],t.module("ui.router.state").filter("isState",P).filter("includedByState",M)}(window,window.angular),function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["ƒ","$","£","$","¤","¥","៛","₩","₱","฿","₫"],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(e,t,n,r){var i={priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(t,i,o,a){function l(){var e=t.col.compiledElementFn;e(t,function(e){i.append(e)})}if(a&&t.col.compiledElementFn)l();else if(a&&!t.col.compiledElementFn)t.col.getCompiledElementFn().then(function(e){e(t,function(e){i.append(e)
})});else{var s=t.col.cellTemplate.replace(r.MODEL_COL_FIELD,"row.entity."+n.preEval(t.col.field)).replace(r.COL_FIELD,"grid.getCellValue(row, col)"),u=e(s)(t);i.append(u)}},post:function(e,t){var n=e.col.getColClass(!1);t.addClass(n);var i,o=function(){var n=t;i&&(n.removeClass(i),i=null),i=angular.isFunction(e.col.cellClass)?e.col.cellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.cellClass,n.addClass(i)};e.col.cellClass&&o();var a=e.grid.registerDataChangeCallback(o,[r.dataChange.COLUMN,r.dataChange.EDIT]),l=function(r,a){if(r!==a){(i||e.col.cellClass)&&o();var l=e.col.getColClass(!1);l!==n&&(t.removeClass(n),t.addClass(l),n=l)}},s=e.$watch("col",l),u=e.$watch("row",l),c=function(){a(),s(),u()};e.$on("$destroy",c),t.on("$destroy",c)}}}};return i}]),function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(e,t,n){var r={initialize:function(e,t){e.grid=t.grid,t.columnMenuScope=e,e.menuShown=!1},setColMenuItemWatch:function(e){var t=e.$watch("col.menuItems",function(t){t!==void 0&&t&&angular.isArray(t)?(t.forEach(function(t){void 0!==t.context&&t.context||(t.context={}),t.context.col=e.col}),e.menuItems=e.defaultMenuItems.concat(t)):e.menuItems=e.defaultMenuItems});e.$on("$destroy",t)},sortable:function(e){return e.grid.options.enableSorting&&e.col!==void 0&&e.col&&e.col.enableSorting?!0:!1},isActiveSort:function(e,t){return e.col!==void 0&&e.col.sort!==void 0&&e.col.sort.direction!==void 0&&e.col.sort.direction===t},suppressRemoveSort:function(e){return e.col&&e.col.colDef&&e.col.colDef.suppressRemoveSort?!0:!1},hideable:function(e){return e.col!==void 0&&e.col&&e.col.colDef&&e.col.colDef.enableHiding===!1?!1:!0},getDefaultMenuItems:function(n){return[{title:e.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation(),n.sortColumn(e,t.ASC)},shown:function(){return r.sortable(n)},active:function(){return r.isActiveSort(n,t.ASC)}},{title:e.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation(),n.sortColumn(e,t.DESC)},shown:function(){return r.sortable(n)},active:function(){return r.isActiveSort(n,t.DESC)}},{title:e.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),n.unsortColumn()},shown:function(){return r.sortable(n)&&n.col!==void 0&&n.col.sort!==void 0&&n.col.sort.direction!==void 0&&null!==n.col.sort.direction&&!r.suppressRemoveSort(n)}},{title:e.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",shown:function(){return r.hideable(n)},action:function(e){e.stopPropagation(),n.hideColumn()}}]},getColumnElementPosition:function(e,t,r){var i={};return i.left=r[0].offsetLeft,i.top=r[0].offsetTop,i.offset=0,t.grid.options.offsetLeft&&(i.offset=t.grid.options.offsetLeft),i.height=n.elementHeight(r,!0),i.width=n.elementWidth(r,!0),i},repositionMenu:function(e,t,r,i,o){var a=i[0].querySelectorAll(".ui-grid-menu"),l=t.renderContainer?t.renderContainer:"body";t.grid.renderContainers[l];var s=n.closestElm(o,".ui-grid-render-container"),u=s.getBoundingClientRect().left-e.grid.element[0].getBoundingClientRect().left,c=s.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,d=t.lastMenuWidth?t.lastMenuWidth:e.lastMenuWidth?e.lastMenuWidth:170,p=t.lastMenuPaddingRight?t.lastMenuPaddingRight:e.lastMenuPaddingRight?e.lastMenuPaddingRight:10;if(0!==a.length){var f=a[0].querySelectorAll(".ui-grid-menu-mid");0===f.length||angular.element(f).hasClass("ng-hide")||(d=n.elementWidth(a,!0),e.lastMenuWidth=d,t.lastMenuWidth=d,p=parseInt(n.getStyles(angular.element(a)[0]).paddingRight,10),e.lastMenuPaddingRight=p,t.lastMenuPaddingRight=p)}var g=r.left+u-c+r.width-d+p;r.offset>g&&(g=r.offset),i.css("left",g+"px"),i.css("top",r.top+r.height+"px")}};return r}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService",function(e,t,n,r){var i={priority:0,scope:!0,require:"?^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(t,i,o,a){var l=this;r.initialize(t,a),t.defaultMenuItems=r.getDefaultMenuItems(t),t.menuItems=t.defaultMenuItems,r.setColMenuItemWatch(t),t.showMenu=function(e,n,o){t.col=e;var a=r.getColumnElementPosition(t,e,n);t.menuShown?(t.colElement=n,t.colElementPosition=a,t.hideThenShow=!0,t.$broadcast("hide-menu",{originalEvent:o})):(l.shown=t.menuShown=!0,r.repositionMenu(t,e,a,i,n),t.colElement=n,t.colElementPosition=a,t.$broadcast("show-menu",{originalEvent:o}))},t.hideMenu=function(e){t.menuShown=!1,e||t.$broadcast("hide-menu")},t.$on("menu-hidden",function(){t.hideThenShow?(delete t.hideThenShow,r.repositionMenu(t,t.col,t.colElementPosition,i,t.colElement),t.$broadcast("show-menu"),t.menuShown=!0):t.hideMenu(!0)}),t.$on("menu-shown",function(){e(function(){r.repositionMenu(t,t.col,t.colElementPosition,i,t.colElement),delete t.colElementPosition,delete t.columnElement},200)}),t.sortColumn=function(e,n){e.stopPropagation(),t.grid.sortColumn(t.col,n,!0).then(function(){t.grid.refresh(),t.hideMenu()})},t.unsortColumn=function(){t.col.unsort(),t.grid.refresh(),t.hideMenu()},t.hideColumn=function(){t.col.colDef.visible=!1,t.grid.refresh(),t.hideMenu(),t.grid.api.core.notifyDataChange(n.dataChange.COLUMN),t.grid.api.core.raise.columnVisibilityChanged(t.col)}},controller:["$scope",function(e){var t=this;e.$watch("menuItems",function(e){t.menuItems=e})}]};return i}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(e,t,n,r){var i={priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(){return{pre:function(e,t){var n=r(e.col.footerCellTemplate)(e);t.append(n)},post:function(e,t,r,i){e.grid=i.grid,t.addClass(e.col.getColClass(!1));var o,a=function(){var n=t;o&&(n.removeClass(o),o=null),o=angular.isFunction(e.col.footerCellClass)?e.col.footerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.footerCellClass,n.addClass(o)};e.col.footerCellClass&&a();var l=e.grid.registerDataChangeCallback(a,[n.dataChange.COLUMN]);e.$on("$destroy",l)}}}};return i}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,r){var i="ui-grid/ui-grid-footer";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,n,o,a){var l=a[0],s=a[1];e.grid=l.grid,e.colContainer=s.colContainer,s.footer=n;var u=e.grid.options.footerTemplate?e.grid.options.footerTemplate:i;r.getTemplate(u).then(function(r){var i=angular.element(r),o=t(i)(e);if(n.append(o),s){var a=n[0].getElementsByClassName("ui-grid-footer-viewport")[0];a&&(s.footerViewport=a)}})},post:function(e,t,n,i){var o=i[0],a=i[1];o.grid,r.disableAnimations(t),a.footer=t;var l=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];l&&(a.footerViewport=l)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,r){var i="ui-grid/ui-grid-grid-footer";return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(e,n,o,a){e.grid=a.grid;var l=e.grid.options.gridFooterTemplate?e.grid.options.gridFooterTemplate:i;r.getTemplate(l).then(function(r){var i=angular.element(r),o=t(i)(e);n.append(o)})},post:function(){}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(e,t,n){var r="ui-grid/ui-grid-group-panel";return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function(){return{pre:function(t,i){var o=t.grid.options.groupPanelTemplate||r;n.getTemplate(o).then(function(n){var r=angular.element(n),o=e(r)(t);i.append(o)})},post:function(e,t){t.bind("$destroy",function(){})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent",function(e,t,n,r,i,o,a){var l=500,s={priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["?^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(t,n){var r=e(t.col.headerCellTemplate)(t);n.append(r)},post:function(e,n,r,s){function u(t){var n=!1;t.shiftKey&&(n=!0),c.grid.sortColumn(e.col,n).then(function(){c.columnMenuScope&&c.columnMenuScope.hideMenu(),c.grid.refresh()})}var c=s[0],d=s[1];e.grid=c.grid,e.renderContainer=c.grid.renderContainers[d.containerId];var p=e.col.getColClass(!1);n.addClass(p),e.menuShown=!1,e.asc=o.ASC,e.desc=o.DESC,angular.element(n[0].querySelectorAll(".ui-grid-header-cell-menu"));var f,g=angular.element(n[0].querySelectorAll(".ui-grid-cell-contents")),h=function(){var t=n;f&&(t.removeClass(f),f=null),f=angular.isFunction(e.col.headerCellClass)?e.col.headerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.headerCellClass,t.addClass(f);var r=e.grid.renderContainers.right?e.grid.renderContainers.right:e.grid.renderContainers.body;e.isLastCol=e.col===r.visibleColumnCache[r.visibleColumnCache.length-1]};e.$watch("col",function(t,r){if(t!==r){var i=e.col.getColClass(!1);i!==p&&(n.removeClass(p),n.addClass(i),p=i)}}),h();var m=e.grid.registerDataChangeCallback(h,[o.dataChange.COLUMN]);if(e.$on("$destroy",m),e.sortable=c.grid.options.enableSorting&&e.col.enableSorting?!0:!1,e.filterable=c.grid.options.enableFiltering&&e.col.enableFiltering?!0:!1,e.colMenu=e.col.grid.options&&e.col.grid.options.enableColumnMenus!==!1&&e.col.colDef&&e.col.colDef.enableColumnMenu!==!1?!0:!1,e.sortable||e.colMenu){var v,w=0,b=i.isTouchEnabled()?"touchstart":"mousedown";g.on(b,function(r){r.stopPropagation(),r.originalEvent!==void 0&&void 0!==r.originalEvent&&(r=r.originalEvent),r.button&&0!==r.button||(w=(new Date).getTime(),v=t(function(){},l),v.then(function(){e.colMenu&&c.columnMenuScope.showMenu(e.col,n,r)}),c.fireEvent(o.events.COLUMN_HEADER_CLICK,{event:r,columnName:e.col.colDef.name}))});var C=i.isTouchEnabled()?"touchend":"mouseup";g.on(C,function(){t.cancel(v)}),e.$on("$destroy",function(){g.off("mousedown touchstart")})}if(e.toggleMenu=function(t){t.stopPropagation(),c.columnMenuScope.menuShown?c.columnMenuScope.col===e.col?c.columnMenuScope.hideMenu():c.columnMenuScope.showMenu(e.col,n):c.columnMenuScope.showMenu(e.col,n)},e.sortable){var y=i.isTouchEnabled()?"touchend":"click";g.on(y,function(e){e.stopPropagation(),t.cancel(v);var n=(new Date).getTime(),r=n-w;r>l||u(e)}),e.$on("$destroy",function(){t.cancel(v)})}if(e.filterable){var $=[];angular.forEach(e.col.filters,function(t,n){$.push(e.$watch("col.filters["+n+"].term",function(e,t){e!==t&&(c.grid.api.core.raise.filterChanged(),c.grid.refresh().then(function(){if(c.prevScrollArgs&&c.prevScrollArgs.y&&c.prevScrollArgs.y.percentage){var e=new a(c.grid,null,null,"uiGridHeaderCell.toggleMenu");e.y.percentage=c.prevScrollArgs.y.percentage,e.fireScrollingEvent()}}))}))}),e.$on("$destroy",function(){angular.forEach($,function(e){e()})})}}}}};return s}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,r){var i="ui-grid/ui-grid-header",o="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,n,a,l){var s=l[0],u=l[1];e.grid=s.grid,e.colContainer=u.colContainer,u.header=n,u.colContainer.header=n;var c;c=e.grid.options.showHeader?e.grid.options.headerTemplate?e.grid.options.headerTemplate:i:o,r.getTemplate(c).then(function(r){var i=angular.element(r),o=t(i)(e);if(n.replaceWith(o),u.header=o,u.colContainer.header=o,n=o,u){var a=n[0].getElementsByClassName("ui-grid-header-viewport")[0];a&&(u.headerViewport=a)}})},post:function(e,t,n,i){function o(){var e=l.colContainer.getViewportWidth(),t=l.colContainer.visibleColumnCache,n=0,i=0,o=0,a=e,s=!1,u=function(t){return"manual"===t.widthType?+t.width:"percent"===t.widthType?parseInt(t.width.replace(/%/g,""),10)*e/100:"auto"===t.widthType?(0===o&&(o=parseInt(a/i,10)),t.width.length*o):void 0};t.forEach(function(e){e.widthType=null,isFinite(+e.width)?e.widthType="manual":r.endsWith(e.width,"%")?(e.widthType="percent",s=!0):angular.isString(e.width)&&-1!==e.width.indexOf("*")&&(e.widthType="auto",i+=e.width.length,s=!0)});var c=["manual","percent","auto"];if(t.filter(function(e){return e.visible&&e.widthType}).sort(function(e,t){return c.indexOf(e.widthType)-c.indexOf(t.widthType)}).forEach(function(e){var t=u(e);e.minWidth&&(t=Math.max(t,e.minWidth)),e.maxWidth&&(t=Math.min(t,e.maxWidth)),e.drawnWidth=Math.floor(t),n+=e.drawnWidth,a-=e.drawnWidth}),s&&a>0&&n>0&&e>n){var d=function(e){a>0&&("auto"===e.widthType||"percent"===e.widthType)&&(e.drawnWidth=e.drawnWidth+1,n+=1,a--)},p=0;do p=a,t.forEach(d);while(a>0&&a!==p)}n=Math.max(n,e);var f="";return t.forEach(function(e){f+=e.getColClassDefinition()}),t.length>0&&(t[t.length-1].headerWidth=t[t.length-1].drawnWidth-30),l.colContainer.canvasWidth=parseInt(n,10),f}var a=i[0],l=i[1];a.grid,r.disableAnimations(t),l.header=t;var s=t[0].getElementsByClassName("ui-grid-header-viewport")[0];s&&(l.headerViewport=s),a&&a.grid.registerStyleComputation({priority:5,func:o})}}}}}])}(),function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(e,t,n){var r={initialize:function(e,t){t.gridMenuScope=e,e.grid=t,e.registeredMenuItems=[],e.$on("$destroy",function(){e.grid&&e.grid.gridMenuScope&&(e.grid.gridMenuScope=null),e.grid&&(e.grid=null),e.registeredMenuItems&&(e.registeredMenuItems=null)}),e.registeredMenuItems=[],t.api.registerMethod("core","addToGridMenu",r.addToGridMenu),t.api.registerMethod("core","removeFromGridMenu",r.removeFromGridMenu)},addToGridMenu:function(t,n){angular.isArray(n)?t.gridMenuScope?(t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems?t.gridMenuScope.registeredMenuItems:[],t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems.concat(n)):e.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):e.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(t,n){var r=-1;t&&t.gridMenuScope&&t.gridMenuScope.registeredMenuItems.forEach(function(t,i){t.id===n&&(r>-1?e.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):r=i)}),r>-1&&t.gridMenuScope.registeredMenuItems.splice(r,1)},getMenuItems:function(t){var n=[];return t.grid.options.gridMenuCustomItems&&(angular.isArray(t.grid.options.gridMenuCustomItems)?n=n.concat(t.grid.options.gridMenuCustomItems):e.logError("gridOptions.gridMenuCustomItems must be an array, and is not")),n=n.concat(t.registeredMenuItems),t.grid.options.gridMenuShowHideColumns!==!1&&(n=n.concat(r.showHideColumns(t))),n},showHideColumns:function(e){var n=[];return e.grid.options.columnDefs&&0!==e.grid.options.columnDefs.length&&0!==e.grid.columns.length?(n.push({title:t.getSafeText("gridMenu.columns")}),e.grid.options.gridMenuTitleFilter=e.grid.options.gridMenuTitleFilter?e.grid.options.gridMenuTitleFilter:function(e){return e},e.grid.options.columnDefs.forEach(function(t){if(t.enableHiding!==!1){var i={icon:"ui-grid-icon-ok",action:function(e){e.stopPropagation(),r.toggleColumnVisibility(this.context.gridCol)},shown:function(){return this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible},context:{gridCol:e.grid.getColumn(t.name||t.field)}};r.setMenuItemTitle(i,t,e.grid),n.push(i),i={icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),r.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible)},context:{gridCol:e.grid.getColumn(t.name||t.field)}},r.setMenuItemTitle(i,t,e.grid),n.push(i)}}),n):n},setMenuItemTitle:function(t,n,r){var i=r.options.gridMenuTitleFilter(n.displayName||n.name||n.field);"string"==typeof i?t.title=i:i.then?(t.title="",i.then(function(e){t.title=e},function(e){t.title=e})):(e.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),t.title="badconfig")},toggleColumnVisibility:function(e){e.colDef.visible=!(e.colDef.visible===!0||void 0===e.colDef.visible),e.grid.refresh(),e.grid.api.core.notifyDataChange(n.dataChange.COLUMN),e.grid.api.core.raise.columnVisibilityChanged(e)}};return r}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService",function(e,t,n){return{priority:0,scope:!0,require:["?^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(e,t,r,i){var o=i[0];n.initialize(e,o.grid),e.shown=!1,e.toggleMenu=function(){e.shown?(e.$broadcast("hide-menu"),e.shown=!1):(e.menuItems=n.getMenuItems(e),e.$broadcast("show-menu"),e.shown=!0)},e.$on("menu-hidden",function(){e.shown=!1})}}}])}(),function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants",function(e,t,n,r,i,o){var a={priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(e,r,i,a){var l=this;l.showMenu=e.showMenu=function(n,r){e.shown?e.shownMid||(e.shownMid=!0,e.$emit("menu-shown")):(e.shown=!0,t(function(){e.shownMid=!0,e.$emit("menu-shown")}));var i="click";r&&r.originalEvent&&r.originalEvent.type&&"touchstart"===r.originalEvent.type&&(i=r.originalEvent.type),angular.element(document).off("click touchstart",s),t(function(){angular.element(document).on(i,s)})},l.hideMenu=e.hideMenu=function(){e.shown&&(e.shownMid=!1,t(function(){e.shownMid||(e.shown=!1,e.$emit("menu-hidden"))},200)),angular.element(document).off("click touchstart",s)},e.$on("hide-menu",function(t,n){e.hideMenu(t,n)}),e.$on("show-menu",function(t,n){e.showMenu(t,n)});var s=function(){e.shown&&e.$apply(function(){e.hideMenu()})};(e.autoHide===void 0||void 0===e.autoHide)&&(e.autoHide=!0),e.autoHide&&angular.element(n).on("resize",s),e.$on("$destroy",function(){angular.element(document).off("click touchstart",s)}),e.$on("$destroy",function(){angular.element(n).off("resize",s)}),a&&e.$on("$destroy",a.grid.api.core.on.scrollEvent(e,s)),e.$on("$destroy",e.$on(o.events.ITEM_DRAGGING,s))},controller:["$scope","$element","$attrs",function(){}]};return a}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(e,t,n){var r={priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"="},require:["?^uiGrid","^uiGridMenu"],templateUrl:"ui-grid/uiGridMenuItem",replace:!0,compile:function(){return{pre:function(n,r,i,o){o[0],o[1],n.templateUrl&&e.getTemplate(n.templateUrl).then(function(e){var i=angular.element(e),o=t(i)(n);r.replaceWith(o)})},post:function(e,t,r,i){var o=i[0];i[1],(e.shown===void 0||null===e.shown)&&(e.shown=function(){return!0}),e.itemShown=function(){var t={};return e.context&&(t.context=e.context),o!==void 0&&o&&(t.grid=o.grid),e.shown.call(t)},e.itemAction=function(t,n){if(t.stopPropagation(),"function"==typeof e.action){var r={};e.context&&(r.context=e.context),o!==void 0&&o&&(r.grid=o.grid),e.action.call(r,t,n),e.$emit("hide-menu")}},e.i18n=n.get()}}}};return r}])}(),function(){"use strict";var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(e,t,n,r,i){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(e,t,n,r){var i=r[0],o=r[1],a=e.grid=i.grid;if(!e.rowContainerName)throw"No row render container name specified";if(!e.colContainerName)throw"No column render container name specified";if(!a.renderContainers[e.rowContainerName])throw"Row render container '"+e.rowContainerName+"' is not registered.";if(!a.renderContainers[e.colContainerName])throw"Column render container '"+e.colContainerName+"' is not registered.";var l=e.rowContainer=a.renderContainers[e.rowContainerName],s=e.colContainer=a.renderContainers[e.colContainerName];o.containerId=e.containerId,o.rowContainer=l,o.colContainer=s},post:function(e,n,o,a){function l(t){if(!t.grid||t.grid.id===f.id){if(t.y&&e.bindScrollVertical){p.prevScrollArgs=t;var n=t.getNewScrollTop(g,p.viewport);(t.source!==i.Sources.ViewPortScroll||t.sourceColContainer!==h)&&(p.viewport[0].scrollTop=n)}if(t.x&&e.bindScrollHorizontal){p.prevScrollArgs=t;var o=t.getNewScrollLeft(h,p.viewport);e.newScrollLeft=o,p.headerViewport&&(p.headerViewport.scrollLeft=r.denormalizeScrollLeft(p.headerViewport,o)),p.footerViewport&&(p.footerViewport.scrollLeft=r.denormalizeScrollLeft(p.footerViewport,o)),t.source!==i.Sources.ViewPortScroll&&(p.viewport[0].scrollLeft=o),p.prevScrollLeft=o}}}function s(e){e.originalEvent&&(e=e.originalEvent);var t,n,r,o;r=e.targetTouches[0].screenX,o=e.targetTouches[0].screenY,t=-(r-b),n=-(o-w),$=1>n?-1:1,x=1>t?-1:1,n*=2,t*=2;var a=new i(f,g,h,i.Sources.RenderContainerTouchMove);if(0!==n){var l=(C+n)/g.getVerticalScrollLength();l>1?l=1:0>l&&(l=0),a.y={percentage:l,pixels:n}}if(0!==t){var s=(y+t)/(h.getCanvasWidth()-h.getViewportWidth());s>1?s=1:0>s&&(s=0),a.x={percentage:s,pixels:t}}(a.y&&0!==a.y.percentage&&1!==a.y.percentage||a.x&&0!==a.x.percentage&&1!==a.x.percentage)&&e.preventDefault(),a.fireScrollingEvent()}function u(e){e.originalEvent&&(e=e.originalEvent),t.unbind("touchmove",s),t.unbind("touchend",u),t.unbind("touchcancel",u);var n=p.viewport[0].scrollTop,r=p.viewport[0].scrollTop;Math.abs(n-C),Math.abs(r-y),new Date-v}function c(){var t="",n=h.getCanvasWidth(),r=h.getViewportWidth(),i=g.getCanvasHeight();"body"!==e.containerId&&(i+=f.scrollbarHeight);var o=g.getViewportHeight(),a=h.getHeaderViewportWidth(),l=h.getHeaderViewportWidth();return t+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-canvas { width: "+n+"px; height: "+i+"px; }",t+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { width: "+(n+f.scrollbarWidth)+"px; }",t+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-viewport { width: "+r+"px; height: "+o+"px; }",t+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-viewport { width: "+a+"px; }",t+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-canvas { width: "+n+f.scrollbarWidth+"px; }",t+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-viewport { width: "+l+"px; }",void 0!==m.explicitHeaderHeight&&null!==m.explicitHeaderHeight&&m.explicitHeaderHeight>0?t+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-cell { height: "+m.explicitHeaderHeight+"px; }":void 0!==m.innerHeaderHeight&&null!==m.innerHeaderHeight&&m.innerHeaderHeight>0&&(t+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-cell { height: "+m.innerHeaderHeight+"px; }"),t}var d=a[0],p=a[1],f=d.grid,g=p.rowContainer,h=p.colContainer,m=f.renderContainers[e.containerId];n.addClass("ui-grid-render-container-"+e.containerId),(e.bindScrollHorizontal||e.bindScrollVertical)&&f.api.core.on.scrollEvent(e,l),n.bind("wheel mousewheel DomMouseScroll MozMousePixelScroll",function(e){var t=r.normalizeWheelEvent(e),n=new i(f,g,h,i.Sources.RenderContainerMouseWheel);if(0!==t.deltaY){var o=-120*t.deltaY,a=(p.viewport[0].scrollTop+o)/g.getVerticalScrollLength();0>a?a=0:a>1&&(a=1),n.y={percentage:a,pixels:o}}if(0!==t.deltaX){var l=-120*t.deltaX,s=r.normalizeScrollLeft(p.viewport),u=(s+l)/(h.getCanvasWidth()-h.getViewportWidth());0>u?u=0:u>1&&(u=1),n.x={percentage:u,pixels:l}}(n.y&&0!==n.y.percentage&&1!==n.y.percentage&&0!==p.viewport[0].scrollTop||n.x&&0!==n.x.percentage&&1!==n.x.percentage)&&e.preventDefault(),n.fireThrottledScrollingEvent()});var v,w=0,b=0,C=0,y=0,$=1,x=1;r.isTouchEnabled()&&n.bind("touchstart",function(e){e.originalEvent&&(e=e.originalEvent),v=new Date,w=e.targetTouches[0].screenY,b=e.targetTouches[0].screenX,C=p.viewport[0].scrollTop,y=p.viewport[0].scrollLeft,t.on("touchmove",s),t.on("touchend touchcancel",u)}),n.bind("$destroy",function(){n.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){n.unbind(e)})}),d.grid.registerStyleComputation({priority:6,func:c})}}}}}]),e.controller("uiGridRenderContainer",["$scope","gridUtil",function(e){var t=this;t.rowStyle=function(n){var r=e.grid.renderContainers[e.containerId],i={};if(!r.disableRowOffset&&0===n&&0!==t.currentTopRow){var o=e.rowContainer.currentTopRow*e.rowContainer.visibleRowCache[e.rowContainer.currentTopRow].height;i["margin-top"]=o+"px"}return r.disableColumnOffset||0===e.colContainer.currentFirstColumn||(e.grid.isRTL()?i["margin-right"]=e.colContainer.columnOffset+"px":i["margin-left"]=e.colContainer.columnOffset+"px"),i},t.columnStyle=function(t){var n=e.grid.renderContainers[e.containerId];if(!n.disableColumnOffset&&0===t&&0!==e.colContainer.currentFirstColumn){var r=e.colContainer.columnOffset;return e.grid.isRTL()?{"margin-right":r+"px"}:{"margin-left":r+"px"}}return null}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(e,t,n,r){function i(){e.row.getRowTemplateFn.then(function(n){var r=e.$new();n(r,function(e){l&&(l.remove(),s.$destroy()),t.empty().append(e),l=e,s=r})})}var o=r[0],a=r[1];o.grid,e.grid=o.grid,e.colContainer=a.colContainer;var l,s;i(),e.$watch("row.getRowTemplateFn",function(e,t){e!==t&&i()})},post:function(){}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(e,t){return{link:function(e,n){var r=t(n.text(),!0);r&&e.$watch(r,function(e){n.text(e)})}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants",function(e,t,n){return{replace:!0,scope:{},templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(r,i,o,a){var l=a[0],s=a[1];r.containerCtrl=s;var u=s.rowContainer,c=s.colContainer,d=l.grid;r.grid=l.grid,r.rowContainer=s.rowContainer,r.colContainer=s.colContainer,s.viewport=i,i.on("scroll",function(){var r=i[0].scrollTop,o=e.normalizeScrollLeft(i),a=-1,l=-1;if(o!==c.prevScrollLeft){d.flagScrollingHorizontally();var s=o-c.prevScrollLeft;s>0&&(d.scrollDirection=n.scrollDirection.RIGHT),0>s&&(d.scrollDirection=n.scrollDirection.LEFT);var p=c.getCanvasWidth()-c.getViewportWidth();a=0!==p?o/p:0,c.adjustScrollHorizontal(o,a)}if(r!==u.prevScrollTop){d.flagScrollingVertically();var f=r-u.prevScrollTop;f>0&&(d.scrollDirection=n.scrollDirection.DOWN),0>f&&(d.scrollDirection=n.scrollDirection.UP);var g=u.getVerticalScrollLength();l=r/g,l>1&&(l=1),0>l&&(l=0),u.adjustScrollVertical(r,l)}var h=new t(d,u,c,t.Sources.ViewPortScroll);h.newScrollLeft=o,h.newScrollTop=r,a>-1&&(h.x={percentage:a}),l>-1&&(h.y={percentage:l}),h.fireScrollingEvent()})}}}])}(),function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function(e,t,n){e.$watch(n.uiGridVisible,function(e){t[e?"removeClass":"addClass"]("ui-grid-invisible")})}})}(),function(){"use strict";angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","$templateCache","gridClassFactory","$timeout","$parse","$compile","ScrollEvent",function(e,t,n,r,i,o,a,l,s,u,c,d){function p(e,t){e&&e!==t&&(h.grid.options.columnDefs=e,h.grid.buildColumns({orderByColumnDefs:!0}).then(function(){h.grid.preCompileCellTemplates(),h.grid.callDataChangeCallbacks(o.dataChange.COLUMN)}))}function f(e){var t=new d(h.grid,null,null,"ui.grid.adjustInfiniteScrollPosition"),n=h.grid.renderContainers.body.visibleRowCache.length,r=(e+e/(n-1))/n;t.y=0===r?{pixels:1}:{percentage:r},t.fireScrollingEvent()}function g(t){var r=[];t&&(h.grid.columns.length===(h.grid.rowHeaderColumns?h.grid.rowHeaderColumns.length:0)&&!n.uiGridColumns&&0===h.grid.options.columnDefs.length&&t.length>0&&h.grid.buildColumnDefsFromData(t),(h.grid.options.columnDefs.length>0||t.length>0)&&r.push(h.grid.buildColumns().then(function(){h.grid.preCompileCellTemplates()})),i.all(r).then(function(){h.grid.modifyRows(t).then(function(){h.grid.redrawInPlace(),e.$evalAsync(function(){h.grid.refreshCanvas(!0),h.grid.callDataChangeCallbacks(o.dataChange.ROW),s(function(){h.grid.options.enableInfiniteScroll&&(0===h.grid.renderContainers.body.prevRowScrollIndex&&f(0),h.grid.scrollDirection===o.scrollDirection.UP&&f(h.grid.renderContainers.body.prevRowScrollIndex+1+h.grid.options.excessRows))},0)})})}))}var h=this;h.grid=l.createGrid(e.uiGrid),h.grid.appScope=h.grid.appScope||e.$parent,t.addClass("grid"+h.grid.id),h.grid.rtl="rtl"===r.getStyles(t[0]).direction,e.grid=h.grid,n.uiGridColumns&&n.$observe("uiGridColumns",function(e){h.grid.options.columnDefs=e,h.grid.buildColumns().then(function(){h.grid.preCompileCellTemplates(),h.grid.refreshCanvas(!0)})});var m;m=angular.isString(e.uiGrid.data)?e.$parent.$watchCollection(e.uiGrid.data,g):e.$parent.$watchCollection(function(){return e.uiGrid.data},g);var v=e.$parent.$watchCollection(function(){return e.uiGrid.columnDefs},p);e.$on("$destroy",function(){m(),v()}),e.$watch(function(){return h.grid.styleComputations},function(){h.grid.refreshCanvas(!0)}),h.fireEvent=function(t,n){(n===void 0||void 0===n)&&(n={}),(n.grid===void 0||void 0===n.grid)&&(n.grid=h.grid),e.$broadcast(t,n)},h.innerCompile=function(t){c(t)(e)}}]),angular.module("ui.grid").directive("uiGrid",["$compile","$templateCache","gridUtil","$window","uiGridConstants",function(e,t,n,r,i){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(e,t,o,a){function l(){s.gridWidth=e.gridWidth=n.elementWidth(t),s.gridHeight=e.gridHeight=n.elementHeight(t),s.refreshCanvas(!0)}var s=a.grid;if(a.scrollbars=[],s.renderingComplete(),s.element=t,s.gridWidth=e.gridWidth=n.elementWidth(t),s.canvasWidth=a.grid.gridWidth,s.gridHeight=e.gridHeight=n.elementHeight(t),s.gridHeight<s.options.rowHeight){var u=s.options.minRowsToShow*s.options.rowHeight,c=s.options.showHeader?s.options.headerRowHeight:0,d=s.calcFooterHeight(),p=0;s.options.enableHorizontalScrollbar===i.scrollbars.ALWAYS&&(p=n.getScrollbarWidth());var f=0;angular.forEach(s.options.columnDefs,function(e){e.hasOwnProperty("filter")?1>f&&(f=1):e.hasOwnProperty("filters")&&e.filters.length>f&&(f=e.filters.length)});var g=f*c,h=c+u+d+p+g;t.css("height",h+"px"),s.gridHeight=e.gridHeight=n.elementHeight(t)}s.refreshCanvas(),e.$watch(function(){return s.hasLeftContainer()},function(e,t){e!==t&&s.refreshCanvas(!0)}),e.$watch(function(){return s.hasRightContainer()},function(e,t){e!==t&&s.refreshCanvas(!0)}),angular.element(r).on("resize",l),t.on("$destroy",function(){angular.element(r).off("resize",l)})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(e,t,n,r){function i(){if("left"===e.side||"right"===e.side){for(var t=a.renderContainers[e.side].visibleColumnCache,n=0,r=0;t.length>r;r++){var i=t[r];
n+=i.drawnWidth||i.width||0}l=n}}function o(){var n="";if("left"===e.side||"right"===e.side){i(),t.attr("style",null);var r=a.renderContainers.body.getViewportHeight();n+=".grid"+a.id+" .ui-grid-pinned-container-"+e.side+", .grid"+a.id+" .ui-grid-pinned-container-"+e.side+" .ui-grid-render-container-"+e.side+" .ui-grid-viewport { width: "+l+"px; height: "+r+"px; } "}return n}var a=r.grid,l=0;t.addClass("ui-grid-pinned-container-"+e.side),a.renderContainers.body.registerViewportAdjuster(function(e){return 0!==l&&l||i(),e.width-=l,e}),a.registerStyleComputation({priority:15,func:o})}}}}}])}(),function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout",function(e,t,n,r,i,o,a,l,s,u,c,d,p){function f(){}var g=function g(e){var t=this;if(void 0===e||void 0===e.id||!e.id)throw Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.');t.id=e.id,delete e.id,t.options=o.initialize(e),t.appScope=t.options.appScopeProvider,t.headerHeight=t.options.headerRowHeight,t.footerHeight=t.calcFooterHeight(),t.rtl=!1,t.gridHeight=0,t.gridWidth=0,t.columnBuilders=[],t.rowBuilders=[],t.rowsProcessors=[],t.columnsProcessors=[],t.styleComputations=[],t.viewportAdjusters=[],t.rowHeaderColumns=[],t.dataChangeCallbacks={},t.renderContainers={},t.renderContainers.body=new d("body",t),t.cellValueGetterCache={},t.getRowTemplateFn=null,t.rows=[],t.columns=[],t.isScrollingVertically=!1,t.isScrollingHorizontally=!1,t.scrollDirection=i.scrollDirection.NONE;var n=r.debounce(function(){t.isScrollingVertically=!1,t.scrollDirection=i.scrollDirection.NONE},1e3),a=r.debounce(function(){t.isScrollingHorizontally=!1,t.scrollDirection=i.scrollDirection.NONE},1e3);t.flagScrollingVertically=function(){t.isScrollingVertically=!0,n()},t.flagScrollingHorizontally=function(){t.isScrollingHorizontally=!0,a()},t.scrollbarHeight=0,t.scrollbarWidth=0,t.options.enableHorizontalScrollbar===i.scrollbars.ALWAYS&&(t.scrollbarHeight=r.getScrollbarWidth()),t.options.enableVerticalScrollbar===i.scrollbars.ALWAYS&&(t.scrollbarWidth=r.getScrollbarWidth()),t.api=new s(t),t.api.registerMethod("core","refresh",this.refresh),t.api.registerMethod("core","refreshRows",this.refreshRows),t.api.registerMethod("core","handleWindowResize",this.handleWindowResize),t.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),t.api.registerMethod("core","sortHandleNulls",u.handleNulls),t.api.registerEvent("core","sortChanged"),t.api.registerEvent("core","columnVisibilityChanged"),t.api.registerMethod("core","notifyDataChange",this.notifyDataChange),t.registerDataChangeCallback(t.columnRefreshCallback,[i.dataChange.COLUMN]),t.registerDataChangeCallback(t.processRowsCallback,[i.dataChange.EDIT]),t.registerStyleComputation({priority:10,func:t.getFooterStyles})};return g.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var e=0;return this.options.showGridFooter&&(e+=this.options.gridFooterHeight),this.options.showColumnFooter&&(e+=this.options.columnFooterHeight),e},g.prototype.getFooterStyles=function(){var e=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return e+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }"},g.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},g.prototype.isRTL=function(){return this.rtl},g.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},g.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=r.getColumnsFromData(e,this.options.excludeProperties)},g.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},g.prototype.registerDataChangeCallback=function(e,t,n){var o=r.nextUid();t||(t=[i.dataChange.ALL]),Array.isArray(t)||r.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+t),this.dataChangeCallbacks[o]={callback:e,types:t,_this:n};var a=this,l=function(){delete a.dataChangeCallbacks[o]};return l},g.prototype.callDataChangeCallbacks=function(e){angular.forEach(this.dataChangeCallbacks,function(t){(-1!==t.types.indexOf(i.dataChange.ALL)||-1!==t.types.indexOf(e)||e===i.dataChange.ALL)&&(t._this?t.callback.apply(t._this,this):t.callback(this))},this)},g.prototype.notifyDataChange=function(e){var t=i.dataChange;e===t.ALL||e===t.COLUMN||e===t.EDIT||e===t.ROW||e===t.OPTIONS?this.callDataChangeCallbacks(e):r.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+e)},g.prototype.columnRefreshCallback=function(e){e.buildColumns(),e.refresh()},g.prototype.processRowsCallback=function(e){e.refreshRows()},g.prototype.getColumn=function(e){var t=this.columns.filter(function(t){return t.colDef.name===e});return t.length>0?t[0]:null},g.prototype.getColDef=function(e){var t=this.options.columnDefs.filter(function(t){return t.name===e});return t.length>0?t[0]:null},g.prototype.assignTypes=function(){var e=this;e.options.columnDefs.forEach(function(t,n){if(!t.type){var i=new a(t,n,e),o=e.rows.length>0?e.rows[0]:null;o?t.type=r.guessType(e.getCellValue(o,i)):(r.logWarn("Unable to assign type from data, so defaulting to string"),t.type="string")}})},g.prototype.addRowHeaderColumn=function(e){var t=this,n=new a(e,t.rowHeaderColumns.length,t);n.isRowHeader=!0,t.isRTL()?(t.createRightContainer(),n.renderContainer="right"):(t.createLeftContainer(),n.renderContainer="left"),t.columnBuilders[0](e,n,t.options).then(function(){n.enableFiltering=!1,n.enableSorting=!1,n.enableHiding=!1,t.rowHeaderColumns.push(n),t.buildColumns().then(function(){t.preCompileCellTemplates(),t.refresh()})})},g.prototype.buildColumns=function(t){var n={orderByColumnDefs:!1};angular.extend(n,t);var i,o=this,l=[],s=o.rowHeaderColumns.length;for(i=0;o.columns.length>i;i++)o.getColDef(o.columns[i].name)||(o.columns.splice(i,1),i--);if(o.rowHeaderColumns.forEach(function(e){o.columns.unshift(e)}),o.options.columnDefs.forEach(function(e,t){o.preprocessColDef(e);var n=o.getColumn(e.name);n?n.updateColumnDef(e,!1):(n=new a(e,r.nextUid(),o),o.columns.splice(t+s,0,n)),o.columnBuilders.forEach(function(t){l.push(t.call(o,e,n,o.options))})}),n.orderByColumnDefs){var u=o.columns.slice(0);for(i=0;o.options.columnDefs.length>i;i++)u[i+s]=o.columns[i+s].name!==o.options.columnDefs[i].name?o.getColumn(o.options.columnDefs[i].name):o.columns[i+s];o.columns.length=0,Array.prototype.splice.apply(o.columns,[0,0].concat(u))}return e.all(l).then(function(){o.rows.length>0&&o.assignTypes()})},g.prototype.preCompileCellTemplates=function(){var e=this;this.columns.forEach(function(n){var r=n.cellTemplate.replace(i.MODEL_COL_FIELD,e.getQualifiedColField(n));r=r.replace(i.COL_FIELD,"grid.getCellValue(row, col)");var o=t(r);n.compiledElementFn=o,n.compiledElementFnDefer&&n.compiledElementFnDefer.resolve(n.compiledElementFn)})},g.prototype.getQualifiedColField=function(e){return"row.entity."+r.preEval(e.field)},g.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new d("left",this,{disableColumnOffset:!0}))},g.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new d("right",this,{disableColumnOffset:!0}))},g.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},g.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},g.prototype.preprocessColDef=function(e){var t=this;if(!e.field&&!e.name)throw Error("colDef.name or colDef.field property is required");if(void 0===e.name&&void 0!==e.field){var n=t.getColumn(e.field);if(n){var r=RegExp("^"+e.field+"(\\d+)$","i"),i=t.columns.filter(function(e){return r.test(e.displayName)}).sort(function(e,t){if(e===t)return 0;var n=e.match(r)[1],i=t.match(r)[1];return parseInt(n,10)>parseInt(i,10)?1:-1});if(0===i.length)e.name=e.field+"2";else{var o=i[i.length-1].displayName.match(r)[1];o=parseInt(o,10),e.name=e.field+(o+1)}}else e.name=e.field}},g.prototype.newInN=function(e,t,n,r){for(var i=this,o=[],a=0;t.length>a;a++){for(var l=r?t[a][r]:t[a],s=!1,u=0;e.length>u;u++){var c=n?e[u][n]:e[u];if(i.options.rowEquality(l,c)){s=!0;break}}s||o.push(l)}return o},g.prototype.getRow=function(e){var t=this,n=this.rows.filter(function(n){return t.options.rowEquality(n.entity,e)});return n.length>0?n[0]:null},g.prototype.modifyRows=function(t){var n,r,i,o,a=this;if((a.options.useExternalSorting||0===a.getColumnSorting().length)&&t.length>0){var s=a.rowHashMap;for(s||(s={get:function(){return null}}),a.createRowHashMap(),r=a.rowHashMap,0===a.rows.length,a.rows.length=0,n=0;t.length>n;n++){var u=t[n];i=s.get(u),o=i?i.row:a.processRowBuilders(new l(u,n,a)),a.rows.push(o),r.put(u,{i:n,entity:u,row:o})}a.assignTypes()}else if(0===a.rows.length&&t.length>0){if(a.options.enableRowHashing)for(a.rowHashMap||a.createRowHashMap(),n=0;t.length>n;n++)o=t[n],a.rowHashMap.put(o,{i:n,entity:o});a.addRows(t),a.assignTypes()}else if(t.length>0){var c,d,p;if(a.options.enableRowHashing){c=[],p=[];var f={};for(d=[],a.rowHashMap||a.createRowHashMap(),r=a.rowHashMap,n=0;t.length>n;n++){o=t[n];var g=!1;a.options.getRowIdentity(o)||(g=!0),i=r.get(o),i?i.row&&(f[a.options.rowIdentity(o)]=!0):(r.put(o,{i:n,entity:o}),g?p.push(o):c.push(o))}for(n=0;a.rows.length>n;n++){var h=a.rows[n],m=a.options.rowIdentity(h.entity);f[m]||d.push(h)}}var v=c||[],w=p||t;v=v.concat(a.newInN(a.rows,w,"entity")),a.addRows(v);var b=a.getDeletedRows(d||a.rows,t);for(n=0;b.length>n;n++)a.options.enableRowHashing&&a.rowHashMap.remove(b[n].entity),a.rows.splice(a.rows.indexOf(b[n]),1)}else a.createRowHashMap(),a.rows.length=0;var C=e.when(a.processRowsProcessors(a.rows)).then(function(e){return a.setVisibleRows(e)}),y=e.when(a.processColumnsProcessors(a.columns)).then(function(e){return a.setVisibleColumns(e)});return e.all([C,y])},g.prototype.getDeletedRows=function(e,t){var n=this,r=e.filter(function(e){return!t.some(function(t){return n.options.rowEquality(t,e.entity)})});return r},g.prototype.addRows=function(e){for(var t=this,n=t.rows.length,r=0;e.length>r;r++){var i=t.processRowBuilders(new l(e[r],r+n,t));if(t.options.enableRowHashing){var o=t.rowHashMap.get(i.entity);o&&(o.row=i)}t.rows.push(i)}},g.prototype.processRowBuilders=function(e){var t=this;return t.rowBuilders.forEach(function(n){n.call(t,e,t.options)}),e},g.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},g.prototype.registerRowsProcessor=function(e){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push(e)},g.prototype.removeRowsProcessor=function(e){var t=this.rowsProcessors.indexOf(e);t!==void 0&&void 0!==t&&this.rowsProcessors.splice(t,1)},g.prototype.processRowsProcessors=function(t){function n(t,i){var a=r.rowsProcessors[t];return e.when(a.call(r,i,r.columns)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";return t++,r.rowsProcessors.length-1>=t?n(t,e):(o.resolve(e),void 0)})}var r=this,i=t.slice(0);if(0===r.rowsProcessors.length)return e.when(i);var o=e.defer();return n(0,i),o.promise},g.prototype.setVisibleRows=function(e){var t=this;for(var n in t.renderContainers){var r=t.renderContainers[n];r.canvasHeightShouldUpdate=!0,r.visibleRowCache===void 0?r.visibleRowCache=[]:r.visibleRowCache.length=0}for(var i=0;e.length>i;i++){var o=e[i];o.visible&&(o.renderContainer!==void 0&&o.renderContainer?t.renderContainers[o.renderContainer].visibleRowCache.push(o):t.renderContainers.body.visibleRowCache.push(o))}t.api.core.raise.rowsRendered(this.api)},g.prototype.registerColumnsProcessor=function(e){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push(e)},g.prototype.removeColumnsProcessor=function(e){var t=this.columnsProcessors.indexOf(e);t!==void 0&&void 0!==t&&this.columnsProcessors.splice(t,1)},g.prototype.processColumnsProcessors=function(t){function n(t,a){var l=r.columnsProcessors[t];return e.when(l.call(r,a,r.rows)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";return t++,r.columnsProcessors.length-1>=t?n(t,i):(o.resolve(i),void 0)})}var r=this,i=t.slice(0);if(0===r.columnsProcessors.length)return e.when(i);var o=e.defer();return n(0,i),o.promise},g.prototype.setVisibleColumns=function(e){var t=this;for(var n in t.renderContainers){var r=t.renderContainers[n];r.visibleColumnCache.length=0}for(var i=0;e.length>i;i++){var o=e[i];o.visible&&(o.renderContainer!==void 0&&o.renderContainer?t.renderContainers[o.renderContainer].visibleColumnCache.push(o):t.renderContainers.body.visibleColumnCache.push(o))}},g.prototype.handleWindowResize=function(){var e=this;e.gridWidth=r.elementWidth(e.element),e.gridHeight=r.elementHeight(e.element),e.queueRefresh()},g.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&p.cancel(e.refreshCanceller),e.refreshCanceller=p(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null}),e.refreshCanceller},g.prototype.updateCanvasHeight=function(){var e=this;for(var t in e.renderContainers)if(e.renderContainers.hasOwnProperty(t)){var n=e.renderContainers[t];n.canvasHeightShouldUpdate=!0}},g.prototype.buildStyles=function(){var e=this;e.customStyles="",e.styleComputations.sort(function(e,t){return null===e.priority?1:null===t.priority?-1:null===e.priority&&null===t.priority?0:e.priority-t.priority}).forEach(function(t){var n=t.func.call(e);angular.isString(n)&&(e.customStyles+="\n"+n)})},g.prototype.minColumnsToRender=function(){var e=this,t=this.getViewportWidth(),n=0,r=0;return e.columns.forEach(function(i,o){if(t>r)r+=i.drawnWidth,n++;else{for(var a=0,l=o;l>=o-n;l--)a+=e.columns[l].drawnWidth;t>a&&n++}}),n},g.prototype.getBodyHeight=function(){var e=this.getViewportHeight();return e},g.prototype.getViewportHeight=function(){var e=this,t=this.gridHeight-this.headerHeight-this.footerHeight,n=e.getViewportAdjustment();return t+=n.height},g.prototype.getViewportWidth=function(){var e=this,t=this.gridWidth,n=e.getViewportAdjustment();return t+=n.width},g.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},g.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},g.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);t!==void 0&&void 0!==t&&this.viewportAdjusters.splice(t,1)},g.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},g.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},g.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},g.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},g.prototype.searchRows=function(e){return c.search(this,e,this.columns)},g.prototype.sortByColumn=function(e){return u.sort(this,e,this.columns)},g.prototype.getCellValue=function(e,t){var r=this;return r.cellValueGetterCache[t.colDef.name]||(r.cellValueGetterCache[t.colDef.name]=n(e.getEntityQualifiedColField(t))),r.cellValueGetterCache[t.colDef.name](e)},g.prototype.getNextColumnSortPriority=function(){var e=this,t=0;return e.columns.forEach(function(e){e.sort&&e.sort.priority&&e.sort.priority>t&&(t=e.sort.priority)}),t+1},g.prototype.resetColumnSorting=function(e){var t=this;t.columns.forEach(function(t){t===e||t.colDef.suppressRemoveSort||(t.sort={})})},g.prototype.getColumnSorting=function(){var e,t=this,n=[];return e=t.columns.slice(0),e.sort(u.prioritySort).forEach(function(e){e.sort&&e.sort.direction!==void 0&&e.sort.direction&&(e.sort.direction===i.ASC||e.sort.direction===i.DESC)&&n.push(e)}),n},g.prototype.sortColumn=function(t,n,r){var o=this,a=null;if(t===void 0||!t)throw Error("No column parameter provided");return"boolean"==typeof n?r=n:a=n,r?t.sort.priority=o.getNextColumnSortPriority():(o.resetColumnSorting(t),t.sort.priority=0),t.sort.direction=a?a:t.sort.direction&&t.sort.direction===i.ASC?i.DESC:t.sort.direction&&t.sort.direction===i.DESC?t.colDef&&t.colDef.suppressRemoveSort?i.ASC:null:i.ASC,o.api.core.raise.sortChanged(o,o.getColumnSorting()),e.when(t)},g.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},g.prototype.createRowHashMap=function(){var e=this,t=new f;t.grid=e,e.rowHashMap=t},g.prototype.refresh=function(){var t=this,n=t.processRowsProcessors(t.rows).then(function(e){t.setVisibleRows(e)}),r=t.processColumnsProcessors(t.columns).then(function(e){t.setVisibleColumns(e)});return e.all([n,r]).then(function(){t.redrawInPlace(),t.refreshCanvas(!0)})},g.prototype.refreshRows=function(){var e=this;return e.processRowsProcessors(e.rows).then(function(t){e.setVisibleRows(t),e.redrawInPlace(),e.refreshCanvas(!0)})},g.prototype.refreshCanvas=function(t){var n=this;t&&n.buildStyles();var i=e.defer(),o=[];for(var a in n.renderContainers)if(n.renderContainers.hasOwnProperty(a)){var l=n.renderContainers[a];if(null===l.canvasWidth||isNaN(l.canvasWidth))continue;l.header&&o.push(l)}return o.length>0?p(function(){var e,a,l=!1,s=0;for(e=0;o.length>e;e++)if(a=o[e],null!==a.canvasWidth&&!isNaN(a.canvasWidth)&&a.header){var u=a.headerHeight,c=r.outerElementHeight(a.header);a.headerHeight=parseInt(c,10),u!==c&&(l=!0);var d=r.getBorderSize(a.header,"top"),p=r.getBorderSize(a.header,"bottom"),f=parseInt(c-d-p,10);f=0>f?0:f,a.innerHeaderHeight=f,f>s&&(s=f)}for(e=0;o.length>e;e++)a=o[e],s>a.headerHeight&&(a.explicitHeaderHeight=s);t&&l&&n.buildStyles(),i.resolve()}):p(function(){i.resolve()}),i.promise},g.prototype.redrawInPlace=function(){var e=this;for(var t in e.renderContainers){var n=e.renderContainers[t];n.adjustRows(null,n.prevScrolltopPercentage,!0),n.adjustColumns(null,n.prevScrollleftPercentage)}},g.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},g.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},f.prototype={put:function(e,t){this[this.grid.options.rowIdentity(e)]=t},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var t=this[e=this.grid.options.rowIdentity(e)];return delete this[e],t}},g}])}(),function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(e,t,n,r,i){function o(e,n,r,i){return t.$on(e,function(){var e=Array.prototype.slice.call(arguments);e.splice(0,1),n.apply(i?i:r.api,e)})}var a=function a(e){this.grid=e,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",i.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",i.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollEvent"),this.registerEvent("core","canvasHeightChanged")};return a.prototype.suppressEvents=function(e,t){var n=this,r=angular.isArray(e)?e:[e],i=[];r.forEach(function(e){i=n.listeners.filter(function(t){return e===t.handler})}),i.forEach(function(e){e.dereg()}),t(),i.forEach(function(e){e.dereg=o(e.eventId,e.handler,n.grid,e._this)})},a.prototype.registerEvent=function(e,n){var r=this;r[e]||(r[e]={});var i=r[e];i.on||(i.on={},i.raise={});var a=r.grid.id+e+n;i.raise[n]=function(){t.$emit.apply(t,[a].concat(Array.prototype.slice.call(arguments)))},i.on[n]=function(e,t,n){var i=o(a,t,r.grid,n),l={handler:t,dereg:i,eventId:a,scope:e,_this:n};r.listeners.push(l);var s=function(){l.dereg();var e=r.listeners.indexOf(l);r.listeners.splice(e,1)};return e.$on("$destroy",function(){s()}),s}},a.prototype.registerEventsFromObject=function(e){var t=this,n=[];angular.forEach(e,function(e,t){var r={name:t,events:[]};angular.forEach(e,function(e,t){r.events.push(t)}),n.push(r)}),n.forEach(function(e){e.events.forEach(function(n){t.registerEvent(e.name,n)})})},a.prototype.registerMethod=function(e,t,r,i){this[e]||(this[e]={});var o=this[e];o[t]=n.createBoundedWrapper(i||this.grid,r)},a.prototype.registerMethodsFromObject=function(e,t){var n=this,r=[];angular.forEach(e,function(e,t){var n={name:t,methods:[]};angular.forEach(e,function(e,t){n.methods.push({name:t,fn:e})}),r.push(n)}),r.forEach(function(e){e.methods.forEach(function(r){n.registerMethod(e.name,r.name,r.fn,t)})})},a}])}(),function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(e,t,n){function r(e,t,n){var r=this;r.grid=n,r.uid=t,r.updateColumnDef(e,!0)}return r.prototype.setPropertyOrDefault=function(e,t,n){var r=this;r[t]=e[t]!==void 0&&e[t]?e[t]:r[t]!==void 0?r[t]:n?n:{}},r.prototype.updateColumnDef=function(t,n){var i=this;if(i.colDef=t,void 0===t.name)throw Error("colDef.name is required for column at index "+i.grid.options.columnDefs.indexOf(t));i.displayName=void 0===t.displayName?e.readableColumnName(t.name):t.displayName;var o="Cannot parse column width '"+t.width+"' for column named '"+t.name+"'";if(e.isNullOrUndefined(i.width)||!angular.isNumber(i.width))if(e.isNullOrUndefined(t.width))i.width="*";else if(angular.isNumber(t.width))i.width=t.width;else if(e.endsWith(t.width,"%")){var a=t.width.replace(/%/g,""),l=parseInt(a,10);if(isNaN(l))throw Error(o);i.width=t.width}else if(t.width.match(/^(\d+)$/))i.width=parseInt(t.width.match(/^(\d+)$/)[1],10);else{if(!t.width.match(/^\*+$/))throw Error(o);i.width=t.width}i.minWidth=t.minWidth?t.minWidth:30,i.maxWidth=t.maxWidth?t.maxWidth:9e3,i.field=void 0===t.field?t.name:t.field,"string"!=typeof i.field&&e.logError("Field is not a string, this is likely to break the code, Field is: "+i.field),i.name=t.name,i.displayName=void 0===t.displayName?e.readableColumnName(t.name):t.displayName,i.aggregationType=angular.isDefined(t.aggregationType)?t.aggregationType:null,i.footerCellTemplate=angular.isDefined(t.footerCellTemplate)?t.footerCellTemplate:null,i.footerCellClass=t.footerCellClass,i.cellClass=t.cellClass,i.headerCellClass=t.headerCellClass,i.cellFilter=t.cellFilter?t.cellFilter:"",i.headerCellFilter=t.headerCellFilter?t.headerCellFilter:"",i.footerCellFilter=t.footerCellFilter?t.footerCellFilter:"",i.visible=e.isNullOrUndefined(t.visible)||t.visible,i.headerClass=t.headerClass,i.enableSorting=t.enableSorting!==void 0?t.enableSorting:!0,i.sortingAlgorithm=t.sortingAlgorithm,i.enableFiltering=t.enableFiltering!==void 0?t.enableFiltering:!0,i.setPropertyOrDefault(t,"menuItems",[]),n&&i.setPropertyOrDefault(t,"sort");var s=[];t.filter?s.push(t.filter):i.enableFiltering&&i.grid.options.enableFiltering&&s.push({}),n&&(i.setPropertyOrDefault(t,"filter"),i.setPropertyOrDefault(t,"filters",s)),r.prototype.unsort=function(){this.sort={},i.grid.api.core.raise.sortChanged(i,i.grid.getColumnSorting())}},r.prototype.getColClass=function(e){var n=t.COL_CLASS_PREFIX+this.uid;return e?"."+n:n},r.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { width: "+this.drawnWidth+"px; }"},r.prototype.getRenderContainer=function(){var e=this,t=e.renderContainer;return(null===t||""===t||void 0===t)&&(t="body"),e.grid.renderContainers[t]},r.prototype.showColumn=function(){this.colDef.visible=!0},r.prototype.hideColumn=function(){this.colDef.visible=!1},r.prototype.getAggregationValue=function(){var e=this,n=0,r=e.grid.getVisibleRows(),i=function(){var t=[];return angular.forEach(r,function(n){var r=e.grid.getCellValue(n,e);angular.isNumber(r)&&t.push(r)}),t};return angular.isFunction(e.aggregationType)?e.aggregationType(r,e):e.aggregationType===t.aggregationTypes.count?e.grid.getVisibleRowCount():e.aggregationType===t.aggregationTypes.sum?(angular.forEach(i(),function(e){n+=e}),n):e.aggregationType===t.aggregationTypes.avg?(angular.forEach(i(),function(e){n+=e}),n/=i().length):e.aggregationType===t.aggregationTypes.min?Math.min.apply(null,i()):e.aggregationType===t.aggregationTypes.max?Math.max.apply(null,i()):" "},r.prototype.getAggregationText=function(){var e=this;if(e.colDef.aggregationHideLabel)return"";if(e.colDef.aggregationLabel)return e.colDef.aggregationLabel;switch(e.colDef.aggregationType){case t.aggregationTypes.count:return n.getSafeText("aggregation.count");case t.aggregationTypes.sum:return n.getSafeText("aggregation.sum");case t.aggregationTypes.avg:return n.getSafeText("aggregation.avg");case t.aggregationTypes.min:return n.getSafeText("aggregation.min");case t.aggregationTypes.max:return n.getSafeText("aggregation.max");default:return""}},r.prototype.getCellTemplate=function(){var e=this;return e.cellTemplatePromise},r.prototype.getCompiledElementFn=function(){var e=this;return e.compiledElementFnDefer.promise},r}])}(),function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(e,t){return{initialize:function(n){return n.onRegisterApi=n.onRegisterApi||angular.noop(),n.data=n.data||[],n.columnDefs=n.columnDefs||[],n.excludeProperties=n.excludeProperties||["$$hashKey"],n.enableRowHashing=n.enableRowHashing!==!1,n.rowIdentity=n.rowIdentity||function(t){return e.hashKey(t)},n.getRowIdentity=n.getRowIdentity||function(e){return e.$$hashKey},n.showHeader=n.showHeader!==void 0?n.showHeader:!0,n.headerRowHeight=n.showHeader?n.headerRowHeight!==void 0?n.headerRowHeight:30:0,n.rowHeight=n.rowHeight||30,n.minRowsToShow=n.minRowsToShow!==void 0?n.minRowsToShow:10,n.showGridFooter=n.showGridFooter===!0,n.showColumnFooter=n.showColumnFooter===!0,n.columnFooterHeight=n.columnFooterHeight!==void 0?n.columnFooterHeight:30,n.gridFooterHeight=n.gridFooterHeight!==void 0?n.gridFooterHeight:30,n.columnWidth=n.columnWidth!==void 0?n.columnWidth:50,n.maxVisibleColumnCount=n.maxVisibleColumnCount!==void 0?n.maxVisibleColumnCount:200,n.virtualizationThreshold=n.virtualizationThreshold!==void 0?n.virtualizationThreshold:20,n.columnVirtualizationThreshold=n.columnVirtualizationThreshold!==void 0?n.columnVirtualizationThreshold:10,n.excessRows=n.excessRows!==void 0?n.excessRows:4,n.scrollThreshold=n.scrollThreshold!==void 0?n.scrollThreshold:4,n.excessColumns=n.excessColumns!==void 0?n.excessColumns:4,n.horizontalScrollThreshold=n.horizontalScrollThreshold!==void 0?n.horizontalScrollThreshold:2,n.scrollThrottle=n.scrollThrottle!==void 0?n.scrollThrottle:70,n.enableSorting=n.enableSorting!==!1,n.enableFiltering=n.enableFiltering===!0,n.enableColumnMenus=n.enableColumnMenus!==!1,n.enableVerticalScrollbar=n.enableVerticalScrollbar!==void 0?n.enableVerticalScrollbar:t.scrollbars.ALWAYS,n.enableHorizontalScrollbar=n.enableHorizontalScrollbar!==void 0?n.enableHorizontalScrollbar:t.scrollbars.ALWAYS,n.minimumColumnSize=n.minimumColumnSize!==void 0?n.minimumColumnSize:10,n.rowEquality=n.rowEquality||function(e,t){return e===t},n.headerTemplate=n.headerTemplate||null,n.footerTemplate=n.footerTemplate||null,n.rowTemplate=n.rowTemplate||"ui-grid/ui-grid-row",n.appScopeProvider=n.appScopeProvider||null,n}}}])}(),function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(e,t){function n(e,t,n){var r=this;r.name=e,r.grid=t,r.visibleRowCache=[],r.visibleColumnCache=[],r.renderedRows=[],r.renderedColumns=[],r.prevScrollTop=0,r.prevScrolltopPercentage=0,r.prevRowScrollIndex=0,r.prevScrollLeft=0,r.prevScrollleftPercentage=0,r.prevColumnScrollIndex=0,r.columnStyles="",r.viewportAdjusters=[],r.canvasHeightShouldUpdate=!0,r.$$canvasHeight=0,n&&angular.isObject(n)&&angular.extend(r,n),t.registerStyleComputation({priority:5,func:function(){return r.columnStyles}})}return n.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},n.prototype.minRowsToRender=function(){for(var e=this,t=0,n=0,r=e.getViewportHeight(),i=e.visibleRowCache.length-1;r>n&&i>=0;i--)n+=e.visibleRowCache[i].height,t++;return t},n.prototype.minColumnsToRender=function(){for(var e=this,t=this.getViewportWidth(),n=0,r=0,i=0;e.visibleColumnCache.length>i;i++){var o=e.visibleColumnCache[i];if(t>r)r+=o.drawnWidth?o.drawnWidth:0,n++;else{for(var a=0,l=i;l>=i-n;l--)a+=e.visibleColumnCache[l].drawnWidth?e.visibleColumnCache[l].drawnWidth:0;t>a&&n++}}return n},n.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},n.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},n.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);t!==void 0&&void 0!==t&&this.viewportAdjusters.splice(t,1)},n.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},n.prototype.getViewportHeight=function(){var e=this,t=e.headerHeight?e.headerHeight:e.grid.headerHeight,n=e.grid.gridHeight-t-e.grid.footerHeight,r=e.getViewportAdjustment();return n+=r.height},n.prototype.getViewportWidth=function(){var e=this,t=e.grid.gridWidth,n=e.getViewportAdjustment();return t+=n.width},n.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},n.prototype.getCanvasHeight=function(){var e=this;if(!e.canvasHeightShouldUpdate)return e.$$canvasHeight;var t=e.$$canvasHeight;return e.$$canvasHeight=0,e.visibleRowCache.forEach(function(t){e.$$canvasHeight+=t.height}),e.canvasHeightShouldUpdate=!1,e.grid.api.core.raise.canvasHeightChanged(t,e.$$canvasHeight),e.$$canvasHeight},n.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()},n.prototype.getCanvasWidth=function(){var e=this,t=e.canvasWidth;return t},n.prototype.setRenderedRows=function(e){this.renderedRows.length=e.length;for(var t=0;e.length>t;t++)this.renderedRows[t]=e[t]},n.prototype.setRenderedColumns=function(e){this.renderedColumns.length=e.length;for(var t=0;e.length>t;t++)this.renderedColumns[t]=e[t];this.updateColumnOffset()},n.prototype.updateColumnOffset=function(){for(var e=0,t=0;this.currentFirstColumn>t;t++)e+=this.visibleColumnCache[t].drawnWidth;this.columnOffset=e},n.prototype.adjustScrollVertical=function(e,t,n){(this.prevScrollTop!==e||n)&&((e===void 0||void 0===e||null===e)&&(e=(this.getCanvasHeight()-this.getCanvasWidth())*t),this.adjustRows(e,t,!1),this.prevScrollTop=e,this.prevScrolltopPercentage=t,this.grid.queueRefresh())},n.prototype.adjustScrollHorizontal=function(e,t,n){(this.prevScrollLeft!==e||n)&&((e===void 0||void 0===e||null===e)&&(e=(this.getCanvasWidth()-this.getViewportWidth())*t),this.adjustColumns(e,t),this.prevScrollLeft=e,this.prevScrollleftPercentage=t,this.grid.queueRefresh())},n.prototype.adjustRows=function(e,n,r){var i=this,o=i.minRowsToRender(),a=i.visibleRowCache,l=a.length-o;void 0!==n&&null!==n||!e||(n=e/i.getVerticalScrollLength());var s=Math.ceil(Math.min(l,l*n));s>l&&(s=l);var u=[];if(a.length>i.grid.options.virtualizationThreshold){if(void 0!==e&&null!==e){if(!i.grid.options.enableInfiniteScroll&&e>i.prevScrollTop&&i.prevRowScrollIndex+i.grid.options.scrollThreshold>s&&l>s)return;if(!i.grid.options.enableInfiniteScroll&&i.prevScrollTop>e&&s>i.prevRowScrollIndex-i.grid.options.scrollThreshold&&l>s)return}var c={},d={};if(i.grid.options.enableInfiniteScroll&&i.grid.scrollDirection!==t.scrollDirection.NONE&&r){var p=null,f=null;if(i.grid.scrollDirection===t.scrollDirection.UP){for(p=s>0?i.grid.options.excessRows:0,f=0;a.length>f;f++)if(a[f].entity.$$hashKey===i.renderedRows[p].entity.$$hashKey){s=f;
break}c=Math.max(0,s),d=Math.min(a.length,c+i.grid.options.excessRows+o)}else if(i.grid.scrollDirection===t.scrollDirection.DOWN){for(p=o,f=0;a.length>f;f++)if(a[f].entity.$$hashKey===i.renderedRows[p].entity.$$hashKey){s=f;break}c=Math.max(0,s-i.grid.options.excessRows-o),d=Math.min(a.length,s+o+i.grid.options.excessRows)}}else c=Math.max(0,s-i.grid.options.excessRows),d=Math.min(a.length,s+o+i.grid.options.excessRows);u=[c,d]}else{var g=i.visibleRowCache.length;u=[0,Math.max(g,o+i.grid.options.excessRows)]}i.updateViewableRowRange(u),i.prevRowScrollIndex=s},n.prototype.adjustColumns=function(e,t){var n=this,r=n.minColumnsToRender(),i=n.visibleColumnCache,o=i.length-r;void 0!==t&&null!==t||!e||(t=e/n.getCanvasWidth());var a=Math.ceil(Math.min(o,o*t));a>o&&(a=o);var l=[];if(i.length>n.grid.options.columnVirtualizationThreshold&&n.getCanvasWidth()>n.getViewportWidth()){var s=Math.max(0,a-n.grid.options.excessColumns),u=Math.min(i.length,a+r+n.grid.options.excessColumns);l=[s,u]}else{var c=n.visibleColumnCache.length;l=[0,Math.max(c,r+n.grid.options.excessColumns)]}n.updateViewableColumnRange(l),n.prevColumnScrollIndex=a},n.prototype.updateViewableRowRange=function(e){var t=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0],this.setRenderedRows(t)},n.prototype.updateViewableColumnRange=function(e){var t=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0],this.setRenderedColumns(t)},n.prototype.rowStyle=function(e){var t=this,n={};if(0===e&&0!==t.currentTopRow){var r=t.currentTopRow*t.grid.options.rowHeight;n["margin-top"]=r+"px"}return 0!==t.currentFirstColumn&&(t.grid.isRTL()?n["margin-right"]=t.columnOffset+"px":n["margin-left"]=t.columnOffset+"px"),n},n.prototype.columnStyle=function(e){var t=this;if(0===e&&0!==t.currentFirstColumn){var n=t.columnOffset;return t.grid.isRTL()?{"margin-right":n+"px"}:{"margin-left":n+"px"}}return null},n.prototype.updateColumnWidths=function(){var t,n=this,r=[],i=[],o=0,a=n.getViewportWidth(),l=0,s=0,u="",c=n.visibleColumnCache;c.forEach(function(t){if(t.visible){var n=!1;angular.isNumber(t.width)||(n=isNaN(t.width)&&e.endsWith(t.width,"%")),angular.isString(t.width)&&-1!==t.width.indexOf("*")?(o=parseInt(o+t.width.length,10),r.push(t)):n?i.push(t):angular.isNumber(t.width)&&(l=parseInt(l+t.width,10),s=parseInt(s,10)+parseInt(t.width,10),t.drawnWidth=t.width)}});var d,p,f,g=a-l;if(i.length>0){for(d=0;i.length>d;d++){p=i[d];var h=parseInt(p.width.replace(/%/g,""),10)/100;f=parseInt(h*g,10),p.colDef.minWidth&&p.colDef.minWidth>f?(f=p.colDef.minWidth,g-=f,s+=f,p.drawnWidth=f,i.splice(d,1)):p.colDef.maxWidth&&f>p.colDef.maxWidth&&(f=p.colDef.maxWidth,g-=f,s+=f,p.drawnWidth=f,i.splice(d,1))}i.forEach(function(e){var t=parseInt(e.width.replace(/%/g,""),10)/100,n=parseInt(t*g,10);s+=n,e.drawnWidth=n})}if(r.length>0){var m=parseInt(g/o,10);for(d=0;r.length>d;d++)p=r[d],f=parseInt(m*p.width.length,10),p.colDef.minWidth&&p.colDef.minWidth>f?(f=p.colDef.minWidth,g-=f,o--,s+=f,p.drawnWidth=f,t=p,r.splice(d,1)):p.colDef.maxWidth&&f>p.colDef.maxWidth&&(f=p.colDef.maxWidth,g-=f,o--,s+=f,p.drawnWidth=f,r.splice(d,1));m=parseInt(g/o,10),r.forEach(function(e){var t=parseInt(m*e.width.length,10);s+=t,e.drawnWidth=t})}var v=a-parseInt(s,10);if(v>0&&s>0&&a>s){var w=!1;if(c.forEach(function(e){e.width&&!angular.isNumber(e.width)&&(w=!0)}),w)for(var b=function(e){v>0&&(e.drawnWidth=e.drawnWidth+1,s+=1,v--)};v>0;)c.forEach(b)}a>s&&(s=a),c.forEach(function(e){u+=e.getColClassDefinition()}),n.canvasWidth=parseInt(s,10),this.columnStyles=u},n.prototype.getViewPortStyle=function(){var e=this,n={};return"body"===e.name?(n["overflow-x"]=e.grid.options.enableHorizontalScrollbar===t.scrollbars.NEVER?"hidden":"scroll",n["overflow-y"]=e.grid.isRTL()?e.grid.hasLeftContainerColumns()?"hidden":e.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll":e.grid.hasRightContainerColumns()?"hidden":e.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll"):"left"===e.name?(n["overflow-x"]="hidden",n["overflow-y"]=e.grid.isRTL()?e.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll":"hidden"):(n["overflow-x"]="hidden",n["overflow-y"]=e.grid.isRTL()?"hidden":e.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll"),n},n}])}(),function(){angular.module("ui.grid").factory("GridRow",["gridUtil",function(e){function t(t,n,r){this.grid=r,this.entity=t,this.uid=e.nextUid(),this.visible=!0,this.$$height=r.options.rowHeight}return Object.defineProperty(t.prototype,"height",{get:function(){return this.$$height},set:function(e){e!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=e)}}),t.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)},t.prototype.getEntityQualifiedColField=function(t){return e.preEval("entity."+t.field)},t.prototype.setRowInvisible=function(e){null!==e&&(e.forceInvisible=!0,e.visible&&(e.visible=!1,e.grid.refresh(),e.grid.api.core.raise.rowsVisibleChanged()))},t.prototype.clearRowInvisible=function(e){null!==e&&(e.forceInvisible=!1,e.visible||(e.visible=!0,e.grid.refresh(),e.grid.api.core.raise.rowsVisibleChanged()))},t}])}(),function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(e){function t(t,n,r,i){var o=this;if(!t)throw Error("grid argument is required");o.grid=t,o.source=i,o.sourceRowContainer=n,o.sourceColContainer=r,o.newScrollLeft=null,o.newScrollTop=null,o.x=null,o.y=null,o.fireThrottledScrollingEvent=e.throttle(function(){o.grid.api.core.raise.scrollEvent(o)},o.grid.options.scrollThrottle,{trailing:!0})}return t.prototype.fireScrollingEvent=function(){this.grid.api.core.raise.scrollEvent(this)},t.prototype.getNewScrollLeft=function(t,n){var r=this;if(!r.newScrollLeft){var i,o=t.getCanvasWidth()-t.getViewportWidth(),a=e.normalizeScrollLeft(n);if(r.x.percentage!==void 0&&void 0!==r.x.percentage)i=r.x.percentage;else{if(void 0===r.x.pixels||void 0===r.x.pixels)throw Error("No percentage or pixel value provided for scroll event X axis");i=r.x.percentage=(a+r.x.pixels)/o}return Math.max(0,i*o)}return r.newScrollLeft},t.prototype.getNewScrollTop=function(e,t){var n=this;if(!n.newScrollTop){var r,i=e.getVerticalScrollLength(),o=t[0].scrollTop;if(n.y.percentage!==void 0&&void 0!==n.y.percentage)r=n.y.percentage;else{if(void 0===n.y.pixels||void 0===n.y.pixels)throw Error("No percentage or pixel value provided for scroll event Y axis");r=n.y.percentage=(o+n.y.pixels)/i}return Math.max(0,r*i)}return n.newScrollTop},t.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},t}])}(),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(e,t,n,r,i,o){var a={createGrid:function(r){r=r!==void 0?r:{},r.id=e.newId();var i=new o(r);if(i.options.rowTemplate){var l=t.defer();i.getRowTemplateFn=l.promise,e.getTemplate(i.options.rowTemplate).then(function(e){var t=n(e);l.resolve(t)},function(){throw Error("Couldn't fetch/use row template '"+i.options.rowTemplate+"'")})}return i.registerColumnBuilder(a.defaultColumnBuilder),i.registerRowBuilder(a.rowTemplateAssigner),i.registerRowsProcessor(function(e){return e.forEach(function(e){e.visible=!e.forceInvisible}),e}),i.registerColumnsProcessor(function(e){return e.forEach(function(e){e.visible=!0}),e}),i.registerColumnsProcessor(function(e){return e.forEach(function(e){e.colDef.visible===!1&&(e.visible=!1)}),e}),i.options.enableFiltering&&i.registerRowsProcessor(i.searchRows),i.options.externalSort&&angular.isFunction(i.options.externalSort)?i.registerRowsProcessor(i.options.externalSort):i.registerRowsProcessor(i.sortByColumn),i},defaultColumnBuilder:function(n,r){var o=[];return r.providedHeaderCellTemplate=n.headerCellTemplate?n.headerCellTemplate:"ui-grid/uiGridHeaderCell",r.providedCellTemplate=n.cellTemplate?n.cellTemplate:"ui-grid/uiGridCell",r.providedFooterCellTemplate=n.footerCellTemplate?n.footerCellTemplate:"ui-grid/uiGridFooterCell",r.cellTemplatePromise=e.getTemplate(r.providedCellTemplate),o.push(r.cellTemplatePromise.then(function(e){r.cellTemplate=e.replace(i.CUSTOM_FILTERS,r.cellFilter?"|"+r.cellFilter:"")},function(){throw Error("Couldn't fetch/use colDef.cellTemplate '"+n.cellTemplate+"'")})),o.push(e.getTemplate(r.providedHeaderCellTemplate).then(function(e){r.headerCellTemplate=e.replace(i.CUSTOM_FILTERS,r.headerCellFilter?"|"+r.headerCellFilter:"")},function(){throw Error("Couldn't fetch/use colDef.headerCellTemplate '"+n.headerCellTemplate+"'")})),o.push(e.getTemplate(r.providedFooterCellTemplate).then(function(e){r.footerCellTemplate=e.replace(i.CUSTOM_FILTERS,r.footerCellFilter?"|"+r.footerCellFilter:"")},function(){throw Error("Couldn't fetch/use colDef.footerCellTemplate '"+n.footerCellTemplate+"'")})),r.compiledElementFnDefer=t.defer(),t.all(o)},rowTemplateAssigner:function(r){var i=this;if(r.rowTemplate){var o=t.defer();r.getRowTemplateFn=o.promise,e.getTemplate(r.rowTemplate).then(function(e){var t=n(e);o.resolve(t)},function(){throw Error("Couldn't fetch/use row template '"+r.rowTemplate+"'")})}else r.rowTemplate=i.options.rowTemplate,r.getRowTemplateFn=i.getRowTemplateFn;return r.getRowTemplateFn}};return a}])}(),function(){function e(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var t=angular.module("ui.grid");t.service("rowSearcher",["gridUtil","uiGridConstants",function(t,n){var r=n.filter.STARTS_WITH,i={};return i.getTerm=function(e){if(e.term===void 0)return e.term;var t=e.term;return"string"==typeof t&&(t=t.trim()),t},i.stripTerm=function(t){var n=i.getTerm(t);return"string"==typeof n?e(n.replace(/(^\*|\*$)/g,"")):n},i.guessCondition=function(e){if(e.term===void 0||!e.term)return r;var t=i.getTerm(e);if(/\*/.test(t)){var n="";e.flags&&e.flags.caseSensitive||(n+="i");var o=t.replace(/(\\)?\*/g,function(e,t){return t?e:"[\\s\\S]*?"});return RegExp("^"+o+"$",n)}return r},i.setupFilters=function(e){for(var t=[],r=e.length,o=0;r>o;o++){var a=e[o];if(a.noTerm||a.term){var l={},s="";a.flags&&a.flags.caseSensitive||(s+="i"),a.term&&(l.term=i.stripTerm(a)),l.condition=a.condition?a.condition:i.guessCondition(a),l.flags=angular.extend({caseSensitive:!1},a.flags),l.condition===n.filter.STARTS_WITH&&(l.startswithRE=RegExp("^"+l.term,s)),l.condition===n.filter.ENDS_WITH&&(l.endswithRE=RegExp(l.term+"$",s)),l.condition===n.filter.CONTAINS&&(l.containsRE=RegExp(l.term,s)),l.condition===n.filter.EXACT&&(l.exactRE=RegExp("^"+l.term+"$",s)),t.push(l)}}return t},i.runColumnFilter=function(e,t,r,i){var o=typeof i.condition,a=i.term,l=e.getCellValue(t,r);if(i.condition instanceof RegExp)return i.condition.test(l);if("function"===o)return i.condition(a,l,t,r);if(i.startswithRE)return i.startswithRE.test(l);if(i.endswithRE)return i.endswithRE.test(l);if(i.containsRE)return i.containsRE.test(l);if(i.exactRE)return i.exactRE.test(l);if(i.condition===n.filter.NOT_EQUAL){var s=RegExp("^"+a+"$");return!s.exec(l)}if("number"==typeof l){var u=parseFloat(a.replace(/\\./,"."));isNaN(u)||(a=u)}return i.condition===n.filter.GREATER_THAN?l>a:i.condition===n.filter.GREATER_THAN_OR_EQUAL?l>=a:i.condition===n.filter.LESS_THAN?a>l:i.condition===n.filter.LESS_THAN_OR_EQUAL?a>=l:!0},i.searchColumn=function(e,t,n,r){if(e.options.useExternalFiltering)return!0;for(var o=r.length,a=0;o>a;a++){var l=r[a],s=i.runColumnFilter(e,t,n,l);if(!s)return!1}return!0},i.search=function(e,t,n){if(t){for(var r=[],o=n.length,a=0;o>a;a++){var l=n[a];l.filters!==void 0&&(l.filters.length>1||1===l.filters.length&&(l.filters[0].term!==void 0&&l.filters[0].term||l.filters[0].noTerm))?r.push({col:l,filters:i.setupFilters(l.filters)}):l.filter!==void 0&&l.filter&&(l.filter.term!==void 0&&l.filter.term||l.filter.noTerm)&&r.push({col:l,filters:i.setupFilters([l.filter])})}if(r.length>0){for(var s=function(e,t,n,r){(t.forceInvisible||!i.searchColumn(e,t,n,r))&&(t.visible=!1)},u=function(e,n){for(var r=t.length,i=0;r>i;i++)s(e,t[i],n.col,n.filters)},c=r.length,d=0;c>d;d++)u(e,r[d]);e.api.core.raise.rowsVisibleChanged&&e.api.core.raise.rowsVisibleChanged()}return t}},i}])}(),function(){var e=angular.module("ui.grid");e.service("rowSorter",["$parse","uiGridConstants",function(e,t){var n="("+t.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?";RegExp("^[-+]?"+n+"[\\d,.]+"+n+"%?$");var r={colSortFnCache:[]};return r.guessSortFn=function(e){switch(e){case"number":return r.sortNumber;case"boolean":return r.sortBool;case"string":return r.sortAlpha;case"date":return r.sortDate;case"object":return r.basicSort;default:throw Error("No sorting function found for type:"+e)}},r.handleNulls=function(e,t){if(!e&&0!==e&&e!==!1||!t&&0!==t&&t!==!1){if(!e&&0!==e&&e!==!1&&!t&&0!==t&&t!==!1)return 0;if(!e&&0!==e&&e!==!1)return 1;if(!t&&0!==t&&t!==!1)return-1}return null},r.basicSort=function(e,t){var n=r.handleNulls(e,t);return null!==n?n:e===t?0:t>e?-1:1},r.sortNumber=function(e,t){var n=r.handleNulls(e,t);return null!==n?n:e-t},r.sortNumberStr=function(e,t){var n=r.handleNulls(e,t);if(null!==n)return n;var i,o,a=!1,l=!1;return i=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(i)&&(a=!0),o=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(o)&&(l=!0),a&&l?0:a?1:l?-1:i-o},r.sortAlpha=function(e,t){var n=r.handleNulls(e,t);if(null!==n)return n;var i=(""+e).toLowerCase(),o=(""+t).toLowerCase();return i===o?0:o>i?-1:1},r.sortDate=function(e,t){var n=r.handleNulls(e,t);if(null!==n)return n;var i=e.getTime(),o=t.getTime();return i===o?0:o>i?-1:1},r.sortBool=function(e,t){var n=r.handleNulls(e,t);return null!==n?n:e&&t?0:e||t?e?1:-1:0},r.getSortFn=function(e,t){var n;return r.colSortFnCache[t.colDef.name]?n=r.colSortFnCache[t.colDef.name]:void 0!==t.sortingAlgorithm?(n=t.sortingAlgorithm,r.colSortFnCache[t.colDef.name]=t.sortingAlgorithm):(n=r.guessSortFn(t.colDef.type),n?r.colSortFnCache[t.colDef.name]=n:n=r.sortAlpha),n},r.prioritySort=function(e,t){return void 0!==e.sort.priority&&void 0!==t.sort.priority?e.sort.priority<t.sort.priority?-1:e.sort.priority===t.sort.priority?0:1:e.sort.priority||0===e.sort.priority?-1:t.sort.priority||0===t.sort.priority?1:0},r.sort=function(e,n,i){if(n){if(e.options.useExternalSorting)return n;var o=[];if(i.forEach(function(e){e.sort&&e.sort.direction&&(e.sort.direction===t.ASC||e.sort.direction===t.DESC)&&o.push(e)}),o=o.sort(r.prioritySort),0===o.length)return n;var a,l,s=n.slice(0);angular.forEach(n,function(e,t){e.entity.$uiGridIndex=t});var u=n.sort(function(n,i){for(var u,c=0,d=0;0===c&&o.length>d;){a=o[d],l=o[d].sort.direction,u=r.getSortFn(e,a,s);var p=e.getCellValue(n,a),f=e.getCellValue(i,a);c=u(p,f),d++}return 0===c?n.entity.$uiGridIndex-i.entity.$uiGridIndex:l===t.ASC?c:0-c});return angular.forEach(u,function(e){delete e.entity.$uiGridIndex}),u}},r}])}(),function(){function e(e){var t=e;return t.length!==void 0&&t.length&&(t=e[0]),t.ownerDocument.defaultView.getComputedStyle(t,null)}function t(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0,l=["Top","Right","Bottom","Left"];4>o;o+=2){var s=l[o];if("margin"===n){var u=parseFloat(i[n+s]);isNaN(u)||(a+=u)}if(r){if("content"===n){var c=parseFloat(i["padding"+s]);isNaN(c)||(a-=c)}if("margin"!==n){var d=parseFloat(i["border"+s+"Width"]);isNaN(d)||(a-=d)}}else{var p=parseFloat(i["padding"+s]);if(isNaN(p)||(a+=p),"padding"!==n){var f=parseFloat(i["border"+s+"Width"]);isNaN(f)||(a+=f)}}}return a}function n(n,r,o){var a,l=!0,s=e(n),u="border-box"===s.boxSizing;if(0>=a||null==a){if(a=s[r],(0>a||null==a)&&(a=n.style[r]),i.test(a))return a;l=u&&true,a=parseFloat(a)||0}var c=a+t(n,r,o||(u?"border":"content"),l,s);return c}var r=angular.module("ui.grid"),i=RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),o=/^(block|none|table(?!-c[ea]).+)/,a={position:"absolute",visibility:"hidden",display:"block"},l=["0","0","0"],s="uiGrid-";r.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$injector","$q","$interpolate","uiGridConstants",function(t,r,i,u,c,d,p,f,g,h){var m={getStyles:e,createBoundedWrapper:function(e,t){return function(){return t.apply(e,arguments)}},readableColumnName:function(e){return e===void 0||void 0===e||null===e?e:("string"!=typeof e&&(e+=""),e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return angular.lowercase(angular.uppercase(e.charAt(0))+e.slice(1))}).replace(/(\w+)/g,function(e){return angular.uppercase(e.charAt(0))+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(e,t){var n=[];if(!e||e[0]===void 0||void 0===e[0])return[];angular.isUndefined(t)&&(t=[]);var r=e[0];return angular.forEach(r,function(e,r){-1===t.indexOf(r)&&n.push({name:r})}),n},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),getTemplate:function(e){if(c.get(e))return m.postProcessTemplate(c.get(e));if(e.hasOwnProperty("then"))return e.then(m.postProcessTemplate);try{if(angular.element(e).length>0)return f.when(e).then(m.postProcessTemplate)}catch(t){}return m.logDebug("fetching url",e),u({method:"GET",url:e}).then(function(t){var n=t.data.trim();return c.put(e,n),n},function(t){throw Error("Could not get template "+e+": "+t)}).then(m.postProcessTemplate)},postProcessTemplate:function(e){var t=g.startSymbol(),n=g.endSymbol();return("{{"!==t||"}}"!==n)&&(e=e.replace(/\{\{/g,t),e=e.replace(/\}\}/g,n)),f.when(e)},guessType:function(e){var t=typeof e;switch(t){case"number":case"boolean":case"string":return t;default:return angular.isDate(e)?"date":"object"}},elementWidth:function(){},elementHeight:function(){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),t-r},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},fakeElement:function(e,t,n){var r,i,o=angular.element(e).clone()[0];for(i in t)o.style[i]=t[i];return angular.element(document.body).append(o),r=n.call(o,o),angular.element(o).remove(),r},normalizeWheelEvent:function(e){var t,n,r,i=e||window.event,o=([].slice.call(arguments,1),0),a=0,l=0,s=0,u=0;return i.originalEvent&&(i=i.originalEvent),i.wheelDelta&&(o=i.wheelDelta),i.detail&&(o=-1*i.detail),l=o,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(l=0,a=-1*o),i.deltaY&&(l=-1*i.deltaY,o=l),i.deltaX&&(a=i.deltaX,o=-1*a),void 0!==i.wheelDeltaY&&(l=i.wheelDeltaY),void 0!==i.wheelDeltaX&&(a=i.wheelDeltaX),s=Math.abs(o),(!t||t>s)&&(t=s),u=Math.max(Math.abs(l),Math.abs(a)),(!n||n>u)&&(n=u),r=o>0?"floor":"ceil",o=Math[r](o/t),a=Math[r](a/n),l=Math[r](l/n),{delta:o,deltaX:a,deltaY:l}},isTouchEnabled:function(){var e;return("ontouchstart"in r||r.DocumentTouch&&i instanceof DocumentTouch)&&(e=!0),e},isNullOrUndefined:function(e){return void 0===e||null===e?!0:!1},endsWith:function(e,t){return e&&t&&"string"==typeof e?-1!==e.indexOf(t,e.length-t.length):!1},arrayContainsObjectWithProperty:function(e,t,n){var r=!1;return angular.forEach(e,function(e){e[t]===n&&(r=!0)}),r},requestAnimationFrame:r.requestAnimationFrame&&r.requestAnimationFrame.bind(r)||r.webkitRequestAnimationFrame&&r.webkitRequestAnimationFrame.bind(r)||function(e){return d(e,10,!1)},numericAndNullSort:function(e,t){return null===e?1:null===t?-1:null===e&&null===t?0:e-t},disableAnimations:function(e){var t;try{t=p.get("$animate"),t.enabled(!1,e)}catch(n){}},enableAnimations:function(e){var t;try{return t=p.get("$animate"),t.enabled(!0,e),t}catch(n){}},nextUid:function(){for(var e,t=l.length;t;){if(t--,e=l[t].charCodeAt(0),57===e)return l[t]="A",s+l.join("");if(90!==e)return l[t]=String.fromCharCode(e+1),s+l.join("");l[t]="0"}return l.unshift("0"),s+l.join("")},hashKey:function(e){var t,n=typeof e;return"object"===n&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():e.$$hashKey!==void 0&&e.$$hashKey?t=e.$$hashKey:void 0===t&&(t=e.$$hashKey=m.nextUid()):t=e,n+":"+t},resetUids:function(){l=["0","0","0"]},logError:function(e){h.LOG_ERROR_MESSAGES&&t.error(e)},logWarn:function(e){h.LOG_WARN_MESSAGES&&t.warn(e)},logDebug:function(){h.LOG_DEBUG_MESSAGES&&t.debug.apply(t,arguments)}};return["width","height"].forEach(function(t){var r=angular.uppercase(t.charAt(0))+t.substr(1);m["element"+r]=function(r,i){var l=r;if(l&&l.length!==void 0&&l.length&&(l=r[0]),l){var s=e(l);return 0===l.offsetWidth&&o.test(s.display)?m.fakeElement(l,a,function(e){return n(e,t,i)}):n(l,t,i)}return null},m["outerElement"+r]=function(e,t){return e?m["element"+r].call(this,e,t?"margin":"border"):null}}),m.closestElm=function(e,t){e.length!==void 0&&e.length&&(e=e[0]);var n;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]?(n=e,!0):!1});for(var r;null!==e;){if(r=e.parentElement,null!==r&&r[n](t))return r;e=r}return null},m.type=function(e){var t=Function.prototype.toString.call(e.constructor);return t.match(/function (.*?)\(/)[1]},m.getBorderSize=function(t,n){t.length!==void 0&&t.length&&(t=t[0]);var r=e(t);n=n?"border"+n.charAt(0).toUpperCase()+n.slice(1):"border",n+="Width";var i=parseInt(r[n],10);return isNaN(i)?0:i},m.detectBrowser=function(){var e=r.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var n in t)if(t[n].test(e))return n;return"unknown"},m.normalizeScrollLeft=function(e){e.length!==void 0&&e.length&&(e=e[0]);var t=m.detectBrowser(),n=e.scrollLeft,r=m.getStyles(e).direction;if("ie"===t)return n;if("chrome"===t){if("rtl"===r){var i=e.scrollWidth-e.clientWidth;return i-n}return n}return"firefox"===t?Math.abs(n):n},m.denormalizeScrollLeft=function(e,t){e.length!==void 0&&e.length&&(e=e[0]);var n=m.detectBrowser(),r=m.getStyles(e).direction;if("ie"===n)return t;if("chrome"===n){if("rtl"===r){var i=e.scrollWidth-e.clientWidth;return i-t}return t}return"firefox"===n?"rtl"===r?-1*t:t:t},m.preEval=function(e){var t=h.BRACKET_REGEXP.exec(e);if(t)return(t[1]?m.preEval(t[1]):t[1])+t[2]+(t[3]?m.preEval(t[3]):t[3]);e=e.replace(h.APOS_REGEXP,"\\'");var n=e.split(h.DOT_REGEXP),r=[n.shift()];return angular.forEach(n,function(e){r.push(e.replace(h.FUNC_REGEXP,"']$1"))}),r.join("['")},m.debounce=function(e,t,n){function r(){a=this,o=arguments;var r=function(){i=null,n||(l=e.apply(a,o))},s=n&&!i;return i&&d.cancel(i),i=d(r,t),s&&(l=e.apply(a,o)),l}var i,o,a,l;return r.cancel=function(){d.cancel(i),i=null},r},m.throttle=function(e,t,n){function r(){a=+new Date,e.apply(i,o),d(function(){l=null},0)}n=n||{};var i,o,a=0,l=null;return function(){if(i=this,o=arguments,null===l){var e=+new Date-a;e>t?r():n.trailing&&(l=d(r,t-e))}}},m}]),r.filter("px",function(){return function(e){return e.match(/^[\d\.]+$/)?e+"px":e}})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil."},search:{placeholder:"Søg...",showingItems:"Viste rækker:",selectedItems:"Valgte rækker:",totalItems:"Rækker totalt:",size:"Side størrelse:",first:"Første side",next:"Næste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vælg kolonner:"},column:{hide:"Skjul kolonne"},aggregation:{count:"samlede rækker: ",sum:"smalede: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("de",{aggregate:{label:"eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenüberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Einträge:",selectedItems:"Ausgewählte Einträge:",totalItems:"Einträge gesamt:",size:"Einträge pro Seite:",first:"Erste Seite",next:"Nächste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswählen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",remove:"Sortierung zurücksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},gridMenu:{columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als CSV exportieren"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei außer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gültige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthält sie gültiges JSON?",jsonNotArray:"Die importierte JSON-Datei muß ein Array enthalten. Breche Import ab."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("en",{aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{sizes:"items per page",totalItems:"items"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("es",{aggregate:{label:"Artículos"},groupPanel:{description:"Arrastre un encabezado de columna aquí y suéltelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artículos Mostrados:",selectedItems:"Artículos Seleccionados:",totalItems:"Artículos Totales:",size:"Tamaño de Página:",first:"Primera Página",next:"Página Siguiente",previous:"Página Anterior",last:"Última Página"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijación"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar selección como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar selección como pdf"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, ¿tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, ¿contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, ¿es un CSV válido?",invalidJson:"No fue posible procesar el archivo, ¿es un Json válido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fa",{aggregate:{label:"موردها"},groupPanel:{description:"یک عنوان ستون اینجا را بردار و به گروهی از آن ستون بیانداز."},search:{placeholder:"جستجو...",showingItems:"نمایش موردها:",selectedItems:"موردهای انتخاب‌شده:",totalItems:"همهٔ موردها:",size:"اندازهٔ صفحه:",first:"صفحهٔ اول",next:"صفحهٔ بعد",previous:"صفحهٔ قبل",last:"آخرین صفحه"},menu:{text:"انتخاب ستون‌ها:"},column:{hide:"ستون پنهان کن"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko tähän ryhmittääksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Näytetään rivejä:",selectedItems:"Valitut rivit:",totalItems:"Rivejä yht.:",size:"Näytä:",first:"Ensimmäinen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Järjestä nouseva",descending:"Järjestä laskeva",remove:"Poista järjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivejä yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie näkyvä tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie näkyvä tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa"},importer:{noHeaders:"Sarakkeen nimiä ei voitu päätellä, onko tiedostossa otsikkoriviä?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu käsitellä, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu käsitellä, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisältänyt taulukkoa, lopetetaan."}}),e
}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fr",{aggregate:{label:"articles"},groupPanel:{description:"Faites glisser un en-tête de colonne ici et déposez-le vers un groupe par cette colonne."},search:{placeholder:"Recherche...",showingItems:"Articles Affichage des:",selectedItems:"Éléments Articles:",totalItems:"Nombre total d'articles:",size:"Taille de page:",first:"Première page",next:"Page Suivante",previous:"Page précédente",last:"Dernière page"},menu:{text:"Choisir des colonnes:"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre décroissant",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"total lignes: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Épingler à gauche",pinRight:"Épingler à droite",unpin:"Détacher"},gridMenu:{columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les données en CSV",exporterVisibleAsCsv:"Exporter les données visibles en CSV",exporterSelectedAsCsv:"Exporter les données sélectionnées en CSV",exporterAllAsPdf:"Exporter toutes les données en PDF",exporterVisibleAsPdf:"Exporter les données visibles en PDF",exporterSelectedAsPdf:"Exporter les données sélectionnées en PDF"},importer:{noHeaders:"Impossible de déterminer le nom des colonnes, le fichier possède-t-il un en-tête ?",noObjects:"Aucun objet trouvé, le fichier possède-t-il des données autres que l'en-tête ?",invalidCsv:"Le fichier n'a pas pu être traité, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu être traité, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON importé doit contenir un tableau. Abandon."},pagination:{sizes:"articles par page",totalItems:"articles"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("he",{aggregate:{label:"items"},groupPanel:{description:"גרור עמודה לכאן ושחרר בכדי לקבץ עמודה זו."},search:{placeholder:"חפש...",showingItems:"מציג:",selectedItems:'סה"כ נבחרו:',totalItems:'סה"כ רשומות:',size:"תוצאות בדף:",first:"דף ראשון",next:"דף הבא",previous:"דף קודם",last:"דף אחרון"},menu:{text:"בחר עמודות:"},sort:{ascending:"סדר עולה",descending:"סדר יורד",remove:"בטל"},column:{hide:"טור הסתר"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ja",{aggregate:{label:"件"},groupPanel:{description:"列名部分をここにドラッグアンドドロップすることで列ごとにグループ分けを行うことができます。"},search:{placeholder:"検索...",showingItems:"絞込み件数:",selectedItems:"選択件数:",totalItems:"全件数:",size:"ページサイズ: ",first:"最初のページ",next:"次のページ",previous:"前のページ",last:"最後のページ"},menu:{text:"列選択:"},sort:{ascending:"昇順ソート",descending:"降順ソート",remove:"ソート取消"},column:{hide:"列を隠す"},aggregation:{count:"合計件数: ",sum:"合計: ",avg:"平均: ",min:"最小値: ",max:"最大値: "},pinning:{pinLeft:"左にピン留め",pinRight:"右にピン留め",unpin:"ピン留め取消"},gridMenu:{columns:"列:",importerTitle:"インポートファイル",exporterAllAsCsv:"全てのデータをCSV形式でエクスポート",exporterVisibleAsCsv:"絞込み済みデータをCSV形式でエクスポート",exporterSelectedAsCsv:"選択しているデータをCSV形式でエクスポート",exporterAllAsPdf:"全てのデータをPDFでエクスポート",exporterVisibleAsPdf:"絞込み済みデータをPDFでエクスポート",exporterSelectedAsPdf:"選択しているデータをPDFでエクスポート"},importer:{noHeaders:"列名が抽出できません。ヘッダーは設定されていますか？",noObjects:"データが抽出できません。ファイルにデータは含まれていますか？",invalidCsv:"処理を行うことができません。ファイルは有効なCSVファイルですか？",invalidJson:"処理を行うことができません。ファイルは有効なJSONファイルですか？",jsonNotArray:"JSONファイルは配列を含んでいる必要があります。処理を中断します。"},pagination:{sizes:"件 / ページ",totalItems:"件"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt-br",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},gridMenu:{columns:"Colunas:",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O arquivo tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no arquivo, além dos cabeçalhos?",invalidCsv:"Arquivo não pode ser processado. É um CSV válido?",invalidJson:"Arquivo não pode ser processado. É um Json válido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ru",{aggregate:{label:"элементы"},groupPanel:{description:"Для группировки по столбцу перетащите сюда его название."},search:{placeholder:"Поиск...",showingItems:"Показать элементы:",selectedItems:"Выбранные элементы:",totalItems:"Всего элементов:",size:"Размер страницы:",first:"Первая страница",next:"Следующая страница",previous:"Предыдущая страница",last:"Последняя страница"},menu:{text:"Выбрать столбцы:"},sort:{ascending:"По возрастанию",descending:"По убыванию",remove:"Убрать сортировку"},column:{hide:"спрятать столбец"},aggregation:{count:"всего строк: ",sum:"итого: ",avg:"среднее: ",min:"мин: ",max:"макс: "},gridMenu:{columns:"Столбцы:",importerTitle:"Import file",exporterAllAsCsv:"Экспортировать всё в CSV",exporterVisibleAsCsv:"Экспортировать видимые данные в CSV",exporterSelectedAsCsv:"Экспортировать выбранные данные в CSV",exporterAllAsPdf:"Экспортировать всё в PDF",exporterVisibleAsPdf:"Экспортировать видимые данные в PDF",exporterSelectedAsPdf:"Экспортировать выбранные данные в PDF"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem názov stĺpca pre zoskupenie podľa toho stĺpca."},search:{placeholder:"Hľadaj...",showingItems:"Zobrazujem položky:",selectedItems:"Vybraté položky:",totalItems:"Počet položiek:",size:"Počet:",first:"Prvá strana",next:"Ďalšia strana",previous:"Predchádzajúca strana",last:"Posledná strana"},menu:{text:"Vyberte stĺpce:"},sort:{ascending:"Zotriediť vzostupne",descending:"Zotriediť zostupne",remove:"Vymazať triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och släpp den för att gruppera efter den kolumnen."},search:{placeholder:"Sök...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Första sidan",next:"Nästa sida",previous:"Föregående sida",last:"Sista sidan"},menu:{text:"Välj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Göm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fäst vänster",pinRight:"Fäst höger",unpin:"Lösgör"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF"},importer:{noHeaders:"Kolumnnamn kunde inte härledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte härledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, är den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, är den en giltig JSON?",jsonNotArray:"Importerad JSON-fil måste innehålla ett fält. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),e}])}])}(),function(){var e=["uiT","uiTranslate"],t=["t","uiTranslate"],n=angular.module("ui.grid.i18n");n.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),n.service("i18nService",["$log","i18nConstants","$rootScope",function(e,t,n){var r={_langs:{},current:null,get:function(e){return this._langs[e.toLowerCase()]},add:function(e,t){var n=e.toLowerCase();this._langs[n]||(this._langs[n]={}),angular.extend(this._langs[n],t)},getAllLangs:function(){var e=[];if(!this._langs)return e;for(var t in this._langs)e.push(t);return e},setCurrent:function(e){this.current=e.toLowerCase()},getCurrentLang:function(){return this.current}},i={add:function(e,t){"object"==typeof e?angular.forEach(e,function(e){e&&r.add(e,t)}):r.add(e,t)},getAllLangs:function(){return r.getAllLangs()},get:function(e){var t=e?e:i.getCurrentLang();return r.get(t)},getSafeText:function(e,n){var o=n?n:i.getCurrentLang(),a=r.get(o);if(!a)return t.MISSING;for(var l=e.split("."),s=a,u=0;l.length>u;++u){if(void 0===s[l[u]]||null===s[l[u]])return t.MISSING;s=s[l[u]]}return s},setCurrentLang:function(e){e&&(r.setCurrent(e),n.$broadcast(t.UPDATE_EVENT))},getCurrentLang:function(){var e=r.getCurrentLang();return e||(e=t.DEFAULT_LANG,r.setCurrent(e)),e}};return i}]);var r=function(e,t){return{compile:function(){return{pre:function(n,r,i){var o=t.LOCALE_DIRECTIVE_ALIAS,a=n.$eval(i[o]);a?n.$watch(i[o],function(){e.setCurrentLang(a)}):i.$$observers&&i.$observe(o,function(){e.setCurrentLang(i[o]||t.DEFAULT_LANG)})}}}}};n.directive("uiI18n",["i18nService","i18nConstants",r]);var i=function(t,n,r){return{restrict:"EA",compile:function(){return{pre:function(i,o,a){var l,s=e[0],u=e[1],c=a[s]||a[u]||o.html(),d=r.MISSING+c;if(a.$$observers){var p=a[s]?s:u;l=a.$observe(p,function(e){e&&o.html(t(e)(n.getCurrentLang())||d)})}var f=t(c),g=i.$on(r.UPDATE_EVENT,function(){l?l(a[s]||a[u]):o.html(f(n.get())||d)});i.$on("$destroy",g),o.html(f(n.get())||d)}}}}};angular.forEach(e,function(e){n.directive(e,["$parse","i18nService","i18nConstants",i])});var o=function(e,t,n){return function(r){var i=e(r);return i(t.get())||n.MISSING+r}};angular.forEach(t,function(e){n.filter(e,["$parse","i18nService","i18nConstants",o])})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-cn",{aggregate:{label:"行"},groupPanel:{description:"拖曳表头到此处进行分组"},search:{placeholder:"查找",showingItems:"已显示行数：",selectedItems:"已选择行数：",totalItems:"总行数：",size:"每页显示行数：",first:"首页",next:"下一页",previous:"上一页",last:"末页"},menu:{text:"选择列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隐藏列"},aggregation:{count:"计数：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左侧固定",pinRight:"右侧固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"导入文件",exporterAllAsCsv:"导出全部数据到CSV",exporterVisibleAsCsv:"导出可见数据到CSV",exporterSelectedAsCsv:"导出已选数据到CSV",exporterAllAsPdf:"导出全部数据到PDF",exporterVisibleAsPdf:"导出可见数据到PDF",exporterSelectedAsPdf:"导出已选数据到PDF"},importer:{noHeaders:"无法获取列名，确定文件包含表头？",noObjects:"无法获取数据，确定文件包含数据？",invalidCsv:"无法处理文件，确定是合法的CSV文件？",invalidJson:"无法处理文件，确定是合法的JSON文件？",jsonNotArray:"导入的文件不是JSON数组！"},pagination:{sizes:"行每页",totalItems:"行"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-tw",{aggregate:{label:"行"},groupPanel:{description:"拖曳表頭到此處進行分組"},search:{placeholder:"查找",showingItems:"已顯示行數：",selectedItems:"已選擇行數：",totalItems:"總行數：",size:"每頁顯示行數：",first:"首頁",next:"下壹頁",previous:"上壹頁",last:"末頁"},menu:{text:"選擇列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隱藏列"},aggregation:{count:"計數：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左側固定",pinRight:"右側固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"導入文件",exporterAllAsCsv:"導出全部數據到CSV",exporterVisibleAsCsv:"導出可見數據到CSV",exporterSelectedAsCsv:"導出已選數據到CSV",exporterAllAsPdf:"導出全部數據到PDF",exporterVisibleAsPdf:"導出可見數據到PDF",exporterSelectedAsPdf:"導出已選數據到PDF"},importer:{noHeaders:"無法獲取列名，確定文件包含表頭？",noObjects:"無法獲取數據，確定文件包含數據？",invalidCsv:"無法處理文件，確定是合法的CSV文件？",invalidJson:"無法處理文件，確定是合法的JSON文件？",jsonNotArray:"導入的文件不是JSON數組！"},pagination:{sizes:"行每頁",totalItems:"行"}}),e}])}])}(),function(){"use strict";var e=angular.module("ui.grid.autoResize",["ui.grid"]);e.directive("uiGridAutoResize",["$timeout","gridUtil",function(e,t){return{require:"uiGrid",scope:!1,link:function(e,n,r,i){function o(){s=t.elementHeight(n),l=t.elementWidth(n)}function a(){clearTimeout(u),u=setTimeout(function(){var r=t.elementHeight(n),u=t.elementWidth(n);r!==s||u!==l?(i.grid.gridHeight=r,i.grid.gridWidth=u,e.$apply(function(){i.grid.refresh().then(function(){o(),a()})})):a()},250)}var l,s;o();var u;a(),e.$on("$destroy",function(){clearTimeout(u)})}}}])}(),function(){"use strict";function e(e,t){this.row=e,this.col=t}var t=angular.module("ui.grid.cellNav",["ui.grid"]);t.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1}}),t.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q",function(t,n,r){var i=function i(e,t,n,r){this.rows=e.visibleRowCache,this.columns=t.visibleColumnCache,this.leftColumns=n?n.visibleColumnCache:[],this.rightColumns=r?r.visibleColumnCache:[],this.bodyContainer=e};return i.prototype.getFocusableCols=function(){var e=this.leftColumns.concat(this.columns,this.rightColumns);return e.filter(function(e){return e.colDef.allowCellFocus})},i.prototype.getFocusableRows=function(){return this.rows.filter(function(e){return e.allowCellFocus!==!1})},i.prototype.getNextRowCol=function(e,t,n){switch(e){case r.direction.LEFT:return this.getRowColLeft(t,n);case r.direction.RIGHT:return this.getRowColRight(t,n);case r.direction.UP:return this.getRowColUp(t,n);case r.direction.DOWN:return this.getRowColDown(t,n);case r.direction.PG_UP:return this.getRowColPageUp(t,n);case r.direction.PG_DOWN:return this.getRowColPageDown(t,n)}},i.prototype.getRowColLeft=function(t,n){var r=this.getFocusableCols(),i=this.getFocusableRows(),o=r.indexOf(n),a=i.indexOf(t);-1===o&&(o=1);var l=0===o?r.length-1:o-1;return l>o?0===a?new e(t,r[l]):new e(i[a-1],r[l]):new e(t,r[l])},i.prototype.getRowColRight=function(t,n){var r=this.getFocusableCols(),i=this.getFocusableRows(),o=r.indexOf(n),a=i.indexOf(t);-1===o&&(o=0);var l=o===r.length-1?0:o+1;return o>l?a===i.length-1?new e(t,r[l]):new e(i[a+1],r[l]):new e(t,r[l])},i.prototype.getRowColDown=function(t,n){var r=this.getFocusableCols(),i=this.getFocusableRows(),o=r.indexOf(n),a=i.indexOf(t);return-1===o&&(o=0),a===i.length-1?new e(t,r[o]):new e(i[a+1],r[o])},i.prototype.getRowColPageDown=function(t,n){var r=this.getFocusableCols(),i=this.getFocusableRows(),o=r.indexOf(n),a=i.indexOf(t);-1===o&&(o=0);var l=this.bodyContainer.minRowsToRender();return a>=i.length-l?new e(i[i.length-1],r[o]):new e(i[a+l],r[o])},i.prototype.getRowColUp=function(t,n){var r=this.getFocusableCols(),i=this.getFocusableRows(),o=r.indexOf(n),a=i.indexOf(t);return-1===o&&(o=0),0===a?new e(t,r[o]):new e(i[a-1],r[o])},i.prototype.getRowColPageUp=function(t,n){var r=this.getFocusableCols(),i=this.getFocusableRows(),o=r.indexOf(n),a=i.indexOf(t);-1===o&&(o=0);var l=this.bodyContainer.minRowsToRender();return 0>a-l?new e(i[0],r[o]):new e(i[a-l],r[o])},i}]),t.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","ScrollEvent",function(e,t,n,r,i,o){var a={initializeGrid:function(e){e.registerColumnBuilder(a.cellNavColumnBuilder),e.cellNav={},e.cellNav.lastRowCol=null,e.cellNav.focusedCells=[],a.defaultGridOptions(e.options);var t={events:{cellNav:{navigate:function(){}}},methods:{cellNav:{scrollTo:function(t,n){a.scrollTo(e,t,n)},scrollToFocus:function(t,n){a.scrollToFocus(e,t,n)},scrollToIfNecessary:function(t,n){a.scrollToIfNecessary(e,t,n)},getFocusedCell:function(){return e.cellNav.lastRowCol},getCurrentSelection:function(){return e.cellNav.focusedCells},rowColSelectIndex:function(t){for(var n=-1,r=0;e.cellNav.focusedCells.length>r;r++)if(e.cellNav.focusedCells[r].col.uid===t.col.uid&&e.cellNav.focusedCells[r].row.uid===t.row.uid){n=r;break}return n}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.modifierKeysToMultiSelectCells=e.modifierKeysToMultiSelectCells===!0},decorateRenderContainers:function(e){var t=e.hasRightContainer()?e.renderContainers.right:null,n=e.hasLeftContainer()?e.renderContainers.left:null;null!==n&&(e.renderContainers.left.cellNav=new i(e.renderContainers.body,n,t,e.renderContainers.body)),null!==t&&(e.renderContainers.right.cellNav=new i(e.renderContainers.body,t,e.renderContainers.body,n)),e.renderContainers.body.cellNav=new i(e.renderContainers.body,e.renderContainers.body,n,t)},getDirection:function(e){return e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey?n.direction.LEFT:e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB?n.direction.RIGHT:e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey?n.direction.UP:e.keyCode===t.keymap.PG_UP?n.direction.PG_UP:e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER?n.direction.DOWN:e.keyCode===t.keymap.PG_DOWN?n.direction.PG_DOWN:null},cellNavColumnBuilder:function(e){var t=[];return e.allowCellFocus=void 0===e.allowCellFocus?!0:e.allowCellFocus,r.all(t)},scrollTo:function(e,t,n){var r=null,i=null;null!==t&&t!==void 0&&(r=e.getRow(t)),null!==n&&n!==void 0&&(i=e.getColumn(n.name?n.name:n.field)),this.scrollToInternal(e,r,i)},scrollToFocus:function(e,t,n){var r=null,i=null;null!==t&&(r=e.getRow(t)),null!==n&&(i=e.getColumn(n.name?n.name:n.field)),this.scrollToInternal(e,r,i);var o={row:r,col:i};e.cellNav.broadcastCellNav(o)},scrollToInternal:function(e,t,n){var r=new o(e,null,null,"uiGridCellNavService.scrollToInternal");if(null!==t){var i=e.renderContainers.body.visibleRowCache.indexOf(t),a=e.renderContainers.body.visibleRowCache.length,l=(i+i/(a-1))/a;r.y={percentage:l}}null!==n&&(r.x={percentage:this.getLeftWidth(e,n)/this.getLeftWidth(e,e.renderContainers.body.visibleColumnCache[e.renderContainers.body.visibleColumnCache.length-1])}),(r.y||r.x)&&r.fireScrollingEvent()},scrollToIfNecessary:function(e,t,n){var r=new o(e,"uiGridCellNavService.scrollToIfNecessary"),i=e.renderContainers.body.visibleRowCache,a=e.renderContainers.body.visibleColumnCache,l=e.renderContainers.body.prevScrollTop+e.headerHeight;l=0>l?0:l;var s=e.renderContainers.body.prevScrollLeft,u=e.renderContainers.body.prevScrollTop+e.gridHeight-e.headerHeight,c=e.renderContainers.body.prevScrollLeft+Math.ceil(e.gridWidth);if(null!==t){var d=i.indexOf(t),p=e.renderContainers.body.getCanvasHeight()-e.renderContainers.body.getViewportHeight(),f=(d+1)*e.options.rowHeight;f=0>f?0:f;var g,h;l>f?(g=e.renderContainers.body.prevScrollTop-(l-f),h=g/p,r.y={percentage:h}):f>u&&(g=f-u+e.renderContainers.body.prevScrollTop,h=g/p,r.y={percentage:h})}if(null!==n){for(var m=a.indexOf(n),v=e.renderContainers.body.getCanvasWidth()-e.renderContainers.body.getViewportWidth(),w=0,b=0;m>b;b++){var C=a[b];w+=C.drawnWidth}w=0>w?0:w;var y=w+n.drawnWidth;y=0>y?0:y;var $,x;s>w?($=e.renderContainers.body.prevScrollLeft-(s-w),x=$/v,x=x>1?1:x,r.x={percentage:x}):y>c&&($=y-c+e.renderContainers.body.prevScrollLeft,x=$/v,x=x>1?1:x,r.x={percentage:x})}(r.y||r.x)&&r.fireScrollingEvent()},getLeftWidth:function(e,t){var n=0;if(!t)return n;var r=e.renderContainers.body.visibleColumnCache.indexOf(t);e.renderContainers.body.visibleColumnCache.forEach(function(e,t){r>t&&(n+=e.drawnWidth)});var i=0===r?0:(r+1)/e.renderContainers.body.visibleColumnCache.length;return n+=t.drawnWidth*i}};return a}]),t.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants",function(t,n,r){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(t,i,o,a){var l=t,s=a.grid;n.initializeGrid(s),a.cellNav={},a.cellNav.focusCell=function(e,t){a.cellNav.broadcastCellNav({row:e,col:t})},a.cellNav.broadcastCellNav=s.cellNav.broadcastCellNav=function(e,t){t=!(void 0===t||!t),a.cellNav.broadcastFocus(e,t),l.$broadcast(r.CELL_NAV_EVENT,e,t)},a.cellNav.broadcastFocus=function(t,n){n=!(void 0===n||!n);var r=t.row,i=t.col,o=a.grid.api.cellNav.rowColSelectIndex(t);if(null===s.cellNav.lastRowCol||-1===o){var l=new e(r,i);s.api.cellNav.raise.navigate(l,s.cellNav.lastRowCol),s.cellNav.lastRowCol=l,a.grid.options.modifierKeysToMultiSelectCells&&n?s.cellNav.focusedCells.push(t):s.cellNav.focusedCells=[t]}else s.options.modifierKeysToMultiSelectCells&&n&&o>=0&&s.cellNav.focusedCells.splice(o,1)},a.cellNav.handleKeyDown=function(e){var t=n.getDirection(e);if(null===t)return!0;var i="body";e.uiGridTargetRenderContainerId&&(i=e.uiGridTargetRenderContainerId);var o=a.grid.api.cellNav.getFocusedCell();if(o){var l=a.grid.renderContainers[i].cellNav.getNextRowCol(t,o.row,o.col);return l.eventType=r.EVENT_TYPE.KEYDOWN,a.cellNav.broadcastCellNav(l),n.scrollToIfNecessary(s,l.row,l.col),e.stopPropagation(),e.preventDefault(),!1}}},post:function(){}}}}}]),t.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants",function(e,t,n,r,i){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(n,r,o,a){var l=a[0],s=a[1];if(l.grid.api.cellNav){var u=s.containerId,c=l.grid;i.decorateRenderContainers(c),r.attr("tabindex",-1),r.on("keydown",function(e){return e.uiGridTargetRenderContainerId=u,l.cellNav.handleKeyDown(e)});var d=!1;c.api.core.on.scrollEvent(n,function(n){n.grid&&n.grid.id!==l.grid.id||null!=l.grid.api.cellNav.getFocusedCell()&&("uiGridCellNavService.scrollToIfNecessary"===n.source?d=!0:d&&e(function(){e(function(){var e=l.grid.api.cellNav.getFocusedCell();t.activeElement===t.body&&r[0].focus(),l.cellNav.broadcastCellNav(e),d=!1})}))})}}}}}}]),t.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants",function(t,n,r,i,o){return{priority:-150,restrict:"A",require:"^uiGrid",scope:!1,link:function(t,n,r,i){function a(){n.find("div").attr("tabindex",-1)}function l(){var e=n.find("div");e.addClass("ui-grid-cell-focus")}function s(){var e=n.find("div");e.removeClass("ui-grid-cell-focus")}i.grid.api.cellNav&&t.col.colDef.allowCellFocus&&(a(),n.find("div").on("click",function(n){i.cellNav.broadcastCellNav(new e(t.row,t.col),n.ctrlKey||n.metaKey),n.stopPropagation()}),t.$on(o.CELL_NAV_EVENT,function(e,r,a){r.row===t.row&&r.col===t.col?(i.grid.options.modifierKeysToMultiSelectCells&&a&&-1===i.grid.api.cellNav.rowColSelectIndex(r)?s():l(),r.hasOwnProperty("eventType")&&r.eventType===o.EVENT_TYPE.KEYDOWN&&n.find("div")[0].focus()):i.grid.options.modifierKeysToMultiSelectCells&&a||s()}),t.$on("$destroy",function(){n.find("div").off("click")}))}}}])}(),function(){"use strict";var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),e.service("uiGridEditService",["$q","$templateCache","uiGridConstants","gridUtil",function(e,t,n,r){var i={initializeGrid:function(e){i.defaultGridOptions(e.options),e.registerColumnBuilder(i.editColumnBuilder);var t={events:{edit:{afterCellEdit:function(){},beginCellEdit:function(){},cancelCellEdit:function(){}}},methods:{edit:{}}};e.api.registerEventsFromObject(t.events)},defaultGridOptions:function(e){e.cellEditableCondition=void 0===e.cellEditableCondition?!0:e.cellEditableCondition,e.enableCellEditOnFocus=void 0===e.enableCellEditOnFocus?!1:e.enableCellEditOnFocus},editColumnBuilder:function(t,n,i){var o=[];return t.enableCellEdit=void 0===t.enableCellEdit?void 0===i.enableCellEdit?"object"!==t.type:i.enableCellEdit:t.enableCellEdit,t.cellEditableCondition=void 0===t.cellEditableCondition?i.cellEditableCondition:t.cellEditableCondition,t.enableCellEdit&&(t.editableCellTemplate=t.editableCellTemplate||i.editableCellTemplate||"ui-grid/cellEditor",o.push(r.getTemplate(t.editableCellTemplate).then(function(e){n.editableCellTemplate=e},function(){throw Error("Couldn't fetch/use colDef.editableCellTemplate '"+t.editableCellTemplate+"'")}))),t.enableCellEditOnFocus=void 0===t.enableCellEditOnFocus?i.enableCellEditOnFocus:t.enableCellEditOnFocus,e.all(o)},isStartEditKey:function(e){return e.keyCode===n.keymap.LEFT||e.keyCode===n.keymap.TAB&&e.shiftKey||e.keyCode===n.keymap.RIGHT||e.keyCode===n.keymap.TAB||e.keyCode===n.keymap.UP||e.keyCode===n.keymap.ENTER&&e.shiftKey||e.keyCode===n.keymap.DOWN||e.keyCode===n.keymap.ENTER?!1:!0}};return i}]),e.directive("uiGridEdit",["gridUtil","uiGridEditService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){t.initializeGrid(i.grid)},post:function(){}}}}}]),e.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService",function(e,t,n,r,i,o,a,l){var s=500;return{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(o,u,c,d){function p(){u.on("dblclick",b),u.on("keydown",v),o.col.colDef.enableCellEditOnFocus&&u.find("div").on("focus",m),u.on("touchstart",f)}function f(e){e.originalEvent!==void 0&&void 0!==e.originalEvent&&(e=e.originalEvent),u.on("touchend",g),T=n(function(){},s),T.then(function(){setTimeout(b,0),u.off("touchend",g)})}function g(){n.cancel(T),u.off("touchend",g)}function h(){u.off("dblclick",b),u.off("keydown",v),o.col.colDef.enableCellEditOnFocus&&u.find("div").off("focus",m),u.off("touchstart",f)}function m(e){d&&d.cellNav&&d.cellNav.focusCell(o.row,o.col),e.stopPropagation(),b()}function v(e){l.isStartEditKey(e)&&b()}function w(e,t){return!t.isSaving&&(angular.isFunction(e.colDef.cellEditableCondition)?e.colDef.cellEditableCondition(o):e.colDef.cellEditableCondition)
}function b(){if(!D&&w(o.col,o.row)){o.grid.api.cellNav&&o.grid.api.cellNav.scrollToIfNecessary(o,o.row,o.col),E=a(o.row.getQualifiedColField(o.col)),S=E(o),x=o.col.editableCellTemplate,x=x.replace(r.MODEL_COL_FIELD,o.row.getQualifiedColField(o.col));var t=o.col.colDef.editDropdownFilter?"|"+o.col.colDef.editDropdownFilter:"";x=x.replace(r.CUSTOM_FILTERS,t);var n="text";switch(o.col.colDef.type){case"boolean":n="checkbox";break;case"number":n="number";break;case"date":n="date"}x=x.replace("INPUT_TYPE",n);var l=o.col.colDef.editDropdownRowEntityOptionsArrayPath;o.editDropdownOptionsArray=l?$(o.row.entity,l):o.col.colDef.editDropdownOptionsArray,o.editDropdownIdLabel=o.col.colDef.editDropdownIdLabel?o.col.colDef.editDropdownIdLabel:"id",o.editDropdownValueLabel=o.col.colDef.editDropdownValueLabel?o.col.colDef.editDropdownValueLabel:"value",o.$apply(function(){D=!0,h();var t=angular.element(x);u.append(t),R=o.$new(),e(t)(R);var n=angular.element(u.children()[0]);k=n.hasClass("ui-grid-cell-focus"),n.addClass("ui-grid-cell-contents-hidden")});var s=o.col.grid.api.core.on.scrollEvent(o,function(){C(!0),o.grid.api.edit.raise.afterCellEdit(o.row.entity,o.col.colDef,E(o),S),s(),c(),d()}),c=o.$on(i.events.END_CELL_EDIT,function(e,t){C(t),o.grid.api.edit.raise.afterCellEdit(o.row.entity,o.col.colDef,E(o),S),c(),s(),d()}),d=o.$on(i.events.CANCEL_CELL_EDIT,function(){y(),d(),s(),c()});o.$broadcast(i.events.BEGIN_CELL_EDIT),o.grid.api.edit.raise.beginCellEdit(o.row.entity,o.col.colDef)}}function C(e){if(D){var t=angular.element(u.children()[0]);R.$destroy(),angular.element(u.children()[1]).remove(),t.removeClass("ui-grid-cell-contents-hidden"),e&&k&&t[0].focus(),k=!1,D=!1,p(),o.grid.api.core.notifyDataChange(r.dataChange.EDIT)}}function y(){D&&(E.assign(o,S),o.$apply(),o.grid.api.edit.raise.cancelCellEdit(o.row.entity,o.col.colDef),C(!0))}function $(e,t){t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var n=t.split(".");n.length;){var r=n.shift();if(!(r in e))return;e=e[r]}return e}if(o.col.colDef.enableCellEdit&&o.row.enableCellEdit!==!1){var x,S,E,T,R,D=!1,k=!1;p();try{var A=t.get("uiGridCellNavConstants");o.col.colDef.enableCellEditOnFocus&&o.$on(A.CELL_NAV_EVENT,function(e,t){t.row===o.row&&t.col===o.col?b():C()})}catch(P){}}}}}]),e.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants",function(e,t,n){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(){},post:function(e,r,i,o){var a,l;o[0]&&(a=o[0]),o[1]&&(l=o[1]),e.$on(n.events.BEGIN_CELL_EDIT,function(){r[0].focus(),r[0].select(),r.on("blur",function(t){e.stopEdit(t)})}),e.deepEdit=!1,e.stopEdit=function(t){e.inputForm&&!e.inputForm.$valid?(t.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT)):e.$emit(n.events.END_CELL_EDIT),e.deepEdit=!1},r.on("click",function(){e.deepEdit=!0}),r.on("keydown",function(r){switch(r.keyCode){case t.keymap.ESC:r.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT);break;case t.keymap.ENTER:e.stopEdit(r);break;case t.keymap.TAB:e.stopEdit(r)}if(e.deepEdit)switch(r.keyCode){case t.keymap.LEFT:r.stopPropagation();break;case t.keymap.RIGHT:r.stopPropagation();break;case t.keymap.UP:r.stopPropagation();break;case t.keymap.DOWN:r.stopPropagation()}else a&&a.hasOwnProperty("cellNav")&&l&&(r.uiGridTargetRenderContainerId=l.containerId,a.cellNav.handleKeyDown(r));return!0})}}}}}]),e.directive("uiGridEditor",["$filter",function(e){function t(e){if(e===void 0||""===e)return null;var t=e.split("-");if(3!==t.length)return null;var n=parseInt(t[0],10),r=parseInt(t[1],10),i=parseInt(t[2],10);return 1>r||1>n||1>i?null:new Date(n,r-1,i)}return{priority:-100,require:"?ngModel",link:function(n,r,i,o){2===angular.version.minor&&i.type&&"date"===i.type&&o&&(o.$formatters.push(function(t){return o.$setValidity(null,!t||!isNaN(t.getTime())),e("date")(t,"yyyy-MM-dd")}),o.$parsers.push(function(e){if(e&&e.length>0){var n=t(e);return o.$setValidity(null,n&&!isNaN(n.getTime())),n}return o.$setValidity(null,!0),null}))}}}]),e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants",function(e,t){return{scope:!0,compile:function(){return{pre:function(){},post:function(n,r){n.$on(t.events.BEGIN_CELL_EDIT,function(){r[0].focus(),r[0].style.width=r[0].parentElement.offsetWidth-1+"px",r.on("blur",function(e){n.stopEdit(e)})}),n.stopEdit=function(){n.$emit(t.events.END_CELL_EDIT)},r.on("keydown",function(r){switch(r.keyCode){case e.keymap.ESC:r.stopPropagation(),n.$emit(t.events.CANCEL_CELL_EDIT);break;case e.keymap.ENTER:n.stopEdit(r);break;case e.keymap.LEFT:n.stopEdit(r);break;case e.keymap.RIGHT:n.stopEdit(r);break;case e.keymap.UP:r.stopPropagation();break;case e.keymap.DOWN:r.stopPropagation();break;case e.keymap.TAB:n.stopEdit(r)}return!0})}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil","$compile",function(e){var t={initializeGrid:function(n){n.expandable={},n.expandable.expandedAll=!1,n.options.enableExpandable=n.options.enableExpandable!==!1,n.options.expandableRowHeight=n.options.expandableRowHeight||150,n.options.expandableRowHeaderWidth=n.options.expandableRowHeaderWidth||40,n.options.enableExpandable&&!n.options.expandableRowTemplate&&(e.logError("You have not set the expandableRowTemplate, disabling expandable module"),n.options.enableExpandable=!1);var r={events:{expandable:{rowExpandedStateChanged:function(){}}},methods:{expandable:{toggleRowExpansion:function(e){var r=n.getRow(e);null!==r&&t.toggleRowExpansion(n,r)},expandAllRows:function(){t.expandAllRows(n)},collapseAllRows:function(){t.collapseAllRows(n)},toggleAllRows:function(){t.toggleAllRows(n)}}}};n.api.registerEventsFromObject(r.events),n.api.registerMethodsFromObject(r.methods)},toggleRowExpansion:function(e,t){t.isExpanded=!t.isExpanded,t.isExpanded?t.height=t.grid.options.rowHeight+e.options.expandableRowHeight:(t.height=t.grid.options.rowHeight,e.expandable.expandedAll=!1),e.api.expandable.raise.rowExpandedStateChanged(t)},expandAllRows:function(e){angular.forEach(e.renderContainers.body.visibleRowCache,function(n){n.isExpanded||t.toggleRowExpansion(e,n)}),e.expandable.expandedAll=!0,e.refresh()},collapseAllRows:function(e){angular.forEach(e.renderContainers.body.visibleRowCache,function(n){n.isExpanded&&t.toggleRowExpansion(e,n)}),e.expandable.expandedAll=!1,e.refresh()},toggleAllRows:function(e){e.expandable.expandedAll?t.collapseAllRows(e):t.expandAllRows(e)}};return t}]),e.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,r,i,o){if(o.grid.options.enableExpandableRowHeader!==!1){var a={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:o.grid.options.expandableRowHeaderWidth||40};a.cellTemplate=t.get("ui-grid/expandableRowHeader"),a.headerCellTemplate=t.get("ui-grid/expandableTopRowHeader"),o.grid.addRowHeaderColumn(a)}e.initializeGrid(o.grid)},post:function(){}}}}}]),e.directive("uiGrid",["uiGridExpandableService","$templateCache",function(){return{replace:!0,priority:1e3,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,r){r.grid.api.core.on.renderingComplete(e,function(){e.row&&e.row.grid&&e.row.grid.options&&e.row.grid.options.enableExpandable&&(r.grid.parentRow=e.row)})},post:function(){}}}}}]),e.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(e,t,n,r,i){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(e,t){i.getTemplate(e.grid.options.expandableRowTemplate).then(function(r){if(e.grid.options.expandableRowScope){var i=e.grid.options.expandableRowScope;for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}var a=n(r)(e);t.append(a),e.row.expandedRendered=!0})},post:function(e){e.$on("$destroy",function(){e.row.expandedRendered=!1})}}}}}]),e.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(){return{priority:-200,scope:!1,compile:function(){return{pre:function(e){function t(){var t=e.grid,n=0;return angular.forEach(t.columns,function(e){"left"===e.renderContainer&&(n+=e.width)}),n=Math.floor(n),".grid"+t.id+" .ui-grid-pinned-container-"+e.colContainer.name+", .grid"+t.id+" .ui-grid-pinned-container-"+e.colContainer.name+" .ui-grid-render-container-"+e.colContainer.name+" .ui-grid-viewport .ui-grid-canvas .ui-grid-row { width: "+n+"px; }"}e.expandableRow={},e.expandableRow.shouldRenderExpand=function(){var t="body"===e.colContainer.name&&e.grid.options.enableExpandable!==!1&&e.row.isExpanded&&(!e.grid.isScrollingVertically||e.row.expandedRendered);return t},e.expandableRow.shouldRenderFiller=function(){var t=e.row.isExpanded&&("body"!==e.colContainer.name||e.grid.isScrollingVertically&&!e.row.expandedRendered);return t},"left"===e.colContainer.name&&e.grid.registerStyleComputation({priority:15,func:t})},post:function(){}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e.children().children()[0]),r=n.get("ui-grid/expandableScrollFiller"),i=n.get("ui-grid/expandableRow");return t.append(i),t.append(r),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),e.service("uiGridExporterService",["$q","uiGridExporterConstants","uiGridSelectionConstants","gridUtil","$compile","$interval","i18nService",function(e,t,n,r,i,o,a){var l={initializeGrid:function(e){e.exporter={},this.defaultGridOptions(e.options);var t={events:{exporter:{}},methods:{exporter:{csvExport:function(t,n){l.csvExport(e,t,n)},pdfExport:function(t,n){l.pdfExport(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods),e.api.core.addToGridMenu?l.addToMenu(e):o(function(){e.api.core.addToGridMenu&&l.addToMenu(e)},100,1)},defaultGridOptions:function(e){e.exporterSuppressMenu=e.exporterSuppressMenu===!0,e.exporterMenuLabel=e.exporterMenuLabel?e.exporterMenuLabel:"Export",e.exporterSuppressColumns=e.exporterSuppressColumns?e.exporterSuppressColumns:[],e.exporterCsvColumnSeparator=e.exporterCsvColumnSeparator?e.exporterCsvColumnSeparator:",",e.exporterCsvFilename=e.exporterCsvFilename?e.exporterCsvFilename:"download.csv",e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11},e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]},e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},e.exporterPdfHeader=e.exporterPdfHeader?e.exporterPdfHeader:null,e.exporterPdfFooter=e.exporterPdfFooter?e.exporterPdfFooter:null,e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape",e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4",e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720,e.exporterMenuCsv=void 0!==e.exporterMenuCsv?e.exporterMenuCsv:!0,e.exporterMenuPdf=void 0!==e.exporterMenuPdf?e.exporterMenuPdf:!0,e.exporterPdfCustomFormatter=e.exporterPdfCustomFormatter&&"function"==typeof e.exporterPdfCustomFormatter?e.exporterPdfCustomFormatter:function(e){return e},e.exporterHeaderFilterUseName=e.exporterHeaderFilterUseName===!0,e.exporterFieldCallback=e.exporterFieldCallback?e.exporterFieldCallback:function(e,t,n,r){return r}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.exporterAllAsCsv"),action:function(){this.grid.api.exporter.csvExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuCsv}},{title:a.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(){this.grid.api.exporter.csvExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv}},{title:a.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(){this.grid.api.exporter.csvExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0}},{title:a.getSafeText("gridMenu.exporterAllAsPdf"),action:function(){this.grid.api.exporter.pdfExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuPdf}},{title:a.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(){this.grid.api.exporter.pdfExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf}},{title:a.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(){this.grid.api.exporter.pdfExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0}}])},csvExport:function(e,t,n){var r=this.getColumnHeaders(e,n),i=this.getData(e,t,n),o=this.formatAsCsv(r,i,e.options.exporterCsvColumnSeparator);this.downloadFile(e.options.exporterCsvFilename,o)},getColumnHeaders:function(e,n){var r=[];return angular.forEach(e.columns,function(i){!i.visible&&n!==t.ALL||i.colDef.exporterSuppressExport===!0||-1!==e.options.exporterSuppressColumns.indexOf(i.name)||r.push({name:i.field,displayName:e.options.exporterHeaderFilter?e.options.exporterHeaderFilterUseName?e.options.exporterHeaderFilter(i.name):e.options.exporterHeaderFilter(i.displayName):i.displayName,width:i.drawnWidth?i.drawnWidth:i.width,align:"number"===i.colDef.type?"right":"left"})}),r},getData:function(e,n,i){var o,a=[];switch(n){case t.ALL:o=e.rows;break;case t.VISIBLE:o=e.getVisibleRows();break;case t.SELECTED:e.api.selection?o=e.api.selection.getSelectedGridRows():r.logError("selection feature must be enabled to allow selected rows to be exported")}return angular.forEach(o,function(n){if(n.exporterEnableExporting!==!1){var r=[];angular.forEach(e.columns,function(o){if((o.visible||i===t.ALL)&&o.colDef.exporterSuppressExport!==!0&&-1===e.options.exporterSuppressColumns.indexOf(o.name)){var a={value:e.options.exporterFieldCallback(e,n,o,e.getCellValue(n,o))};o.colDef.exporterPdfAlign&&(a.alignment=o.colDef.exporterPdfAlign),r.push(a)}}),a.push(r)}}),a},formatAsCsv:function(e,t,n){var r=this,i=e.map(function(e){return{value:e.displayName}}),o=r.formatRowAsCsv(this,n)(i)+"\n";return o+=t.map(this.formatRowAsCsv(this,n)).join("\n")},formatRowAsCsv:function(e,t){return function(n){return n.map(e.formatFieldAsCsv).join(t)}},formatFieldAsCsv:function(e){return null==e.value?"":"number"==typeof e.value?e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?'"'+e.value.replace(/"/g,'""')+'"':JSON.stringify(e.value)},downloadFile:function(e,t){var n,r=document,i=r.createElement("a"),o="application/octet-stream;charset=utf-8";if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob(["﻿",t],{type:o}),e);if("download"in i){var a=new Blob([t],{type:o});n=URL.createObjectURL(a),i.setAttribute("download",e)}else n="data:"+o+","+encodeURIComponent(t),i.setAttribute("target","_blank");i.href=n,i.setAttribute("style","display:none;"),r.body.appendChild(i),setTimeout(function(){if(i.click)i.click();else if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),i.dispatchEvent(e)}r.body.removeChild(i)},100)},pdfExport:function(e,t,n){var r=this.getColumnHeaders(e,n),i=this.getData(e,t,n),o=this.prepareAsPdf(e,r,i);pdfMake.createPdf(o).open()},prepareAsPdf:function(e,t,n){var r=this.calculatePdfHeaderWidths(e,t),i=t.map(function(e){return{text:e.displayName,style:"tableHeader"}}),o=n.map(this.formatRowAsPdf(this)),a=[i].concat(o),l={pageOrientation:e.options.exporterPdfOrientation,pageSize:e.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:r,body:a}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};return e.options.exporterPdfLayout&&(l.layout=e.options.exporterPdfLayout),e.options.exporterPdfHeader&&(l.header=e.options.exporterPdfHeader),e.options.exporterPdfFooter&&(l.footer=e.options.exporterPdfFooter),e.options.exporterPdfCustomFormatter&&(l=e.options.exporterPdfCustomFormatter(l)),l},calculatePdfHeaderWidths:function(e,t){var n=0;angular.forEach(t,function(e){"number"==typeof e.width&&(n+=e.width)});var r=0;angular.forEach(t,function(e){if("*"===e.width&&(r+=100),"string"==typeof e.width&&e.width.match(/(\d)*%/)){var t=parseInt(e.width.match(/(\d)*%/)[0]);e.width=n*t/100,r+=e.width}});var i=n+r;return t.map(function(t){return"*"===t.width?t.width:t.width*e.options.exporterPdfMaxGridWidth/i})},formatRowAsPdf:function(e){return function(t){return t.map(e.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){var t;return t=null==e.value?"":"number"==typeof e.value?""+e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?e.value.replace(/"/g,'""'):JSON.stringify(e.value).replace(/^"/,"").replace(/"$/,""),e.alignment&&"string"==typeof e.alignment&&(t={text:t,alignment:e.alignment}),t}};return l}]),e.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,r,i){t.initializeGrid(i.grid),i.grid.exporter.$scope=e}}}])}(),function(){"use strict";var e=angular.module("ui.grid.importer",["ui.grid"]);e.constant("uiGridImporterConstants",{featureName:"importer"}),e.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(e,t,n,r,i,o,a,l){var s={initializeGrid:function(e,t){t.importer={$scope:e},this.defaultGridOptions(t.options);var n={events:{importer:{}},methods:{importer:{importFile:function(e){s.importThisFile(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.options.enableImporter&&t.options.importerShowMenu&&(t.api.core.addToGridMenu?s.addToMenu(t):o(function(){t.api.core.addToGridMenu&&s.addToMenu(t)},100,1))},defaultGridOptions:function(e){e.enableImporter||void 0===e.enableImporter?l.hasOwnProperty("File")&&l.hasOwnProperty("FileReader")&&l.hasOwnProperty("FileList")&&l.hasOwnProperty("Blob")?e.enableImporter=!0:(r.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),e.enableImporter=!1):e.enableImporter=!1,e.importerProcessHeaders=e.importerProcessHeaders||s.processHeaders,e.importerHeaderFilter=e.importerHeaderFilter||function(e){return e},e.importerErrorCallback&&"function"==typeof e.importerErrorCallback||delete e.importerErrorCallback,e.enableImporter!==!0||e.importerDataAddCallback||(r.logError("You have not set an importerDataAddCallback, importer is disabled"),e.enableImporter=!1),e.importerShowMenu=e.importerShowMenu!==!1,e.importerObjectCallback=e.importerObjectCallback||function(e,t){return t}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.importerTitle")},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(){this.grid.api.importer.importAFile(e)}}])},importThisFile:function(e,t){if(!t)return r.logError("No file object provided to importThisFile, should be impossible, aborting"),void 0;var n=new FileReader;switch(t.type){case"application/json":n.onload=s.importJsonClosure(e);break;default:n.onload=s.importCsvClosure(e)}n.readAsText(t)},importJsonClosure:function(e){return function(t){var n,r=[];angular.forEach(s.parseJson(e,t),function(t){n=s.newObject(e),angular.extend(n,t),n=e.options.importerObjectCallback(e,n),r.push(n)}),s.addObjects(e,r)}},parseJson:function(e,t){var n;try{n=JSON.parse(t.target.result)}catch(r){return s.alertError(e,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",t.target.result),void 0}return Array.isArray(n)?n:(s.alertError(e,"importer.jsonNotarray","Import failed, file is not an array, file was: ",t.target.result),[])},importCsvClosure:function(e){return function(t){var n=s.parseCsv(t);if(!n||1>n.length)return s.alertError(e,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",t.target.result),void 0;var r=s.createCsvObjects(e,n);return r&&0!==r.length?(s.addObjects(e,r),void 0):(s.alertError(e,"importer.noObjects","Objects were not able to be derived, content was: ",t.target.result),void 0)}},parseCsv:function(e){var t=e.target.result;return CSV.parse(t)},createCsvObjects:function(e,t){var n=e.options.importerProcessHeaders(e,t.shift());if(!n||0===n.length)return s.alertError(e,"importer.noHeaders","Column names could not be derived, content was: ",t),[];var r,i=[];return angular.forEach(t,function(t){r=s.newObject(e),angular.forEach(t,function(e,t){null!==n[t]&&(r[n[t]]=e)}),r=e.options.importerObjectCallback(e,r),i.push(r)}),i},processHeaders:function(e,t){var n=[];if(e.options.columnDefs&&0!==e.options.columnDefs.length){var r=s.flattenColumnDefs(e,e.options.columnDefs);return angular.forEach(t,function(e){r[e]?n.push(r[e]):r[e.toLowerCase()]?n.push(r[e.toLowerCase()]):n.push(null)}),n}return angular.forEach(t,function(e){n.push(e.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),n},flattenColumnDefs:function(e,t){var n={};return angular.forEach(t,function(t){t.name&&(n[t.name]=t.field||t.name,n[t.name.toLowerCase()]=t.field||t.name),t.field&&(n[t.field]=t.field||t.name,n[t.field.toLowerCase()]=t.field||t.name),t.displayName&&(n[t.displayName]=t.field||t.name,n[t.displayName.toLowerCase()]=t.field||t.name),t.displayName&&e.options.importerHeaderFilter&&(n[e.options.importerHeaderFilter(t.displayName)]=t.field||t.name,n[e.options.importerHeaderFilter(t.displayName).toLowerCase()]=t.field||t.name)}),n},addObjects:function(e,n){if(e.api.rowEdit){var r=e.registerDataChangeCallback(function(){e.api.rowEdit.setRowsDirty(n),r()},[t.dataChange.ROW]);e.importer.$scope.$on("$destroy",r)}e.importer.$scope.$apply(e.options.importerDataAddCallback(e,n))},newObject:function(e){return e.options!==void 0&&e.options.importerNewObject!==void 0?new e.options.importerNewObject:{}},alertError:function(e,t,n,i){e.options.importerErrorCallback?e.options.importerErrorCallback(e,t,n,i):(l.alert(a.getSafeText(t)),r.logError(n+i))}};return s}]),e.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,r,i){t.initializeGrid(e,i.grid)}}}]),e.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(e,r,i,o){var a=function(e){var n=e.srcElement||e.target;if(n&&n.files&&1===n.files.length){var r=n.files[0];t.importThisFile(s,r),n.form.reset()}},l=r[0].querySelectorAll(".ui-grid-importer-file-chooser"),s=o.grid;1!==l.length?n.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):l[0].addEventListener("change",a,!1)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout","uiGridConstants",function(e,t,n,r){var i={initializeGrid:function(e){i.defaultGridOptions(e.options);var t={events:{infiniteScroll:{needLoadMoreData:function(){},needLoadMoreDataTop:function(){}}},methods:{infiniteScroll:{dataLoaded:function(){e.options.loadTimout=!1}}}};e.options.loadTimout=!1,e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enableInfiniteScroll=e.enableInfiniteScroll!==!1},loadData:function(e){return e.options.loadTimout=!0,e.scrollDirection===r.scrollDirection.UP?(e.api.infiniteScroll.raise.needLoadMoreDataTop(),void 0):(e.api.infiniteScroll.raise.needLoadMoreData(),void 0)},checkScroll:function(e,t){var n=e.options.infiniteScrollPercentage?e.options.infiniteScrollPercentage:20;return!e.options.loadTimout&&n>=t?(this.loadData(e),!0):!1}};return i}]),e.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(e){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(){return{pre:function(t,n,r,i){e.initializeGrid(i.grid)},post:function(){}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","uiGridInfiniteScrollService","uiGridConstants",function(e,t,n,r){return{priority:-200,scope:!1,link:function(e){e.grid.options.enableInfiniteScroll&&e.grid.api.core.on.scrollEvent(e,function(t){if(t.y&&"ui.grid.adjustInfiniteScrollPosition"!==t.source){var i=100-100*t.y.percentage;e.grid.scrollDirection===r.scrollDirection.UP&&(i=100*t.y.percentage),n.checkScroll(e.grid,i)}})}}}])}(),function(){"use strict";var e=angular.module("ui.grid.moveColumns",["ui.grid"]);e.service("uiGridMoveColumnService",["$q","$timeout","$log","ScrollEvent","uiGridConstants",function(e,t,n,r,i){var o={initializeGrid:function(e){var t=this;this.registerPublicApi(e),this.defaultGridOptions(e.options),e.registerColumnBuilder(t.movableColumnBuilder)},registerPublicApi:function(e){var t=this,n={events:{colMovable:{columnPositionChanged:function(){}}},methods:{colMovable:{moveColumn:function(n,r){var i=e.columns;if(!angular.isNumber(n)||!angular.isNumber(r))return console.log("Please provide valid values for originalPosition and finalPosition"),void 0;for(var o=0,a=0;i.length>a;a++)(angular.isDefined(i[a].colDef.visible)&&i[a].colDef.visible===!1||i[a].isRowHeader===!0)&&o++;if(n>=i.length-o||r>=i.length-o)return console.log("Invalid values for originalPosition, finalPosition"),void 0;var l=function(e){for(var t=e,n=0;t>=n;n++)angular.isDefined(i[n])&&(angular.isDefined(i[n].colDef.visible)&&i[n].colDef.visible===!1||i[n].isRowHeader===!0)&&t++;return t};t.redrawColumnAtPosition(e,l(n),l(r))}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableColumnMoving=e.enableColumnMoving!==!1},movableColumnBuilder:function(t,n,r){var i=[];return t.enableColumnMoving=void 0===t.enableColumnMoving?r.enableColumnMoving:t.enableColumnMoving,e.all(i)},redrawColumnAtPosition:function(e,n,r){var o=e.columns,a=o[n];if(a.colDef.enableColumnMoving){if(n>r)for(var l=n;l>r;l--)o[l]=o[l-1];else if(r>n)for(var s=n;r>s;s++)o[s]=o[s+1];o[r]=a,t(function(){e.refresh(),e.api.colMovable.raise.columnPositionChanged(a.colDef,n,r),e.api.core.notifyDataChange(i.dataChange.COLUMN)})}}};return o}]),e.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(e){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,n,r,i){e.initializeGrid(i.grid)},post:function(){}}}}}]),e.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(e,t,n,r,i,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,i,l,s){e.col.colDef.enableColumnMoving&&e.$on(o.events.COLUMN_HEADER_CLICK,function(o,l){if(l.columnName===e.col.colDef.name&&!e.col.renderContainer){var u=l.event;if("ui-grid-icon-angle-down"!==u.target.className&&"I"!==u.target.tagName&&0>u.target.className.indexOf("ui-grid-filter-input")){var c,d,p=e.grid.element[0].getBoundingClientRect().left,f=u.pageX,g=0,h=p+e.grid.getViewportWidth(),m=!1,v=function(){m=!0,c=i.clone(),i.parent().append(c),c.addClass("movingColumn");var t={},n=i[0].getBoundingClientRect().left;t.left=n-p+"px";var r=e.grid.element[0].getBoundingClientRect().right,o=i[0].getBoundingClientRect().right;o>r&&(d=e.col.drawnWidth+(r-o),t.width=d+"px"),c.css(t)},w=function(n){s.fireEvent("hide-menu");for(var r=e.grid.columns,i=0,o=0;r.length>o;o++)(angular.isUndefined(r[o].colDef.visible)||r[o].colDef.visible===!0)&&(i+=r[o].drawnWidth||r[o].width||r[o].colDef.width);var l,u=c[0].getBoundingClientRect().left-1,f=c[0].getBoundingClientRect().right;if(l="ie"===t.detectBrowser()?u+n:u-p+n,l=h>l?l:h,(u>=p||n>0)&&(h>=f||0>n))c.css({visibility:"visible",left:l+"px"});else if(i>Math.ceil(s.grid.gridWidth)){n*=8;var m=new a(e.col.grid,null,null,"uiGridHeaderCell.moveElement");m.x={pixels:n},m.fireScrollingEvent()}for(var v=0,w=0;r.length>w;w++)if(angular.isUndefined(r[w].colDef.visible)||r[w].colDef.visible===!0){if(r[w].colDef.name===e.col.colDef.name)break;v+=r[w].drawnWidth||r[w].width||r[w].colDef.width}void 0===e.newScrollLeft?g+=n:g=e.newScrollLeft+l-v,e.col.drawnWidth>d&&(d+=Math.abs(n),c.css({width:d+"px"}))},b=function(e){document.onselectstart=function(){return!1};var t=e.pageX-f;!m&&Math.abs(t)>50?v():m&&(w(t),f=e.pageX)};r.on("mousemove",b);var C=function(){document.onselectstart=null,c&&c.remove();for(var t=e.grid.columns,i=0,o=0;t.length>o&&t[o].colDef.name!==e.col.colDef.name;o++)i++;if(0>g){for(var a=0,l=i-1;l>=0;l--)if((angular.isUndefined(t[l].colDef.visible)||t[l].colDef.visible===!0)&&(a+=t[l].drawnWidth||t[l].width||t[l].colDef.width,a>Math.abs(g))){n.redrawColumnAtPosition(e.grid,i,l+1);break}Math.abs(g)>a&&n.redrawColumnAtPosition(e.grid,i,0)}else if(g>0){for(var s=0,u=i+1;t.length>u;u++)if((angular.isUndefined(t[u].colDef.visible)||t[u].colDef.visible===!0)&&(s+=t[u].drawnWidth||t[u].width||t[u].colDef.width,s>g)){n.redrawColumnAtPosition(e.grid,i,u-1);break}g>s&&n.redrawColumnAtPosition(e.grid,i,t.length-1)}r.off("mousemove",b),r.off("mouseup",C)};r.on("mouseup",C)}}})}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pagination",["ng","ui.grid"]);e.service("uiGridPaginationService",["gridUtil",function(e){var t={initializeGrid:function(e){t.defaultGridOptions(e.options);var n={events:{pagination:{paginationChanged:function(){}}},methods:{pagination:{getPage:function(){return e.options.enablePagination?e.options.paginationCurrentPage:null},getTotalPages:function(){return e.options.enablePagination?0===e.options.totalItems?1:Math.ceil(e.options.totalItems/e.options.paginationPageSize):null},nextPage:function(){e.options.enablePagination&&(e.options.totalItems>0?e.options.paginationCurrentPage=Math.min(e.options.paginationCurrentPage+1,n.methods.pagination.getTotalPages()):e.options.paginationCurrentPage++)},previousPage:function(){e.options.enablePagination&&(e.options.paginationCurrentPage=Math.max(e.options.paginationCurrentPage-1,1))},seek:function(t){if(e.options.enablePagination){if(!angular.isNumber(t)||1>t)throw"Invalid page number: "+t;e.options.paginationCurrentPage=Math.min(t,n.methods.pagination.getTotalPages())}}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods),e.registerRowsProcessor(function(t){if(e.options.useExternalPagination||!e.options.enablePagination)return t;var n=parseInt(e.options.paginationPageSize,10),r=parseInt(e.options.paginationCurrentPage,10),i=t.filter(function(e){return e.visible});e.options.totalItems=i.length;var o=(r-1)*n;return o>i.length&&(r=e.options.paginationCurrentPage=1,o=(r-1)*n),i.slice(o,o+n)})},defaultGridOptions:function(t){t.enablePagination=t.enablePagination!==!1,t.enablePaginationControls=t.enablePaginationControls!==!1,t.useExternalPagination=t.useExternalPagination===!0,e.isNullOrUndefined(t.totalItems)&&(t.totalItems=0),e.isNullOrUndefined(t.paginationPageSizes)&&(t.paginationPageSizes=[250,500,1e3]),e.isNullOrUndefined(t.paginationPageSize)&&(t.paginationPageSize=t.paginationPageSizes.length>0?t.paginationPageSizes[0]:0),e.isNullOrUndefined(t.paginationCurrentPage)&&(t.paginationCurrentPage=1),e.isNullOrUndefined(t.paginationTemplate)&&(t.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(e,t,n){e.api.pagination.raise.paginationChanged(t,n),e.options.useExternalPagination||e.refresh()}};return t}]),e.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(e,t){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(n,r,i,o){t.initializeGrid(o.grid),e.getTemplate(o.grid.options.paginationTemplate).then(function(e){var t=angular.element(e);
r.append(t),o.innerCompile(t)})}}}}]),e.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService",function(e,t,n,r){return{priority:-200,scope:!0,require:"^uiGrid",link:function(i,o,a,l){i.paginationApi=l.grid.api.pagination,i.sizesLabel=r.getSafeText("pagination.sizes"),i.totalItemsLabel=r.getSafeText("pagination.totalItems");var s=l.grid.options;l.grid.renderContainers.body.registerViewportAdjuster(function(e){return e.height=e.height-n.elementHeight(o),e});var u=l.grid.registerDataChangeCallback(function(e){e.options.useExternalPagination||(e.options.totalItems=e.rows.length)},[t.dataChange.ROW]);i.$on("$destroy",u);var c=function(){i.showingLow=(s.paginationCurrentPage-1)*s.paginationPageSize+1,i.showingHigh=Math.min(s.paginationCurrentPage*s.paginationPageSize,s.totalItems)},d=i.$watch("grid.options.totalItems + grid.options.paginationPageSize",c),p=i.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(t,n){if(t!==n){if(!angular.isNumber(s.paginationCurrentPage)||1>s.paginationCurrentPage)return s.paginationCurrentPage=1,void 0;if(s.totalItems>0&&s.paginationCurrentPage>i.paginationApi.getTotalPages())return s.paginationCurrentPage=i.paginationApi.getTotalPages(),void 0;c(),e.onPaginationChanged(i.grid,s.paginationCurrentPage,s.paginationPageSize)}});i.$on("$destroy",function(){d(),p()}),i.cantPageForward=function(){return s.totalItems>0?s.paginationCurrentPage>=i.paginationApi.getTotalPages():1>s.data.length},i.cantPageToLast=function(){return s.totalItems>0?i.cantPageForward():!0},i.cantPageBackward=function(){return 1>=s.paginationCurrentPage}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pinning",["ui.grid"]);e.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService",function(e,t,n){var r={initializeGrid:function(e){r.defaultGridOptions(e.options),e.registerColumnBuilder(r.pinningColumnBuilder)},defaultGridOptions:function(e){e.enablePinning=e.enablePinning!==!1},pinningColumnBuilder:function(t,r,i){if(t.enablePinning=void 0===t.enablePinning?i.enablePinning:t.enablePinning,t.pinnedLeft?"*"===r.width?r.grid.refresh().then(function(){r.renderContainer="left",r.width=r.grid.canvasWidth/r.grid.columns.length,r.grid.createLeftContainer()}):(r.renderContainer="left",r.grid.createLeftContainer()):t.pinnedRight&&("*"===r.width?r.grid.refresh().then(function(){r.renderContainer="right",r.width=r.grid.canvasWidth/r.grid.columns.length,r.grid.createRightContainer()}):(r.renderContainer="right",r.grid.createRightContainer())),t.enablePinning){var o={name:"ui.grid.pinning.pinLeft",title:n.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return this.context.col.renderContainer===void 0||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){this.context.col.renderContainer="left",this.context.col.width=this.context.col.drawnWidth,this.context.col.grid.createLeftContainer(),r.grid.refresh().then(function(){r.grid.refresh()})}},a={name:"ui.grid.pinning.pinRight",title:n.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return this.context.col.renderContainer===void 0||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){this.context.col.renderContainer="right",this.context.col.width=this.context.col.drawnWidth,this.context.col.grid.createRightContainer(),r.grid.refresh().then(function(){r.grid.refresh()})}},l={name:"ui.grid.pinning.unpin",title:n.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return this.context.col.renderContainer!==void 0&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){this.context.col.renderContainer=null,r.grid.refresh().then(function(){r.grid.refresh()})}};e.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.pinning.pinLeft")||r.menuItems.push(o),e.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.pinning.pinRight")||r.menuItems.push(a),e.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.pinning.unpin")||r.menuItems.push(l)}}};return r}]),e.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(e,t){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){t.initializeGrid(i.grid)},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.service("uiGridResizeColumnsService",["gridUtil","$q","$timeout",function(e,t,n){var r={defaultGridOptions:function(e){e.enableColumnResizing=e.enableColumnResizing!==!1,e.enableColumnResize===!1&&(e.enableColumnResizing=!1)},colResizerColumnBuilder:function(e,n,r){var i=[];return e.enableColumnResizing=void 0===e.enableColumnResizing?r.enableColumnResizing:e.enableColumnResizing,e.enableColumnResize===!1&&(e.enableColumnResizing=!1),t.all(i)},registerPublicApi:function(e){var t={events:{colResizable:{columnSizeChanged:function(){}}}};e.api.registerEventsFromObject(t.events)},fireColumnSizeChanged:function(e,t,r){n(function(){e.api.colResizable.raise.columnSizeChanged(t,r)})},findTargetCol:function(e,t,n){var r=e.getRenderContainer();if("left"===t){var i=r.visibleColumnCache.indexOf(e);return r.visibleColumnCache[i-1*n]}return e}};return r}]),e.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){t.defaultGridOptions(i.grid.options),i.grid.registerColumnBuilder(t.colResizerColumnBuilder),t.registerPublicApi(i.grid)},post:function(){}}}}}]),e.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants","$timeout",function(e,t,n,r,i,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,r,l,s){var u=s.grid;if(u.options.enableColumnResizing){var c=t.get("ui-grid/columnResizer"),d=1;u.isRTL()&&(e.position="left",d=-1);var p=function(){for(var t=r[0].getElementsByClassName("ui-grid-column-resizer"),o=0;t.length>o;o++)angular.element(t[o]).remove();var a=i.findTargetCol(e.col,"left",d),l=e.col.getRenderContainer();if(a&&0!==l.visibleColumnCache.indexOf(e.col)&&a.colDef.enableColumnResizing!==!1){var s=angular.element(c).clone();s.attr("position","left"),r.prepend(s),n(s)(e)}if(e.col.colDef.enableColumnResizing!==!1){var u=angular.element(c).clone();u.attr("position","right"),r.append(u),n(u)(e)}};p();var f=function(){a(p)},g=u.registerDataChangeCallback(f,[o.dataChange.COLUMN]);e.$on("$destroy",g)}}}}}}]),e.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(e,t,n,r){var i,o,a,l=angular.element('<div class="ui-grid-resize-overlay"></div>');t.isTouchEnabled()?(i="touchstart",o="touchend",a="touchmove"):(i="mousedown",o="mouseup",a="mousemove");var s={priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(s,u,c,d){function p(e){var t=e.getRenderContainer();t.visibleColumnCache.forEach(function(t){if(t!==e){var n=t.colDef;(!n.width||angular.isString(n.width)&&(-1!==n.width.indexOf("*")||-1!==n.width.indexOf("%")))&&(t.width=t.drawnWidth)}})}function f(){d.grid.buildColumns().then(function(){d.grid.refreshCanvas(!0).then(function(){d.grid.refresh()})})}function g(e,t){var n=t;return e.colDef.minWidth&&e.colDef.minWidth>n?n=e.colDef.minWidth:e.colDef.maxWidth&&n>e.colDef.maxWidth&&(n=e.colDef.maxWidth),n}function h(e){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),w=(e.targetTouches?e.targetTouches[0]:e).clientX-b,0>w?w=0:w>d.grid.gridWidth&&(w=d.grid.gridWidth);var t=r.findTargetCol(s.col,s.position,C);if(t.colDef.enableColumnResizing!==!1){d.grid.element.hasClass("column-resizing")||d.grid.element.addClass("column-resizing");var i=w-v,o=parseInt(t.drawnWidth+i*C,10);w+=(g(t,o)-o)*C,l.css({left:w+"px"}),d.fireEvent(n.events.ITEM_DRAGGING)}}function m(t){t.originalEvent&&(t=t.originalEvent),t.preventDefault(),d.grid.element.removeClass("column-resizing"),l.remove(),w=(t.changedTouches?t.changedTouches[0]:t).clientX-b;var n=w-v;if(0===n)return e.off(o,m),e.off(a,h),void 0;var i=r.findTargetCol(s.col,s.position,C);if(i.colDef.enableColumnResizing!==!1){var u=parseInt(i.drawnWidth+n*C,10);i.width=g(i,u),p(i),f(n),r.fireColumnSizeChanged(d.grid,i.colDef,n),e.off(o,m),e.off(a,h)}}var v=0,w=0,b=0,C=1;d.grid.isRTL()&&(s.position="left",C=-1),"left"===s.position?u.addClass("left"):"right"===s.position&&u.addClass("right"),u.on(i,function(t){t.originalEvent&&(t=t.originalEvent),t.stopPropagation(),b=d.grid.element[0].getBoundingClientRect().left,v=(t.targetTouches?t.targetTouches[0]:t).clientX-b,d.grid.element.append(l),l.css({left:v}),e.on(o,m),e.on(a,h)}),u.on("dblclick",function(e){e.stopPropagation();var i=r.findTargetCol(s.col,s.position,C);if(i.colDef.enableColumnResizing!==!1){var o=0,a=0,l=t.closestElm(u,".ui-grid-render-container"),c=l.querySelectorAll("."+n.COL_CLASS_PREFIX+i.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(c,function(e){var n;angular.element(e).parent().hasClass("ui-grid-header-cell")&&(n=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),t.fakeElement(e,{},function(e){var r=angular.element(e);r.attr("style","float: left");var i=t.elementWidth(r);if(n){var l=t.elementWidth(n);i+=l}i>o&&(o=i,a=o-i)})}),i.width=g(i,o),p(i),f(a),r.fireColumnSizeChanged(d.grid,i.colDef,a)}}),u.on("$destroy",function(){u.off(i),u.off("dblclick"),e.off(a,h),e.off(o,m)})}};return s}])}(),function(){"use strict";var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{}),e.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(e,t,n,r,i){var o={initializeGrid:function(e,t){t.rowEdit={};var n={events:{rowEdit:{saveRow:function(){}}},methods:{rowEdit:{setSavePromise:function(e,n){o.setSavePromise(t,e,n)},getDirtyRows:function(){return t.rowEdit.dirtyRows?t.rowEdit.dirtyRows:[]},getErrorRows:function(){return t.rowEdit.errorRows?t.rowEdit.errorRows:[]},flushDirtyRows:function(){return o.flushDirtyRows(t)},setRowsDirty:function(e){o.setRowsDirty(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.api.core.on.renderingComplete(e,function(){t.api.edit.on.afterCellEdit(e,o.endEditCell),t.api.edit.on.beginCellEdit(e,o.beginEditCell),t.api.edit.on.cancelCellEdit(e,o.cancelEditCell),t.api.cellNav&&t.api.cellNav.on.navigate(e,o.navigate)})},defaultGridOptions:function(){},saveRow:function(e,t){var n=this;return function(){t.isSaving=!0;var r=e.api.rowEdit.raise.saveRow(t.entity);return t.rowEditSavePromise?t.rowEditSavePromise.then(n.processSuccessPromise(e,t),n.processErrorPromise(e,t)):i.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),r}},setSavePromise:function(e,t,n){var r=e.getRow(t);r.rowEditSavePromise=n},processSuccessPromise:function(e,t){var n=this;return function(){delete t.isSaving,delete t.isDirty,delete t.isError,delete t.rowEditSaveTimer,n.removeRow(e.rowEdit.errorRows,t),n.removeRow(e.rowEdit.dirtyRows,t)}},processErrorPromise:function(e,t){return function(){delete t.isSaving,delete t.rowEditSaveTimer,t.isError=!0,e.rowEdit.errorRows||(e.rowEdit.errorRows=[]),o.isRowPresent(e.rowEdit.errorRows,t)||e.rowEdit.errorRows.push(t)}},removeRow:function(e,t){angular.forEach(e,function(n,r){n.uid===t.uid&&e.splice(r,1)})},isRowPresent:function(e,t){var n=!1;return angular.forEach(e,function(e){e.uid===t.uid&&(n=!0)}),n},flushDirtyRows:function(e){var n=[];return angular.forEach(e.rowEdit.dirtyRows,function(t){o.saveRow(e,t)(),n.push(t.rowEditSavePromise)}),t.all(n)},endEditCell:function(e,t,n,r){var a=this.grid,l=a.getRow(e);return l?((n!==r||l.isDirty)&&(a.rowEdit.dirtyRows||(a.rowEdit.dirtyRows=[]),l.isDirty||(l.isDirty=!0,a.rowEdit.dirtyRows.push(l)),delete l.isError,o.considerSetTimer(a,l)),void 0):(i.logError("Unable to find rowEntity in grid data, dirty flag cannot be set"),void 0)},beginEditCell:function(e){var t=this.grid,n=t.getRow(e);return n?(o.cancelTimer(t,n),void 0):(i.logError("Unable to find rowEntity in grid data, timer cannot be cancelled"),void 0)},cancelEditCell:function(e){var t=this.grid,n=t.getRow(e);return n?(o.considerSetTimer(t,n),void 0):(i.logError("Unable to find rowEntity in grid data, timer cannot be set"),void 0)},navigate:function(e,t){var n=this.grid;e.row.rowEditSaveTimer&&o.cancelTimer(n,e.row),t&&t.row&&t.row!==e.row&&o.considerSetTimer(n,t.row)},considerSetTimer:function(t,n){if(o.cancelTimer(t,n),n.isDirty&&!n.isSaving&&-1!==t.options.rowEditWaitInterval){var r=t.options.rowEditWaitInterval?t.options.rowEditWaitInterval:2e3;n.rowEditSaveTimer=e(o.saveRow(t,n),r,1)}},cancelTimer:function(t,n){n.rowEditSaveTimer&&!n.isSaving&&(e.cancel(n.rowEditSaveTimer),delete n.rowEditSaveTimer)},setRowsDirty:function(e,t){var n;t.forEach(function(t){n=e.getRow(t),n?(e.rowEdit.dirtyRows||(e.rowEdit.dirtyRows=[]),n.isDirty||(n.isDirty=!0,e.rowEdit.dirtyRows.push(n)),delete n.isError,o.considerSetTimer(e,n)):i.logError("requested row not found in rowEdit.setRowsDirty, row was: "+t)})}};return o}]),e.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){t.initializeGrid(e,i.grid)},post:function(){}}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e.children().children()[0]),n=t.attr("ng-class"),r="";return r=n?n.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",t.attr("ng-class",r),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav"]);e.constant("uiGridSaveStateConstants",{featureName:"saveState"}),e.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(){var e={initializeGrid:function(t){t.saveState={},this.defaultGridOptions(t.options);var n={events:{saveState:{}},methods:{saveState:{save:function(){return e.save(t)},restore:function(n,r){e.restore(t,n,r)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.saveWidths=e.saveWidths!==!1,e.saveOrder=e.saveOrder!==!1,e.saveScroll=e.saveScroll===!0,e.saveFocus=e.saveScroll!==!0&&e.saveFocus!==!1,e.saveVisible=e.saveVisible!==!1,e.saveSort=e.saveSort!==!1,e.saveFilter=e.saveFilter!==!1,e.saveSelection=e.saveSelection!==!1},save:function(t){var n={};return n.columns=e.saveColumns(t),n.scrollFocus=e.saveScrollFocus(t),n.selection=e.saveSelection(t),n},restore:function(t,n,r){r.columns&&e.restoreColumns(t,r.columns),r.scrollFocus&&e.restoreScrollFocus(t,n,r.scrollFocus),r.selection&&e.restoreSelection(t,r.selection),t.refresh()},saveColumns:function(e){var t=[];return angular.forEach(e.columns,function(e){var n={};n.name=e.name,n.visible=e.visible,n.width=e.width,n.sort=angular.copy(e.sort),n.filters=angular.copy(e.filters),t.push(n)}),t},saveScrollFocus:function(t){if(!t.api.cellNav)return{};var n={};if(t.options.saveFocus){n.focus=!0;var r=t.api.cellNav.getFocusedCell();null!==r&&(n.colName=r.col.colDef.name,n.rowVal=e.getRowVal(t,r.row))}else t.options.saveScroll&&(n.focus=!1,t.renderContainers.body.prevRowScrollIndex&&(n.rowVal=e.getRowVal(t,t.renderContainers.body.visibleRowCache[t.renderContainers.body.prevRowScrollIndex])),t.renderContainers.body.prevColScrollIndex&&(n.colName=t.renderContainers.body.visibleColumnCache[t.renderContainers.body.prevColScrollIndex].name));return n},saveSelection:function(t){if(!t.api.selection)return{};var n=t.api.selection.getSelectedGridRows().map(function(n){return e.getRowVal(t,n)});return n},getRowVal:function(e,t){if(!t)return null;var n={};return e.options.saveRowIdentity?(n.identity=!0,n.row=e.options.saveRowIdentity(t.entity)):(n.identity=!1,n.row=e.renderContainers.body.visibleRowCache.indexOf(t)),n},restoreColumns:function(e,t){angular.forEach(t,function(t,n){var r=e.columns.filter(function(e){return e.name===t.name});if(r.length>0){var i=e.columns.indexOf(r[0]);if((e.columns[i].visible!==t.visible||e.columns[i].colDef.visible!==t.visible)&&(e.columns[i].visible=t.visible,e.columns[i].colDef.visible=t.visible,e.api.core.raise.columnVisibilityChanged(e.columns[i])),e.columns[i].width=t.width,angular.equals(e.columns[i].sort,t.sort&&!(void 0===e.columns[i].sort&&angular.isEmpty(t.sort)))||(e.columns[i].sort=angular.copy(t.sort),e.api.core.raise.sortChanged()),angular.equals(e.columns[i].filters,t.filters)||(e.columns[i].filters=angular.copy(t.filters),e.api.core.raise.filterChanged()),i!==n){var o=e.columns.splice(i,1)[0];e.columns.splice(n,0,o)}}})},restoreScrollFocus:function(t,n,r){if(t.api.cellNav){var i,o;if(r.colName){var a=t.options.columnDefs.filter(function(e){return e.name===r.colName});a.length>0&&(i=a[0])}r.rowVal&&r.rowVal.row&&(o=r.rowVal.identity?e.findRowByIdentity(t,r.rowVal):t.renderContainers.body.visibleRowCache[r.rowVal.row]);var l=o&&o.entity?o.entity:null;(i||l)&&(r.focus?t.api.cellNav.scrollToFocus(n,l,i):t.api.cellNav.scrollTo(n,l,i))}},restoreSelection:function(t,n){t.api.selection&&(t.api.selection.clearSelectedRows(),angular.forEach(n,function(n){if(n.identity){var r=e.findRowByIdentity(t,n);r&&t.api.selection.selectRow(r.entity)}else t.api.selection.selectRowByVisibleIndex(n.row)}))},findRowByIdentity:function(e,t){if(!e.options.saveRowIdentity)return null;var n=e.rows.filter(function(n){return e.options.saveRowIdentity(n.entity)===t.row?!0:!1});return n.length>0?n[0]:null}};return e}]),e.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,r,i){t.initializeGrid(i.grid)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(e){e.decorator("GridRow",["$delegate",function(e){return e.prototype.setSelected=function(e){this.isSelected=e,e?this.grid.selection.selectedCount++:this.grid.selection.selectedCount--},e}])}]),e.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(){var e={initializeGrid:function(t){t.selection={},t.selection.lastSelectedRow=null,t.selection.selectAll=!1,t.selection.selectedCount=0,e.defaultGridOptions(t.options);var n={events:{selection:{rowSelectionChanged:function(){},rowSelectionChangedBatch:function(){}}},methods:{selection:{toggleRowSelection:function(n,r){var i=t.getRow(n);null!==i&&i.enableSelection!==!1&&e.toggleRowSelection(t,i,r,t.options.multiSelect,t.options.noUnselect)},selectRow:function(n,r){var i=t.getRow(n);null===i||i.isSelected||i.enableSelection===!1||e.toggleRowSelection(t,i,r,t.options.multiSelect,t.options.noUnselect)},selectRowByVisibleIndex:function(n,r){var i=t.renderContainers.body.visibleRowCache[n];null===i||void 0===i||i.isSelected||i.enableSelection===!1||e.toggleRowSelection(t,i,r,t.options.multiSelect,t.options.noUnselect)},unSelectRow:function(n,r){var i=t.getRow(n);null!==i&&i.isSelected&&e.toggleRowSelection(t,i,r,t.options.multiSelect,t.options.noUnselect)},selectAllRows:function(n){if(t.options.multiSelect!==!1){var r=[];t.rows.forEach(function(i){i.isSelected||i.enableSelection===!1||(i.setSelected(!0),e.decideRaiseSelectionEvent(t,i,r,n))}),e.decideRaiseSelectionBatchEvent(t,r,n),t.selection.selectAll=!0}},selectAllVisibleRows:function(n){if(t.options.multiSelect!==!1){var r=[];t.rows.forEach(function(i){i.visible?i.isSelected||i.enableSelection===!1||(i.setSelected(!0),e.decideRaiseSelectionEvent(t,i,r,n)):i.isSelected&&(i.setSelected(!1),e.decideRaiseSelectionEvent(t,i,r,n))}),e.decideRaiseSelectionBatchEvent(t,r,n),t.selection.selectAll=!0}},clearSelectedRows:function(n){e.clearSelectedRows(t,n)},getSelectedRows:function(){return e.getSelectedRows(t).map(function(e){return e.entity})},getSelectedGridRows:function(){return e.getSelectedRows(t)},setMultiSelect:function(e){t.options.multiSelect=e},setModifierKeysToMultiSelect:function(e){t.options.modifierKeysToMultiSelect=e},getSelectAllState:function(){return t.selection.selectAll}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableRowSelection=e.enableRowSelection!==!1,e.multiSelect=e.multiSelect!==!1,e.noUnselect=e.noUnselect===!0,e.modifierKeysToMultiSelect=e.modifierKeysToMultiSelect===!0,e.enableRowHeaderSelection=e.enableRowHeaderSelection!==!1,e.enableSelectAll=e.enableSelectAll!==!1,e.enableSelectionBatchEvent=e.enableSelectionBatchEvent!==!1,e.selectionRowHeaderWidth=angular.isDefined(e.selectionRowHeaderWidth)?e.selectionRowHeaderWidth:30,e.enableFooterTotalSelected=e.enableFooterTotalSelected!==!1,e.isRowSelectable=angular.isDefined(e.isRowSelectable)?e.isRowSelectable:angular.noop},toggleRowSelection:function(t,n,r,i,o){var a=n.isSelected;if(i||a){if(!i&&a){var l=e.getSelectedRows(t);l.length>1&&(a=!1,e.clearSelectedRows(t,r))}}else e.clearSelectedRows(t,r);a&&o||n.enableSelection!==!1&&(n.setSelected(!a),n.isSelected===!0?t.selection.lastSelectedRow=n:t.selection.selectAll=!1,t.api.selection.raise.rowSelectionChanged(n,r))},shiftSelect:function(t,n,r,i){if(i){var o=e.getSelectedRows(t),a=o.length>0?t.renderContainers.body.visibleRowCache.indexOf(t.selection.lastSelectedRow):0,l=t.renderContainers.body.visibleRowCache.indexOf(n);if(a>l){var s=a;a=l,l=s}for(var u=[],c=a;l>=c;c++){var d=t.renderContainers.body.visibleRowCache[c];d&&(d.isSelected||d.enableSelection===!1||(d.setSelected(!0),t.selection.lastSelectedRow=d,e.decideRaiseSelectionEvent(t,d,u,r)))}e.decideRaiseSelectionBatchEvent(t,u,r)}},getSelectedRows:function(e){return e.rows.filter(function(e){return e.isSelected})},clearSelectedRows:function(t,n){var r=[];e.getSelectedRows(t).forEach(function(i){i.isSelected&&(i.setSelected(!1),e.decideRaiseSelectionEvent(t,i,r,n))}),e.decideRaiseSelectionBatchEvent(t,r,n),t.selection.selectAll=!1},decideRaiseSelectionEvent:function(e,t,n,r){e.options.enableSelectionBatchEvent?n.push(t):e.api.selection.raise.rowSelectionChanged(t,r)},decideRaiseSelectionBatchEvent:function(e,t,n){t.length>0&&e.api.selection.raise.rowSelectionChangedBatch(t,n)}};return e}]),e.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,r,i,o){if(t.initializeGrid(o.grid),o.grid.options.enableRowHeaderSelection){var a={name:e.selectionRowHeaderColName,displayName:"",width:o.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0};o.grid.addRowHeaderColumn(a)}o.grid.options.isRowSelectable!==angular.noop&&o.grid.registerRowBuilder(function(e){e.enableSelection=o.grid.options.isRowSelectable(e)})},post:function(){}}}}}]),e.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,n,r,i){var o=i.grid;e.selectButtonClick=function(e,n){n.shiftKey?t.shiftSelect(o,e,n,o.options.multiSelect):n.ctrlKey||n.metaKey?t.toggleRowSelection(o,e,n,o.options.multiSelect,o.options.noUnselect):t.toggleRowSelection(o,e,n,o.options.multiSelect&&!o.options.modifierKeysToMultiSelect,o.options.noUnselect)}}}}]),e.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(e){var n=e.col.grid;e.headerButtonClick=function(e,r){n.selection.selectAll?(t.clearSelectedRows(n,r),n.options.noUnselect&&n.api.selection.selectRowByVisibleIndex(0,r),n.selection.selectAll=!1):n.options.multiSelect&&(n.api.selection.selectAllVisibleRows(r),n.selection.selectAll=!0)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e.children().children()[0]),n=t.attr("ng-class"),r="";return r=n?n.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",t.attr("ng-class",r),{pre:function(){},post:function(){}}}}}]),e.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(e,t,n,r,i,o){return{priority:-200,restrict:"A",scope:!1,link:function(e,n){function r(){e.grid.options.enableRowSelection&&!e.grid.options.enableRowHeaderSelection&&(n.addClass("ui-grid-disable-selection"),n.on("touchstart",u),n.on("touchend",c),n.on("click",s),e.registered=!0)}function i(){e.registered&&(n.removeClass("ui-grid-disable-selection"),n.off("touchstart",u),n.off("touchend",c),n.off("click",s),e.registered=!1)}var a=0,l=300,s=function(t){t.shiftKey?o.shiftSelect(e.grid,e.row,t,e.grid.options.multiSelect):t.ctrlKey||t.metaKey?o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect,e.grid.options.noUnselect):o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply()},u=function(){a=(new Date).getTime()},c=function(e){var t=(new Date).getTime(),n=t-a;l>n&&s(e)};r();var d=e.grid.registerDataChangeCallback(function(){!e.grid.options.enableRowSelection||e.grid.options.enableRowHeaderSelection||e.registered?e.grid.options.enableRowSelection&&!e.grid.options.enableRowHeaderSelection||!e.registered||i():r()},[t.dataChange.OPTIONS]);n.on("$destroy",d)}}}]),e.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(e,t,n){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(t,r,i,o){o.grid.options.showGridFooter&&n.getTemplate("ui-grid/gridFooterSelectedItems").then(function(n){var i=angular.element(n),o=e(i)(t);angular.element(r[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(o)})},post:function(){}}}}}])}(),angular.module("ui.grid").run(["$templateCache",function(e){"use strict";e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row"><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" ui-grid-footer-cell col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix" ng-style="$index === 0 && colContainer.columnStyle($index)"></div></div></div></div>'),e.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>'),e.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>'),e.put("ui-grid/ui-grid-header",'<div class="ui-grid-header"><div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" ui-grid-header-cell col="col" render-index="$index" ng-style="$index === 0 && colContainer.columnStyle($index)"></div></div></div><div ui-grid-menu></div></div></div>'),e.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button" ng-click="toggleMenu()"><div class="ui-grid-icon-container"><i class="ui-grid-icon-menu">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),e.put("ui-grid/ui-grid-row",'<div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader }" ui-grid-cell></div>'),e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div>'),e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/uiGridColumnFilter",'<li class="ui-grid-menu-item ui-grid-clearfix ui-grid-column-filter" ng-show="itemShown()" ng-click="$event.stopPropagation();"><div class="input-container"><input class="column-filter-input" type="text" ng-model="item.model" placeholder="{{ i18n.search.placeholder }}"><div class="column-filter-cancel-icon-container"><i class="ui-grid-filter-cancel ui-grid-icon-cancel column-filter-cancel-icon">&nbsp;</i></div></div><div style="button-container" ng-click="item.action($event)"><div class="ui-grid-button"><i class="ui-grid-icon-search">&nbsp;</i></div></div></li>'),e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems"><!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --></div></div>'),e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),e.put("ui-grid/uiGridHeaderCell",'<div ng-class="{ \'sortable\': sortable }"><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><span>{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">&nbsp;</span></div><div class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}"><i class="ui-grid-icon-angle-down">&nbsp;</i></div><div ng-if="filterable" class="ui-grid-filter-container" ng-repeat="colFilter in col.filters"><input type="text" class="ui-grid-filter-input" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}"><div class="ui-grid-filter-button" ng-click="colFilter.term = null"><i class="ui-grid-icon-cancel" ng-show="!!colFilter.term">&nbsp;</i><!-- use !! because angular interprets \'f\' as false --></div></div></div>'),e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul class="ui-grid-menu-items"><li ng-repeat="item in menuItems" ui-grid-menu-item action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl"></li></ul></div></div></div>'),e.put("ui-grid/uiGridMenuItem",'<li class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\' : active() }"><i ng-class="icon"></i> {{ name }}</li>'),e.put("ui-grid/uiGridRenderContainer",'<div class="ui-grid-render-container"><div ui-grid-header></div><div ui-grid-viewport></div><div ui-grid-footer ng-if="grid.options.showColumnFooter"></div></div>'),e.put("ui-grid/uiGridViewport",'<div class="ui-grid-viewport" ng-style="containerCtrl.colContainer.getViewPortStyle()"><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="containerCtrl.rowStyle(rowRenderIndex)"><div ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\'\n     , height: grid.options.expandableRowHeight + \'px\'}"></div>'),e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),e.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" style=\"float:left; margin-top: 2px; margin-bottom: 2px\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px',\n              height: grid.options.expandableRowHeight + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{ 'margin-top': ( grid.options.expandableRowHeight/2 - 5) + 'px',\n            'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px' }\"></i></div>"),e.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></i></div></div>'),e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),e.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),e.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),e.put("ui-grid/pagination",'<div class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div class="ui-grid-pager-container"><div class="ui-grid-pager-control"><button type="button" ng-click="paginationApi.seek(1)" ng-disabled="cantPageBackward()"><div class="first-triangle"><div class="first-bar"></div></div></button> <button type="button" ng-click="paginationApi.previousPage()" ng-disabled="cantPageBackward()"><div class="first-triangle prev-triangle"></div></button> <input type="number" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0">/ {{ paginationApi.getTotalPages() }}</span> <button type="button" ng-click="paginationApi.nextPage()" ng-disabled="cantPageForward()"><div class="last-triangle next-triangle"></div></button> <button type="button" ng-click="paginationApi.seek(paginationApi.getTotalPages())" ng-disabled="cantPageToLast()"><div class="last-triangle"><div class="last-bar"></div></div></button></div><div class="ui-grid-pager-row-count-picker"><select ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{showingLow}} - {{showingHigh}} of {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>'),e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex"></div>'),e.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),e.put("ui-grid/selectionHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"></ui-grid-selection-select-all-buttons></div></div>'),e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>'),e.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)"></div>')
}]),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(e){return{link:function(t,n,r){function i(){n.removeClass("collapse").addClass("collapsing"),e.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(o)}function o(){n.removeClass("collapsing"),n.css({height:"auto"})}function a(){n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing"),e.removeClass(n,"in",{to:{height:"0"}}).then(l)}function l(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}t.$watch(r.collapse,function(e){e?a():i()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,r){r.addGroup(e),e.$watch("isOpen",function(t){t&&r.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,r){e.$watch(function(){return r[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,r,i){e(function(){i.close()},parseInt(r.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,r){var i=r[0],o=r[1];o.$render=function(){t.toggleClass(i.activeClass,angular.equals(o.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){var r=t.hasClass(i.activeClass);(!r||angular.isDefined(n.uncheckable))&&e.$apply(function(){o.$setViewValue(r?null:e.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,r){function i(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(t,n){var r=e.$eval(t);return angular.isDefined(r)?r:n}var l=r[0],s=r[1];s.$render=function(){t.toggleClass(l.activeClass,angular.equals(s.$modelValue,i()))},t.bind(l.toggleEvent,function(){e.$apply(function(){s.$setViewValue(t.hasClass(l.activeClass)?o():i()),s.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$interval","$animate",function(e,t,n){function r(e){if(angular.isUndefined(c[e].index))return c[e];var t;for(c.length,t=0;c.length>t;++t)if(c[t].index==e)return c[t]}function i(){o();var n=+e.interval;!isNaN(n)&&n>0&&(l=t(a,n))}function o(){l&&(t.cancel(l),l=null)}function a(){var t=+e.interval;s&&!isNaN(t)&&t>0?e.next():e.pause()}var l,s,u=this,c=u.slides=e.slides=[],d=-1;u.currentSlide=null;var p=!1;u.select=e.select=function(t,r){function o(){p||(angular.extend(t,{direction:r,active:!0}),angular.extend(u.currentSlide||{},{direction:r,active:!1}),n.enabled()&&!e.noTransition&&t.$element&&(e.$currentTransition=!0,t.$element.one("$animate:close",function(){e.$currentTransition=null})),u.currentSlide=t,d=a,i())}var a=u.indexOfSlide(t);void 0===r&&(r=a>u.getCurrentIndex()?"next":"prev"),t&&t!==u.currentSlide&&o()},e.$on("$destroy",function(){p=!0}),u.getCurrentIndex=function(){return u.currentSlide&&angular.isDefined(u.currentSlide.index)?+u.currentSlide.index:d},u.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:c.indexOf(e)},e.next=function(){var t=(u.getCurrentIndex()+1)%c.length;return e.$currentTransition?void 0:u.select(r(t),"next")},e.prev=function(){var t=0>u.getCurrentIndex()-1?c.length-1:u.getCurrentIndex()-1;return e.$currentTransition?void 0:u.select(r(t),"prev")},e.isActive=function(e){return u.currentSlide===e},e.$watch("interval",i),e.$on("$destroy",o),e.play=function(){s||(s=!0,i())},e.pause=function(){e.noPause||(s=!1,o())},u.addSlide=function(t,n){t.$element=n,c.push(t),1===c.length||t.active?(u.select(c[c.length-1]),1==c.length&&e.play()):t.active=!1},u.removeSlide=function(e){angular.isDefined(e.index)&&c.sort(function(e,t){return+e.index>+t.index});var t=c.indexOf(e);c.splice(t,1),c.length>0&&e.active?u.select(t>=c.length?c[t-1]:c[t]):d>t&&d--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(e,t,n,r){r.addSlide(e,t),e.$on("$destroy",function(){r.removeSlide(e)}),e.$watch("active",function(t){t&&r.select(e)})}}}).animation(".item",["$animate",function(e){return{beforeAddClass:function(t,n,r){if("active"==n&&t.parent()&&!t.parent().scope().noTransition){var i=!1,o=t.isolateScope().direction,a="next"==o?"left":"right";return t.addClass(o),e.addClass(t,a).then(function(){i||t.removeClass(a+" "+o),r()}),function(){i=!0}}r()},beforeRemoveClass:function(t,n,r){if("active"==n&&t.parent()&&!t.parent().scope().noTransition){var i=!1,o=t.isolateScope().direction,a="next"==o?"left":"right";return e.addClass(t,a).then(function(){i||t.removeClass(a),r()}),function(){i=!0}}r()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function n(e){var n=[],r=e.split("");return angular.forEach(o,function(t,i){var o=e.indexOf(i);if(o>-1){e=e.split(""),r[o]="("+t.regex+")",e[o]="$";for(var a=o+1,l=o+i.length;l>a;a++)r[a]="",e[a]="$";e=e.join(""),n.push({index:o,apply:t.apply})}}),{regex:RegExp("^"+r.join("")+"$"),map:t(n,"index")}}function r(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(0===e%4&&0!==e%100||0===e%400):3===t||5===t||8===t||10===t?31>n:!0}var i=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var o={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}}};this.parse=function(t,o,a){if(!angular.isString(t)||!o)return t;o=e.DATETIME_FORMATS[o]||o,o=o.replace(i,"\\$&"),this.parsers[o]||(this.parsers[o]=n(o));var l=this.parsers[o],s=l.regex,u=l.map,c=t.match(s);if(c&&c.length){var d,p;d=a?{year:a.getFullYear(),month:a.getMonth(),date:a.getDate(),hours:a.getHours(),minutes:a.getMinutes(),seconds:a.getSeconds(),milliseconds:a.getMilliseconds()}:{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};for(var f=1,g=c.length;g>f;f++){var h=u[f-1];h.apply&&h.apply.call(d,c[f])}return r(d.year,d.month,d.date)&&(p=new Date(d.year,d.month,d.date,d.hours,d.minutes,d.seconds,d.milliseconds||0)),p}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function r(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),r={top:0,left:0},o=i(t[0]);o!=e[0]&&(r=this.offset(angular.element(o)),r.top+=o.clientTop-o.scrollTop,r.left+=o.clientLeft-o.scrollLeft);var a=t[0].getBoundingClientRect();return{width:a.width||t.prop("offsetWidth"),height:a.height||t.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,r){var i,o,a,l,s=n.split("-"),u=s[0],c=s[1]||"center";i=r?this.offset(e):this.position(e),o=t.prop("offsetWidth"),a=t.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},p={center:function(){return i.top+i.height/2-a/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(u){case"right":l={top:p[c](),left:d[u]()};break;case"left":l={top:p[c](),left:i.left-o};break;case"bottom":l={top:p[u](),left:d[c]()};break;default:l={top:i.top-a,left:d[c]()}}return l}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,r,i,o,a,l){var s=this,u={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,i){s[n]=angular.isDefined(t[n])?8>i?r(t[n])(e.$parent):e.$parent.$eval(t[n]):l[n]}),angular.forEach(["minDate","maxDate"],function(r){t[r]?e.$parent.$watch(n(t[r]),function(e){s[r]=e?new Date(e):null,s.refreshView()}):s[r]=l[r]?new Date(l[r]):null}),e.datepickerMode=e.datepickerMode||l.datepickerMode,e.maxMode=s.maxMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(u.$isEmpty(u.$modelValue)||u.$invalid)&&(s.activeDate=e,s.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===s.compare(t.date,s.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){u=e,u.$render=function(){s.render()}},this.render=function(){if(u.$viewValue){var e=new Date(u.$viewValue),t=!isNaN(e);t?this.activeDate=e:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),u.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=u.$viewValue?new Date(u.$viewValue):null;u.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=u.$viewValue?new Date(u.$viewValue):null;return{date:e,label:a(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&0>this.compare(n,this.minDate)||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===s.minMode){var n=u.$viewValue?new Date(u.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),u.$setViewValue(n),u.$render()}else s.activeDate=t,e.datepickerMode=s.modes[s.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=s.activeDate.getFullYear()+e*(s.step.years||0),n=s.activeDate.getMonth()+e*(s.step.months||0);s.activeDate.setFullYear(t,n,1),s.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===s.maxMode&&1===t||e.datepickerMode===s.minMode&&-1===t||(e.datepickerMode=s.modes[s.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){i(function(){s.element[0].focus()},0,!1)};e.$on("datepicker.focus",c),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),s.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(s.isDisabled(s.activeDate))return;e.select(s.activeDate),c()}else!t.ctrlKey||"up"!==n&&"down"!==n?(s.handleKeyDown(n,t),s.refreshView()):(e.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,r){var i=r[0],o=r[1];o&&i.init(o)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,r,i){function o(e,t){return 1!==t||0!==e%4||0===e%100&&0!==e%400?s[t]:29}function a(e,t){var n=Array(t),r=new Date(e),i=0;for(r.setHours(12);t>i;)n[i++]=new Date(r),r.setDate(r.getDate()+1);return n}function l(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var s=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),r=i.activeDate.getMonth(),o=new Date(n,r,1),s=i.startingDay-o.getDay(),u=s>0?7-s:-s,c=new Date(o);u>0&&c.setDate(-u+1);for(var d=a(c,42),p=0;42>p;p++)d[p]=angular.extend(i.createDateObject(d[p],i.formatDay),{secondary:d[p].getMonth()!==r,uid:t.uniqueId+"-"+p});t.labels=Array(7);for(var f=0;7>f;f++)t.labels[f]={abbr:e(d[f].date,i.formatDayHeader),full:e(d[f].date,"EEEE")};if(t.title=e(i.activeDate,i.formatDayTitle),t.rows=i.split(d,7),t.showWeeks){t.weekNumbers=[];for(var g=(11-i.startingDay)%7,h=t.rows.length,m=0;h>m;m++)t.weekNumbers.push(l(t.rows[m][g].date))}},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.handleKeyDown=function(e){var t=i.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getMonth()+("pageup"===e?-1:1);i.activeDate.setMonth(n,1),t=Math.min(o(i.activeDate.getFullYear(),i.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=o(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(t)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,r,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n=Array(12),r=i.activeDate.getFullYear(),o=0;12>o;o++)n[o]=angular.extend(i.createDateObject(new Date(r,o,1),i.formatMonth),{uid:t.uniqueId+"-"+o});t.title=e(i.activeDate,i.formatMonthTitle),t.rows=i.split(n,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e){var t=i.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getFullYear()+("pageup"===e?-1:1);i.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);i.activeDate.setMonth(t)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,r){function i(e){return parseInt((e-1)/o,10)*o+1}var o=r.yearRange;r.step={years:o},r.element=t,r._refreshView=function(){for(var t=Array(o),n=0,a=i(r.activeDate.getFullYear());o>n;n++)t[n]=angular.extend(r.createDateObject(new Date(a+n,0,1),r.formatYear),{uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[o-1].label].join(" - "),e.rows=r.split(t,5)},r.compare=function(e,t){return e.getFullYear()-t.getFullYear()},r.handleKeyDown=function(e){var t=r.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*r.step.years:"home"===e?t=i(r.activeDate.getFullYear()):"end"===e&&(t=i(r.activeDate.getFullYear())+o-1),r.activeDate.setFullYear(t)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,r,i,o,a){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(l,s,u,c){function d(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function p(e){if(angular.isNumber(e)&&(e=new Date(e)),e){if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=o.parse(e,g,l.date)||new Date(e);return isNaN(t)?void 0:t}return void 0}return null}function f(e,t){var n=e||t;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var r=o.parse(n,g)||new Date(n);return!isNaN(r)}return!1}return!0}var g,h=angular.isDefined(u.closeOnDateSelection)?l.$parent.$eval(u.closeOnDateSelection):a.closeOnDateSelection,m=angular.isDefined(u.datepickerAppendToBody)?l.$parent.$eval(u.datepickerAppendToBody):a.appendToBody;l.showButtonBar=angular.isDefined(u.showButtonBar)?l.$parent.$eval(u.showButtonBar):a.showButtonBar,l.getText=function(e){return l[e+"Text"]||a[e+"Text"]};var v=!1;if(a.html5Types[u.type]?(g=a.html5Types[u.type],v=!0):(g=u.datepickerPopup||a.datepickerPopup,u.$observe("datepickerPopup",function(e){var t=e||a.datepickerPopup;if(t!==g&&(g=t,c.$modelValue=null,!g))throw Error("datepickerPopup must have a date format specified.")})),!g)throw Error("datepickerPopup must have a date format specified.");if(v&&u.datepickerPopup)throw Error("HTML5 date input types do not support custom formats.");var w=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");w.attr({"ng-model":"date","ng-change":"dateSelection()"});var b=angular.element(w.children()[0]);if(v&&"month"==u.type&&(b.attr("datepicker-mode",'"month"'),b.attr("min-mode","month")),u.datepickerOptions){var C=l.$parent.$eval(u.datepickerOptions);C.initDate&&(l.initDate=C.initDate,b.attr("init-date","initDate"),delete C.initDate),angular.forEach(C,function(e,t){b.attr(d(t),e)})}l.watchData={},angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(u[e]){var n=t(u[e]);if(l.$parent.$watch(n,function(t){l.watchData[e]=t}),b.attr(d(e),"watchData."+e),"datepickerMode"===e){var r=n.assign;l.$watch("watchData."+e,function(e,t){e!==t&&r(l.$parent,e)})}}}),u.dateDisabled&&b.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),u.showWeeks&&b.attr("show-weeks",u.showWeeks),u.customClass&&b.attr("custom-class","customClass({ date: date, mode: mode })"),v?c.$formatters.push(function(e){return l.date=e,e}):(c.$$parserName="date",c.$validators.date=f,c.$parsers.unshift(p),c.$formatters.push(function(e){return l.date=e,c.$isEmpty(e)?e:i(e,g)})),l.dateSelection=function(e){angular.isDefined(e)&&(l.date=e);var t=l.date?i(l.date,g):"";s.val(t),c.$setViewValue(t),h&&(l.isOpen=!1,s[0].focus())},c.$viewChangeListeners.push(function(){l.date=o.parse(c.$viewValue,g,l.date)||new Date(c.$viewValue)});var y=function(e){l.isOpen&&e.target!==s[0]&&l.$apply(function(){l.isOpen=!1})},$=function(e){l.keydown(e)};s.bind("keydown",$),l.keydown=function(e){27===e.which?(e.preventDefault(),l.isOpen&&e.stopPropagation(),l.close()):40!==e.which||l.isOpen||(l.isOpen=!0)},l.$watch("isOpen",function(e){e?(l.$broadcast("datepicker.focus"),l.position=m?r.offset(s):r.position(s),l.position.top=l.position.top+s.prop("offsetHeight"),n.bind("click",y)):n.unbind("click",y)}),l.select=function(e){if("today"===e){var t=new Date;angular.isDate(l.date)?(e=new Date(l.date),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}l.dateSelection(e)},l.close=function(){l.isOpen=!1,s[0].focus()};var x=e(w)(l);w.remove(),m?n.find("body").append(x):s.after(x),l.$on("$destroy",function(){x.remove(),s.unbind("keydown",$),n.unbind("click",y)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",r),e.bind("keydown",i)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",r),e.unbind("keydown",i))};var r=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var r=n.getToggleElement();if(!(e&&r&&r[0].contains(e.target))){var i=n.getElement();e&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},i=function(e){27===e.which&&(n.focusToggleElement(),r())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document",function(e,t,n,r,i,o,a,l){var s,u=this,c=e.$new(),d=r.openClass,p=angular.noop,f=t.onToggle?n(t.onToggle):angular.noop,g=!1;this.init=function(r){u.$element=r,t.isOpen&&(s=n(t.isOpen),p=s.assign,e.$watch(s,function(e){c.isOpen=!!e})),g=angular.isDefined(t.dropdownAppendToBody),g&&u.dropdownMenu&&(l.find("body").append(u.dropdownMenu),r.on("$destroy",function(){u.dropdownMenu.remove()}))},this.toggle=function(e){return c.isOpen=arguments.length?!!e:!c.isOpen},this.isOpen=function(){return c.isOpen},c.getToggleElement=function(){return u.toggleElement},c.getAutoClose=function(){return t.autoClose||"always"},c.getElement=function(){return u.$element},c.focusToggleElement=function(){u.toggleElement&&u.toggleElement[0].focus()},c.$watch("isOpen",function(t,n){if(g&&u.dropdownMenu){var r=a.positionElements(u.$element,u.dropdownMenu,"bottom-left",!0);u.dropdownMenu.css({top:r.top+"px",left:r.left+"px",display:t?"block":"none"})}o[t?"addClass":"removeClass"](u.$element,d),t?(c.focusToggleElement(),i.open(c)):i.close(c),p(e,t),angular.isDefined(t)&&t!==n&&f(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){c.isOpen=!1}),e.$on("$destroy",function(){c.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,r){r.init(t)}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(e,t,n,r){r&&(r.dropdownMenu=t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,r){if(r){r.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){r.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;e.length>n;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;e.length>n;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;e.length>r;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){function t(t){t.animate=!1,e(function(){t.animate=!0})}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,n){return e.addClass(n.backdropClass),t}}}]).directive("modalWindow",["$modalStack","$q",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,r,i){r.addClass(i.windowClass||""),n.size=i.size,n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},n.$isRendered=!0;var o=t.defer();i.$observe("modalRender",function(e){"true"==e&&o.resolve()}),o.promise.then(function(){n.animate=!0;var t=r[0].querySelectorAll("[autofocus]");t.length?t[0].focus():r[0].focus();var i=e.getTop();i&&e.modalRendered(i.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,r,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,r,i,o){function a(){for(var e=-1,t=g.keys(),n=0;t.length>n;n++)g.get(t[n]).value.backdrop&&(e=n);return e}function l(e){var t=n.find("body").eq(0),r=g.get(e).value;g.remove(e),u(r.modalDomEl,r.modalScope,function(){t.toggleClass(f,g.length()>0),s()})}function s(){if(d&&-1==a()){var e=p;u(d,p,function(){e=null}),d=void 0,p=void 0}}function u(n,r,o){function a(){a.done||(a.done=!0,n.remove(),r.$destroy(),o&&o())}r.animate=!1,n.attr("modal-animation")&&e.enabled()?n.one("$animate:close",function(){i.$evalAsync(a)}):t(a)}function c(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var d,p,f="modal-open",g=o.createNew(),h={};return i.$watch(a,function(e){p&&(p.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=g.top(),t&&t.value.keyboard&&(e.preventDefault(),i.$apply(function(){h.dismiss(t.key,"escape key press")})))}),h.open=function(e,t){var o=n[0].activeElement;g.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var l=n.find("body").eq(0),s=a();if(s>=0&&!d){p=i.$new(!0),p.index=s;var u=angular.element('<div modal-backdrop="modal-backdrop"></div>');u.attr("backdrop-class",t.backdropClass),t.animation&&u.attr("modal-animation","true"),d=r(u)(p),l.append(d)}var c=angular.element('<div modal-window="modal-window"></div>');c.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:g.length()-1,animate:"animate"}).html(t.content),t.animation&&c.attr("modal-animation","true");var h=r(c)(t.scope);g.top().value.modalDomEl=h,g.top().value.modalOpener=o,l.append(h),l.addClass(f)},h.close=function(e,t){var n=g.get(e);return n&&c(n,t,!0)?(n.value.deferred.resolve(t),l(e),n.value.modalOpener.focus(),!0):!n},h.dismiss=function(e,t){var n=g.get(e);return n&&c(n,t,!1)?(n.value.deferred.reject(t),l(e),n.value.modalOpener.focus(),!0):!n},h.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},h.getTop=function(){return g.top()},h.modalRendered=function(e){var t=g.get(e);t&&t.value.renderDeferred.resolve()},h}]).provider("$modal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,n,r,i,o,a){function l(e){return e.template?r.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function s(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(r.when(t.invoke(e)))}),n}var u={};
return u.open=function(t){var i=r.defer(),u=r.defer(),c=r.defer(),d={result:i.promise,opened:u.promise,rendered:c.promise,close:function(e){return a.close(d,e)},dismiss:function(e){return a.dismiss(d,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw Error("One of template or templateUrl options is required.");var p=r.all([l(t)].concat(s(t.resolve)));return p.then(function(e){var r=(t.scope||n).$new();r.$close=d.close,r.$dismiss=d.dismiss;var l,s={},u=1;t.controller&&(s.$scope=r,s.$modalInstance=d,angular.forEach(t.resolve,function(t,n){s[n]=e[u++]}),l=o(t.controller,s),t.controllerAs&&(r[t.controllerAs]=l)),a.open(d,{scope:r,deferred:i,renderDeferred:c,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){i.reject(e)}),p.then(function(){u.resolve(!0)},function(e){u.reject(e)}),d},u}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var r=this,i={$setViewValue:angular.noop},o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(a,l){i=a,this.config=l,i.$render=function(){r.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){r.itemsPerPage=parseInt(t,10),e.totalPages=r.calculateTotalPages()}):this.itemsPerPage=l.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=r.calculateTotalPages()}),e.$watch("totalPages",function(t){o(e.$parent,t),e.page>t?e.selectPage(t):i.$render()})},this.calculateTotalPages=function(){var t=1>this.itemsPerPage?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t,n){e.page!==t&&t>0&&e.totalPages>=t&&(n&&n.target&&n.target.blur(),i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||r.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,r,i,o){function a(e,t,n){return{number:e,text:t,active:n}}function l(e,t){var n=[],r=1,i=t,o=angular.isDefined(c)&&t>c;o&&(d?(r=Math.max(e-Math.floor(c/2),1),i=r+c-1,i>t&&(i=t,r=i-c+1)):(r=(Math.ceil(e/c)-1)*c+1,i=Math.min(r+c-1,t)));for(var l=r;i>=l;l++){var s=a(l,l,l===e);n.push(s)}if(o&&!d){if(r>1){var u=a(r-1,"...",!1);n.unshift(u)}if(t>i){var p=a(i+1,"...",!1);n.push(p)}}return n}var s=o[0],u=o[1];if(u){var c=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,d=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,s.init(u,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){c=parseInt(e,10),s.render()});var p=s.render;s.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=l(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,r,i){var o=i[0],a=i[1];a&&(t.align=angular.isDefined(r.align)?t.$parent.$eval(r.align):e.align,o.init(a,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur"},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(i,o,a,l,s,u){return function(i,c,d,p){function f(e){var t=e||p.trigger||d,r=n[t]||t;return{show:t,hide:r}}p=angular.extend({},t,r,p);var g=e(i),h=u.startSymbol(),m=u.endSymbol(),v="<div "+g+'-popup title="'+h+"title"+m+'" '+(p.useContentExp?'content-exp="contentExp()" ':'content="'+h+"content"+m+'" ')+'placement="'+h+"placement"+m+'" popup-class="'+h+"popupClass"+m+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var e=o(v);return function(t,n,r){function o(){A.isOpen?d():u()}function u(){(!k||t.$eval(r[c+"Enable"]))&&(w(),A.popupDelay?T||(T=a(g,A.popupDelay,!1),T.then(function(e){e()})):g()())}function d(){t.$apply(function(){h()})}function g(){return T=null,E&&(a.cancel(E),E=null),(p.useContentExp?A.contentExp():A.content)?(m(),x.css({top:0,left:0,display:"block"}),A.$digest(),P(),A.isOpen=!0,A.$apply(),P):angular.noop}function h(){A.isOpen=!1,a.cancel(T),T=null,A.animation?E||(E=a(v,500)):v()}function m(){x&&v(),S=A.$new(),x=e(S,function(e){R?l.find("body").append(e):n.after(e)}),S.$watch(function(){a(P,0,!1)}),p.useContentExp&&S.$watch("contentExp()",function(e){!e&&A.isOpen&&h()})}function v(){E=null,x&&(x.remove(),x=null),S&&(S.$destroy(),S=null)}function w(){b(),C(),y()}function b(){A.popupClass=r[c+"Class"]}function C(){var e=r[c+"Placement"];A.placement=angular.isDefined(e)?e:p.placement}function y(){var e=r[c+"PopupDelay"],t=parseInt(e,10);A.popupDelay=isNaN(t)?p.popupDelay:t}function $(){var e=r[c+"Trigger"];M(),D=f(e),D.show===D.hide?n.bind(D.show,o):(n.bind(D.show,u),n.bind(D.hide,d))}var x,S,E,T,R=angular.isDefined(p.appendToBody)?p.appendToBody:!1,D=f(void 0),k=angular.isDefined(r[c+"Enable"]),A=t.$new(!0),P=function(){if(x){var e=s.positionElements(n,x,A.placement,R);e.top+="px",e.left+="px",x.css(e)}};A.origScope=t,A.isOpen=!1,A.contentExp=function(){return t.$eval(r[i])},p.useContentExp||r.$observe(i,function(e){A.content=e,!e&&A.isOpen&&h()}),r.$observe("disabled",function(e){e&&A.isOpen&&h()}),r.$observe(c+"Title",function(e){A.title=e});var M=function(){n.unbind(D.show,u),n.unbind(D.hide,d)};$();var I=t.$eval(r[c+"Animation"]);A.animation=angular.isDefined(I)?!!I:p.animation;var O=t.$eval(r[c+"AppendToBody"]);R=angular.isDefined(O)?O:R,R&&t.$on("$locationChangeSuccess",function(){A.isOpen&&h()}),t.$on("$destroy",function(){a.cancel(E),a.cancel(T),M(),v(),A=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,r){return{link:function(i,o,a){var l,s,u,c=i.$eval(a.tooltipTemplateTranscludeScope),d=0,p=function(){s&&(s.remove(),s=null),l&&(l.$destroy(),l=null),u&&(e.leave(u).then(function(){s=null}),s=u,u=null)};i.$watch(t.parseAsResourceUrl(a.tooltipTemplateTransclude),function(t){var a=++d;t?(r(t,!0).then(function(r){if(a===d){var i=c.$new(),s=r,f=n(s)(i,function(t){p(),e.enter(t,o)});l=i,u=f,l.$emit("$includeContentLoaded",t)}},function(){a===d&&(p(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):p()}),i.$on("$destroy",p)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(e,t,n){return t||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var r=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n){i||n.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(n){t.percent=+(100*n/e.max).toFixed(2)}),t.$on("$destroy",function(){n=null,r.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var r={$setViewValue:angular.noop};this.init=function(i){r=i,r.$render=this.render,r.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var o=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&e.range.length>=t&&(r.$setViewValue(t),r.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},t.addTab=function(e){n.push(e),1===n.length&&e.active!==!1?e.active=!0:e.active?t.select(e):e.active=!1},t.removeTab=function(e){var i=n.indexOf(e);if(e.active&&n.length>1&&!r){var o=i==n.length-1?i-1:i+1;t.select(n[o])}n.splice(i,1)};var r;e.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse","$log",function(e,t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(n,r,i){return function(n,r,o,a){n.$watch("active",function(e){e&&a.select(n)}),n.disabled=!1,o.disable&&n.$parent.$watch(e(o.disable),function(e){n.disabled=!!e}),o.disabled&&(t.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(e(o.disabled),function(e){n.disabled=!!e})),n.select=function(){n.disabled||(n.active=!0)},a.addTab(n),n.$on("$destroy",function(){a.removeTab(n)}),n.$transcludeFn=i}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,r){var i=t.$eval(r.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,r,i,o){function a(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===h[1]&&(t+=12)),t):void 0}function l(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function s(e){return angular.isDefined(e)&&2>(""+e).length?"0"+e:""+e}function u(e){c(),g.$setViewValue(new Date(f)),d(e)}function c(){g.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function d(t){var n=f.getHours(),r=f.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:s(n),"m"!==t&&(e.minutes=s(r)),e.meridian=12>f.getHours()?h[0]:h[1]}function p(e){var t=new Date(f.getTime()+6e4*e);f.setHours(t.getHours(),t.getMinutes()),u()}var f=new Date,g={$setViewValue:angular.noop},h=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):o.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,r){g=n,g.$render=this.render,g.$formatters.unshift(function(e){return e?new Date(e):null});var i=r.eq(0),a=r.eq(1),l=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):o.mousewheel;l&&this.setupMousewheelEvents(i,a);var s=angular.isDefined(t.arrowkeys)?e.$parent.$eval(t.arrowkeys):o.arrowkeys;s&&this.setupArrowkeyEvents(i,a),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):o.readonlyInput,this.setupInputEvents(i,a)};var m=o.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){m=parseInt(e,10)});var v=o.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){v=parseInt(e,10)}),e.showMeridian=o.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,g.$error.time){var n=a(),r=l();angular.isDefined(n)&&angular.isDefined(r)&&(f.setHours(n),u())}else d()}),this.setupMousewheelEvents=function(t,n){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())}),n.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var r=function(t,n){g.$setViewValue(null),g.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=a();angular.isDefined(e)?(f.setHours(e),u("h")):r(!0)},t.bind("blur",function(){!e.invalidHours&&10>e.hours&&e.$apply(function(){e.hours=s(e.hours)})}),e.updateMinutes=function(){var e=l();angular.isDefined(e)?(f.setMinutes(e),u("m")):r(void 0,!0)},n.bind("blur",function(){!e.invalidMinutes&&10>e.minutes&&e.$apply(function(){e.minutes=s(e.minutes)})})},this.render=function(){var e=g.$viewValue;isNaN(e)?(g.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(f=e),c(),d())},e.incrementHours=function(){p(60*m)},e.decrementHours=function(){p(60*-m)},e.incrementMinutes=function(){p(v)},e.decrementMinutes=function(){p(-v)},e.toggleMeridian=function(){p(720*(12>f.getHours()?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,r){var i=r[0],o=r[1];o&&i.init(o,t.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(e,t,n,r,i){function o(e){for(var t in e)if(void 0!==l.style[t])return e[t]}i||r.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var a=function(r,i,o){o=o||{};var l=e.defer(),s=a[o.animation?"animationEndEventName":"transitionEndEventName"],u=function(){n.$apply(function(){r.unbind(s,u),l.resolve(r)})};return s&&r.bind(s,u),t(function(){angular.isString(i)?r.addClass(i):angular.isFunction(i)?i(r):angular.isObject(i)&&r.css(i),s||l.resolve(r)}),l.promise.cancel=function(){s&&r.unbind(s,u),l.reject("Transition cancelled")},l.promise},l=document.createElement("trans"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},u={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return a.transitionEndEventName=o(s),a.animationEndEventName=o(u),a}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(t);if(!r)throw Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,r,i,o,a){var l=[9,13,27,38,40];return{require:"ngModel",link:function(s,u,c,d){var p,f=s.$eval(c.typeaheadMinLength)||1,g=s.$eval(c.typeaheadWaitMs)||0,h=s.$eval(c.typeaheadEditable)!==!1,m=t(c.typeaheadLoading).assign||angular.noop,v=t(c.typeaheadOnSelect),w=c.typeaheadInputFormatter?t(c.typeaheadInputFormatter):void 0,b=c.typeaheadAppendToBody?s.$eval(c.typeaheadAppendToBody):!1,C=s.$eval(c.typeaheadFocusFirst)!==!1,y=t(c.ngModel).assign,$=a.parse(c.typeahead),x=s.$new();s.$on("$destroy",function(){x.$destroy()});var S="typeahead-"+x.$id+"-"+Math.floor(1e4*Math.random());u.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":S});var E=angular.element("<div typeahead-popup></div>");E.attr({id:S,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&E.attr("template-url",c.typeaheadTemplateUrl);var T=function(){x.matches=[],x.activeIdx=-1,u.attr("aria-expanded",!1)},R=function(e){return S+"-option-"+e};x.$watch("activeIdx",function(e){0>e?u.removeAttr("aria-activedescendant"):u.attr("aria-activedescendant",R(e))});var D=function(e){var t={$viewValue:e};m(s,!0),n.when($.source(s,t)).then(function(n){var r=e===d.$viewValue;if(r&&p)if(n&&n.length>0){x.activeIdx=C?0:-1,x.matches.length=0;for(var i=0;n.length>i;i++)t[$.itemName]=n[i],x.matches.push({id:R(i),label:$.viewMapper(x,t),model:n[i]});x.query=e,x.position=b?o.offset(u):o.position(u),x.position.top=x.position.top+u.prop("offsetHeight"),u.attr("aria-expanded",!0)}else T();r&&m(s,!1)},function(){T(),m(s,!1)})};T(),x.query=void 0;var k,A=function(e){k=r(function(){D(e)},g)},P=function(){k&&r.cancel(k)};d.$parsers.unshift(function(e){return p=!0,e&&e.length>=f?g>0?(P(),A(e)):D(e):(m(s,!1),P(),T()),h?e:e?void d.$setValidity("editable",!1):(d.$setValidity("editable",!0),e)}),d.$formatters.push(function(e){var t,n,r={};return h||d.$setValidity("editable",!0),w?(r.$model=e,w(s,r)):(r[$.itemName]=e,t=$.viewMapper(s,r),r[$.itemName]=void 0,n=$.viewMapper(s,r),t!==n?t:e)}),x.select=function(e){var t,n,i={};i[$.itemName]=n=x.matches[e].model,t=$.modelMapper(s,i),y(s,t),d.$setValidity("editable",!0),d.$setValidity("parse",!0),v(s,{$item:n,$model:t,$label:$.viewMapper(s,i)}),T(),r(function(){u[0].focus()},0,!1)},u.bind("keydown",function(e){0!==x.matches.length&&-1!==l.indexOf(e.which)&&(-1!=x.activeIdx||13!==e.which&&9!==e.which)&&(e.preventDefault(),40===e.which?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):38===e.which?(x.activeIdx=(x.activeIdx>0?x.activeIdx:x.matches.length)-1,x.$digest()):13===e.which||9===e.which?x.$apply(function(){x.select(x.activeIdx)}):27===e.which&&(e.stopPropagation(),T(),x.$digest()))}),u.bind("blur",function(){p=!1});var M=function(e){u[0]!==e.target&&(T(),x.$digest())};i.bind("click",M),s.$on("$destroy",function(){i.unbind("click",M),b&&I.remove(),E.remove()});var I=e(E)(x);b?i.find("body").append(I):u.after(I)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(r,i,o){var a=n(o.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";e(a).then(function(e){t(e.trim())(r,function(e){i.replaceWith(e)})})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?(""+t).replace(RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href="javascript:void(0)" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:\'index\' track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}" ng-class="dt.customClass">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n	ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1, $event)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1, $event)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1, $event)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1, $event)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages, $event)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-window.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-window.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen, fade: animation }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" tooltip-template-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.module("ui.alias",[]).config(["$compileProvider","uiAliasConfig",function(e,t){t=t||{},angular.forEach(t,function(t,n){angular.isString(t)&&(t={replace:!0,template:t}),e.directive(n,function(){return t})})}]),angular.module("ui.event",[]).directive("uiEvent",["$parse",function(e){return function(t,n,r){var i=t.$eval(r.uiEvent);angular.forEach(i,function(r,i){var o=e(r);n.bind(i,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),o(t,{$event:e,$params:n}),t.$$phase||t.$apply()})})}}]),angular.module("ui.format",[]).filter("format",function(){return function(e,t){var n=e;if(angular.isString(n)&&void 0!==t)if(angular.isArray(t)||angular.isObject(t)||(t=[t]),angular.isArray(t)){var r=t.length,i=function(e,n){return n=parseInt(n,10),n>=0&&r>n?t[n]:e};n=n.replace(/\$([0-9]+)/g,i)}else angular.forEach(t,function(e,t){n=n.split(":"+t).join(e)});return n}}),angular.module("ui.highlight",[]).filter("highlight",function(){return function(e,t,n){return t||angular.isNumber(t)?(e=""+e,t=""+t,n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.include",[]).directive("uiInclude",["$http","$templateCache","$anchorScroll","$compile",function(e,t,n,r){return{restrict:"ECA",terminal:!0,compile:function(i,o){var a=o.uiInclude||o.src,l=o.fragment||"",s=o.onload||"",u=o.autoscroll;return function(i,o){function c(){var c=++p,g=i.$eval(a),h=i.$eval(l);g?e.get(g,{cache:t}).success(function(e){if(c===p){d&&d.$destroy(),d=i.$new();var t;t=h?angular.element("<div/>").html(e).find(h):angular.element("<div/>").html(e).contents(),o.html(t),r(t)(d),!angular.isDefined(u)||u&&!i.$eval(u)||n(),d.$emit("$includeContentLoaded"),i.$eval(s)}}).error(function(){c===p&&f()}):f()}var d,p=0,f=function(){d&&(d.$destroy(),d=null),o.html("")};i.$watch(l,c),i.$watch(a,c)}}}}]),angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){return{compile:function(e,t){return t.type&&"checkbox"===t.type.toLowerCase()?function(e,t,n){e.$watch(n.uiIndeterminate,function(e){t[0].indeterminate=!!e})}:angular.noop}}}]),angular.module("ui.inflector",[]).filter("inflector",function(){function e(e){return e.replace(/^([a-z])|\s+([a-z])/g,function(e){return e.toUpperCase()})}function t(e,t){return e.replace(/[A-Z]/g,function(e){return t+e})}var n={humanize:function(n){return e(t(n," ").split("_").join(" "))},underscore:function(e){return e.substr(0,1).toLowerCase()+t(e.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(t){return t=t.substr(0,1).toLowerCase()+e(t.split("_").join(" ")).substr(1).split(" ").join("")}};return function(e,t){return t!==!1&&angular.isString(e)?(t=t||"humanize",n[t](e)):e}}),angular.module("ui.jq",[]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","$timeout",function(e,t){return{restrict:"A",compile:function(n,r){if(!angular.isFunction(n[r.uiJq]))throw Error('ui-jq: The "'+r.uiJq+'" function does not exist');var i=e&&e[r.uiJq];return function(e,n,r){function o(){t(function(){n[r.uiJq].apply(n,a)},0,!1)}var a=[];r.uiOptions?(a=e.$eval("["+r.uiOptions+"]"),angular.isObject(i)&&angular.isObject(a[0])&&(a[0]=angular.extend({},i,a[0]))):i&&(a=[i]),r.ngModel&&n.is("select,input,textarea")&&n.bind("change",function(){n.trigger("input")}),r.uiRefresh&&e.$watch(r.uiRefresh,function(){o()}),o()}}}}]),angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(e){var t={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(r,i,o,a){var l,s=[];l=i.$eval(a["ui"+n(r)]),angular.forEach(l,function(t,n){var r,i;i=e(t),angular.forEach(n.split(" "),function(e){r={expression:i,keys:{}},angular.forEach(e.split("-"),function(e){r.keys[e]=!0}),s.push(r)})}),o.bind(r,function(e){var n=!(!e.metaKey||e.ctrlKey),o=!!e.altKey,a=!!e.ctrlKey,l=!!e.shiftKey,u=e.keyCode;"keypress"===r&&!l&&u>=97&&122>=u&&(u-=32),angular.forEach(s,function(r){var s=r.keys[t[u]]||r.keys[""+u],c=!!r.keys.meta,d=!!r.keys.alt,p=!!r.keys.ctrl,f=!!r.keys.shift;s&&c===n&&d===o&&p===a&&f===l&&i.$apply(function(){r.expression(i,{$event:e})})})})}}]),angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(e){return{link:function(t,n,r){e("keydown",t,n,r)}}}]),angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(e){return{link:function(t,n,r){e("keypress",t,n,r)}}}]),angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(e){return{link:function(t,n,r){e("keyup",t,n,r)}}}]),angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/}}).directive("uiMask",["uiMaskConfig",function(e){return{priority:100,require:"ngModel",restrict:"A",compile:function(){var t=e;return function(e,n,r,i){function o(e){return angular.isDefined(e)?(w(e),L?(c(),d(),!0):u()):u()}function a(e){angular.isDefined(e)&&(k=e,L&&$())}function l(e){return L?(M=g(e||""),O=f(M),i.$setValidity("mask",O),O&&M.length?h(M):void 0):e}function s(e){return L?(M=g(e||""),O=f(M),i.$viewValue=M.length?h(M):"",i.$setValidity("mask",O),""===M&&void 0!==i.$error.required&&i.$setValidity("required",!1),O?M:void 0):e}function u(){return L=!1,p(),angular.isDefined(j)?n.attr("placeholder",j):n.removeAttr("placeholder"),angular.isDefined(W)?n.attr("maxlength",W):n.removeAttr("maxlength"),n.val(i.$modelValue),i.$viewValue=i.$modelValue,!1}function c(){M=N=g(i.$modelValue||""),I=F=h(M),O=f(M);var e=O&&M.length?I:"";r.maxlength&&n.attr("maxlength",2*R[R.length-1]),n.attr("placeholder",k),n.val(e),i.$viewValue=e}function d(){V||(n.bind("blur",b),n.bind("mousedown mouseup",C),n.bind("input keyup click focus",$),V=!0)}function p(){V&&(n.unbind("blur",b),n.unbind("mousedown",C),n.unbind("mouseup",C),n.unbind("input",$),n.unbind("keyup",$),n.unbind("click",$),n.unbind("focus",$),V=!1)}function f(e){return e.length?e.length>=P:!0}function g(e){var t="",n=D.slice();return e=""+e,angular.forEach(A,function(t){e=e.replace(t,"")}),angular.forEach(e.split(""),function(e){n.length&&n[0].test(e)&&(t+=e,n.shift())}),t}function h(e){var t="",n=R.slice();return angular.forEach(k.split(""),function(r,i){e.length&&i===n[0]?(t+=e.charAt(0)||"_",e=e.substr(1),n.shift()):t+=r}),t}function m(e){var t=r.placeholder;return t!==void 0&&t[e]?t[e]:"_"}function v(){return k.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_")}function w(e){var t=0;if(R=[],D=[],k="","string"==typeof e){P=0;var n=!1,r=e.split("");angular.forEach(r,function(e,r){U.maskDefinitions[e]?(R.push(t),k+=m(r),D.push(U.maskDefinitions[e]),t++,n||P++):"?"===e?n=!0:(k+=e,t++)})}R.push(R.slice().pop()+1),A=v(),L=R.length>1?!0:!1}function b(){G=0,H=0,O&&0!==M.length||(I="",n.val(""),e.$apply(function(){i.$setViewValue("")}))}function C(e){"mousedown"===e.type?n.bind("mouseout",y):n.unbind("mouseout",y)}function y(){H=T(this),n.unbind("mouseout",y)}function $(t){t=t||{};var r=t.which,o=t.type;if(16!==r&&91!==r){var a,l=n.val(),s=F,u=g(l),c=N,d=!1,p=S(this)||0,f=G||0,m=p-f,v=R[0],w=R[u.length]||R.slice().shift(),b=H||0,C=T(this)>0,y=b>0,$=l.length>s.length||b&&l.length>s.length-b,D=l.length<s.length||b&&l.length===s.length-b,k=r>=37&&40>=r&&t.shiftKey,A=37===r,P=8===r||"keyup"!==o&&D&&-1===m,M=46===r||"keyup"!==o&&D&&0===m&&!y,I=(A||P||"click"===o)&&p>v;if(H=T(this),!k&&(!C||"click"!==o&&"keyup"!==o)){if("input"===o&&D&&!y&&u===c){for(;P&&p>v&&!x(p);)p--;for(;M&&w>p&&-1===R.indexOf(p);)p++;var O=R.indexOf(p);u=u.substring(0,O)+u.substring(O+1),d=!0}for(a=h(u),F=a,N=u,n.val(a),d&&e.$apply(function(){i.$setViewValue(u)}),$&&v>=p&&(p=v+1),I&&p--,p=p>w?w:v>p?v:p;!x(p)&&p>v&&w>p;)p+=I?-1:1;(I&&w>p||$&&!x(f))&&p++,G=p,E(this,p)}}}function x(e){return R.indexOf(e)>-1}function S(e){if(!e)return 0;if(void 0!==e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();return t.moveStart("character",-e.value.length),t.text.length}return 0}function E(e,t){if(!e)return 0;if(0!==e.offsetWidth&&0!==e.offsetHeight)if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}function T(e){return e?void 0!==e.selectionStart?e.selectionEnd-e.selectionStart:document.selection?document.selection.createRange().text.length:0:0}var R,D,k,A,P,M,I,O,F,N,G,H,L=!1,V=!1,j=r.placeholder,W=r.maxlength,U={};r.uiOptions?(U=e.$eval("["+r.uiOptions+"]"),angular.isObject(U[0])&&(U=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]?angular.extend(t[n],e[n]):t[n]=angular.copy(e[n]));return t}(t,U[0]))):U=t,r.$observe("uiMask",o),r.$observe("placeholder",a),i.$formatters.push(l),i.$parsers.push(s),n.bind("mousedown mouseup",C),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>1&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&1/0!==r&&r!==-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);n>i;i++)if(i in t&&t[i]===e)return i;return-1})}}}}]),angular.module("ui.reset",[]).value("uiResetConfig",null).directive("uiReset",["uiResetConfig",function(e){var t=null;return void 0!==e&&(t=e),{require:"ngModel",link:function(e,n,r,i){var o;o=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(o),o.bind("click",function(n){n.preventDefault(),e.$apply(function(){i.$setViewValue(r.uiReset?e.$eval(r.uiReset):t),i.$render()})})}}}]),angular.module("ui.route",[]).directive("uiRoute",["$location","$parse",function(e,t){return{restrict:"AC",scope:!0,compile:function(n,r){var i;if(r.uiRoute)i="uiRoute";else if(r.ngHref)i="ngHref";else{if(!r.href)throw Error("uiRoute missing a route or href property on "+n[0]);i="href"}return function(n,r,o){function a(t){var r=t.indexOf("#");r>-1&&(t=t.substr(r+1)),(u=function(){s(n,e.path().indexOf(t)>-1)})()}function l(t){var r=t.indexOf("#");r>-1&&(t=t.substr(r+1)),(u=function(){var r=RegExp("^"+t+"$",["i"]);s(n,r.test(e.path()))})()}var s=t(o.ngModel||o.routeModel||"$uiRoute").assign,u=angular.noop;switch(i){case"uiRoute":o.uiRoute?l(o.uiRoute):o.$observe("uiRoute",l);break;case"ngHref":o.ngHref?a(o.ngHref):o.$observe("ngHref",a);break;case"href":a(o.href)}n.$on("$routeChangeSuccess",function(){u()}),n.$on("$stateChangeSuccess",function(){u()})}}}}]),angular.module("ui.scroll.jqlite",["ui.scroll"]).service("jqLiteExtras",["$log","$window",function(e,t){return{registerFor:function(e){var n,r,i,o,a,l,s;return r=angular.element.prototype.css,e.prototype.css=function(e,t){var n,i;return i=this,n=i[0],n&&3!==n.nodeType&&8!==n.nodeType&&n.style?r.call(i,e,t):void 0},l=function(e){return e&&e.document&&e.location&&e.alert&&e.setInterval},s=function(e,t,n){var r,i,o,a,s;return r=e[0],s={top:["scrollTop","pageYOffset","scrollLeft"],left:["scrollLeft","pageXOffset","scrollTop"]}[t],i=s[0],a=s[1],o=s[2],l(r)?angular.isDefined(n)?r.scrollTo(e[o].call(e),n):a in r?r[a]:r.document.documentElement[i]:angular.isDefined(n)?r[i]=n:r[i]},t.getComputedStyle?(o=function(e){return t.getComputedStyle(e,null)},n=function(e,t){return parseFloat(t)}):(o=function(e){return e.currentStyle},n=function(e,t){var n,r,i,o,a,l,s;return n=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,o=RegExp("^("+n+")(?!px)[a-z%]+$","i"),o.test(t)?(s=e.style,r=s.left,a=e.runtimeStyle,l=a&&a.left,a&&(a.left=s.left),s.left=t,i=s.pixelLeft,s.left=r,l&&(a.left=l),i):parseFloat(t)}),i=function(e,t){var r,i,a,s,u,c,d,p,f,g,h,m,v;return l(e)?(r=document.documentElement[{height:"clientHeight",width:"clientWidth"}[t]],{base:r,padding:0,border:0,margin:0}):(v={width:[e.offsetWidth,"Left","Right"],height:[e.offsetHeight,"Top","Bottom"]}[t],r=v[0],d=v[1],p=v[2],c=o(e),h=n(e,c["padding"+d])||0,m=n(e,c["padding"+p])||0,i=n(e,c["border"+d+"Width"])||0,a=n(e,c["border"+p+"Width"])||0,s=c["margin"+d],u=c["margin"+p],f=n(e,s)||0,g=n(e,u)||0,{base:r,padding:h+m,border:i+a,margin:f+g})},a=function(e,t,n){var r,a,l;return a=i(e,t),a.base>0?{base:a.base-a.padding-a.border,outer:a.base,outerfull:a.base+a.margin}[n]:(r=o(e),l=r[t],(0>l||null===l)&&(l=e.style[t]||0),l=parseFloat(l)||0,{base:l-a.padding-a.border,outer:l,outerfull:l+a.padding+a.border+a.margin}[n])},angular.forEach({before:function(e){var t,n,r,i,o,a,l;if(o=this,n=o[0],i=o.parent(),t=i.contents(),t[0]===n)return i.prepend(e);for(r=a=1,l=t.length-1;l>=1?l>=a:a>=l;r=l>=1?++a:--a)if(t[r]===n)return void angular.element(t[r-1]).after(e);throw Error("invalid DOM structure "+n.outerHTML)},height:function(e){var t;return t=this,angular.isDefined(e)?(angular.isNumber(e)&&(e+="px"),r.call(t,"height",e)):a(this[0],"height","base")},outerHeight:function(e){return a(this[0],"height",e?"outerfull":"outer")},offset:function(e){var t,n,r,i,o,a;return o=this,arguments.length?void 0===e?o:e:(t={top:0,left:0},i=o[0],(n=i&&i.ownerDocument)?(r=n.documentElement,i.getBoundingClientRect&&(t=i.getBoundingClientRect()),a=n.defaultView||n.parentWindow,{top:t.top+(a.pageYOffset||r.scrollTop)-(r.clientTop||0),left:t.left+(a.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}):void 0)},scrollTop:function(e){return s(this,"top",e)},scrollLeft:function(e){return s(this,"left",e)}},function(t,n){return e.prototype[n]?void 0:e.prototype[n]=t})}}}]).run(["$log","$window","jqLiteExtras",function(e,t,n){return t.jQuery?void 0:n.registerFor(angular.element)}]),angular.module("ui.scroll",[]).directive("ngScrollViewport",["$log",function(){return{controller:["$scope","$element",function(e,t){return t}]}}]).directive("ngScroll",["$log","$injector","$rootScope","$timeout",function(e,t,n,r){return{require:["?^ngScrollViewport"],transclude:"element",priority:1e3,terminal:!0,compile:function(i,o,a){return function(o,l,s,u){var c,d,p,f,g,h,m,v,w,b,C,y,$,x,S,E,T,R,D,k,A,P,M,I,O,F,N,G,H,L,V,j,W,U,_,z;if(I=s.ngScroll.match(/^\s*(\w+)\s+in\s+(\w+)\s*$/),!I)throw Error('Expected ngScroll in form of "item_ in _datasource_" but got "'+s.ngScroll+'"');if(P=I[1],y=I[2],k=function(e){return angular.isObject(e)&&e.get&&angular.isFunction(e.get)},C=o[y],!k(C)&&(C=t.get(y),!k(C)))throw Error(y+" is not a valid datasource");return v=Math.max(3,+s.bufferSize||10),m=function(){return z.height()*Math.max(.1,+s.padding||.1)},V=function(e){return e[0].scrollHeight||e[0].document.documentElement.scrollHeight},c=null,a(U=o.$new(),function(e){var t,n,r,o,a,l;if(o=e[0].localName,"dl"===o)throw Error("ng-scroll directive does not support <"+e[0].localName+"> as a repeating tag: "+e[0].outerHTML);return"li"!==o&&"tr"!==o&&(o="div"),l=u[0]||angular.element(window),l.css({"overflow-y":"auto",display:"block"}),r=function(e){var t,n,r;switch(e){case"tr":return r=angular.element("<table><tr><td><div></div></td></tr></table>"),t=r.find("div"),n=r.find("tr"),n.paddingHeight=function(){return t.height.apply(t,arguments)},n;default:return n=angular.element("<"+e+"></"+e+">"),n.paddingHeight=n.height,n}},n=function(e,t,n){return t[{top:"before",bottom:"after"}[n]](e),{paddingHeight:function(){return e.paddingHeight.apply(e,arguments)},insert:function(t){return e[{top:"after",bottom:"before"}[n]](t)}}},a=n(r(o),i,"top"),t=n(r(o),i,"bottom"),U.$destroy(),c={viewport:l,topPadding:a.paddingHeight,bottomPadding:t.paddingHeight,append:t.insert,prepend:a.insert,bottomDataPos:function(){return V(l)-t.paddingHeight()},topDataPos:function(){return a.paddingHeight()}}}),z=c.viewport,R=1,O=1,h=[],F=[],x=!1,f=!1,M=C.loading||function(){},A=!1,G=function(e,t){var n,r;for(n=r=e;t>=e?t>r:r>t;n=t>=e?++r:--r)h[n].scope.$destroy(),h[n].element.remove();return h.splice(e,t-e)},N=function(){return R=1,O=1,G(0,h.length),c.topPadding(0),c.bottomPadding(0),F=[],x=!1,f=!1,d(!1)},g=function(){return z.scrollTop()+z.height()},_=function(){return z.scrollTop()},j=function(){return!x&&c.bottomDataPos()<g()+m()},w=function(){var t,n,r,i,o,a;for(t=0,i=0,n=o=a=h.length-1;(0>=a?0>=o:o>=0)&&(r=h[n].element.outerHeight(!0),c.bottomDataPos()-t-r>g()+m());n=0>=a?++o:--o)t+=r,i++,x=!1;return i>0?(c.bottomPadding(c.bottomPadding()+t),G(h.length-i,h.length),O-=i,e.log("clipped off bottom "+i+" bottom padding "+c.bottomPadding())):void 0},W=function(){return!f&&c.topDataPos()>_()-m()},b=function(){var t,n,r,i,o,a;for(i=0,r=0,o=0,a=h.length;a>o&&(t=h[o],n=t.element.outerHeight(!0),c.topDataPos()+i+n<_()-m());o++)i+=n,r++,f=!1;return r>0?(c.topPadding(c.topPadding()+i),G(0,r),R+=r,e.log("clipped off top "+r+" top padding "+c.topPadding())):void 0},$=function(e,t){return A||(A=!0,M(!0)),1===F.push(e)?E(t):void 0},D=function(e,t){var n,r,i;return n=o.$new(),n[P]=t,r=e>R,n.$index=e,r&&n.$index--,i={scope:n},a(n,function(t){return i.element=t,r?e===O?(c.append(t),h.push(i)):(h[e-R].element.after(t),h.splice(e-R+1,0,i)):(c.prepend(t),h.unshift(i))}),{appended:r,wrapper:i}},p=function(e,t){var n;return e?c.bottomPadding(Math.max(0,c.bottomPadding()-t.element.outerHeight(!0))):(n=c.topPadding()-t.element.outerHeight(!0),n>=0?c.topPadding(n):z.scrollTop(z.scrollTop()+t.element.outerHeight(!0)))},d=function(t,n,i){var o;return o=function(){return e.log("top {actual="+c.topDataPos()+" visible from="+_()+" bottom {visible through="+g()+" actual="+c.bottomDataPos()+"}"),j()?$(!0,t):W()&&$(!1,t),i?i():void 0},n?r(function(){var e,t,r;for(t=0,r=n.length;r>t;t++)e=n[t],p(e.appended,e.wrapper);return o()}):o()},T=function(e,t){return d(e,t,function(){return F.shift(),0===F.length?(A=!1,M(!1)):E(e)})},E=function(t){var n;return n=F[0],n?h.length&&!j()?T(t):C.get(O,v,function(n){var r,i,o,a;if(i=[],0===n.length)x=!0,c.bottomPadding(0),e.log("appended: requested "+v+" records starting from "+O+" recieved: eof");else{for(b(),o=0,a=n.length;a>o;o++)r=n[o],i.push(D(++O,r));e.log("appended: requested "+v+" received "+n.length+" buffer size "+h.length+" first "+R+" next "+O)}return T(t,i)}):h.length&&!W()?T(t):C.get(R-v,v,function(n){var r,i,o,a;if(i=[],0===n.length)f=!0,c.topPadding(0),e.log("prepended: requested "+v+" records starting from "+(R-v)+" recieved: bof");else{for(w(),r=o=a=n.length-1;0>=a?0>=o:o>=0;r=0>=a?++o:--o)i.unshift(D(--R,n[r]));e.log("prepended: requested "+v+" received "+n.length+" buffer size "+h.length+" first "+R+" next "+O)}return T(t,i)})},H=function(){return n.$$phase||A?void 0:(d(!1),o.$apply())},z.bind("resize",H),L=function(){return n.$$phase||A?void 0:(d(!0),o.$apply())},z.bind("scroll",L),o.$watch(C.revision,function(){return N()}),S=C.scope?C.scope.$new():o.$new(),o.$on("$destroy",function(){return S.$destroy(),z.unbind("resize",H),z.unbind("scroll",L)}),S.$on("update.items",function(e,t,n){var r,i,o,a,l;if(angular.isFunction(t))for(i=function(e){return t(e.scope)},o=0,a=h.length;a>o;o++)r=h[o],i(r);else(l=t-R-1)>=0&&h.length>l&&(h[t-R-1].scope[P]=n);return null}),S.$on("delete.items",function(e,t){var n,r,i,o,a,l,s,u,c,p,f,g;if(angular.isFunction(t)){for(i=[],l=0,c=h.length;c>l;l++)r=h[l],i.unshift(r);for(a=function(e){return t(e.scope)?(G(i.length-1-n,i.length-n),O--):void 0},n=s=0,p=i.length;p>s;n=++s)o=i[n],a(o)}else(g=t-R-1)>=0&&h.length>g&&(G(t-R-1,t-R),O--);for(n=u=0,f=h.length;f>u;n=++u)r=h[n],r.scope.$index=R+n;return d(!1)}),S.$on("insert.item",function(e,t,n){var r,i,o,a,l,s,u,c,p,f,g,m;if(i=[],angular.isFunction(t)){for(o=[],s=0,p=h.length;p>s;s++)n=h[s],o.unshift(n);for(l=function(e){var o,a,l,s,u;if(a=t(e.scope)){if(D=function(e,t){return D(e,t),O++},angular.isArray(a)){for(u=[],o=l=0,s=a.length;s>l;o=++l)n=a[o],u.push(i.push(D(r+o,n)));return u}return i.push(D(r,a))}},r=u=0,f=o.length;f>u;r=++u)a=o[r],l(a)}else(m=t-R-1)>=0&&h.length>m&&(i.push(D(t,n)),O++);for(r=c=0,g=h.length;g>c;r=++c)n=h[r],n.scope.$index=R+r;return d(!1,i)})}}}}]),angular.module("ui.scrollfix",[]).directive("uiScrollfix",["$window",function(e){return{require:"^?uiScrollfixTarget",link:function(t,n,r,i){function o(){var t;if(angular.isDefined(e.pageYOffset))t=e.pageYOffset;else{var i=document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body;t=i.scrollTop}!n.hasClass("ui-scrollfix")&&t>r.uiScrollfix?n.addClass("ui-scrollfix"):n.hasClass("ui-scrollfix")&&r.uiScrollfix>t&&n.removeClass("ui-scrollfix")}var a=n[0].offsetTop,l=i&&i.$element||angular.element(e);r.uiScrollfix?"string"==typeof r.uiScrollfix&&("-"===r.uiScrollfix.charAt(0)?r.uiScrollfix=a-parseFloat(r.uiScrollfix.substr(1)):"+"===r.uiScrollfix.charAt(0)&&(r.uiScrollfix=a+parseFloat(r.uiScrollfix.substr(1)))):r.uiScrollfix=a,l.on("scroll",o),t.$on("$destroy",function(){l.off("scroll",o)})}}}]).directive("uiScrollfixTarget",[function(){return{controller:["$element",function(e){this.$element=e}]}}]),angular.module("ui.showhide",[]).directive("uiShow",[function(){return function(e,t,n){e.$watch(n.uiShow,function(e){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(e,t,n){e.$watch(n.uiHide,function(e){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(e,t,n){e.$watch(n.uiToggle,function(e){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.unique",[]).filter("unique",["$parse",function(e){return function(t,n){if(n===!1)return t;if((n||angular.isUndefined(n))&&angular.isArray(t)){var r=[],i=angular.isString(n)?e(n):function(e){return e},o=function(e){return angular.isObject(e)?i(e):e};angular.forEach(t,function(e){for(var t=!1,n=0;r.length>n;n++)if(angular.equals(o(r[n]),o(e))){t=!0;break}t||r.push(e)}),t=r}return t}}]),angular.module("ui.validate",[]).directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){function i(t){return angular.isString(t)?void e.$watch(t,function(){angular.forEach(a,function(e){e(r.$modelValue)
})}):angular.isArray(t)?void angular.forEach(t,function(t){e.$watch(t,function(){angular.forEach(a,function(e){e(r.$modelValue)})})}):void(angular.isObject(t)&&angular.forEach(t,function(t,n){angular.isString(t)&&e.$watch(t,function(){a[n](r.$modelValue)}),angular.isArray(t)&&angular.forEach(t,function(t){e.$watch(t,function(){a[n](r.$modelValue)})})}))}var o,a={},l=e.$eval(n.uiValidate);l&&(angular.isString(l)&&(l={validator:l}),angular.forEach(l,function(t,n){o=function(i){var o=e.$eval(t,{$value:i});return angular.isObject(o)&&angular.isFunction(o.then)?(o.then(function(){r.$setValidity(n,!0)},function(){r.$setValidity(n,!1)}),i):o?(r.$setValidity(n,!0),i):(r.$setValidity(n,!1),i)},a[n]=o,r.$formatters.push(o),r.$parsers.push(o)}),n.uiValidateWatch&&i(e.$eval(n.uiValidateWatch)))}}}),angular.module("ui.utils",["ui.event","ui.format","ui.highlight","ui.include","ui.indeterminate","ui.inflector","ui.jq","ui.keypress","ui.mask","ui.reset","ui.route","ui.scrollfix","ui.scroll","ui.scroll.jqlite","ui.showhide","ui.unique","ui.validate"]),function(){var e;e=angular.module("ui.bootstrap.showErrors",[]),e.directive("showErrors",["$timeout","showErrorsConfig","$interpolate",function(e,t,n){var r,i,o;return i=function(e){var n;return n=t.trigger,e&&null!=e.trigger&&(n=e.trigger),n},r=function(e){var n;return n=t.showSuccess,e&&null!=e.showSuccess&&(n=e.showSuccess),n},o=function(t,o,a,l){var s,u,c,d,p,f,g,h;if(s=!1,p=t.$eval(a.showErrors),f=r(p),h=i(p),u=o[0].querySelector(".form-control[name]"),d=angular.element(u),c=n(d.attr("name")||"")(t),!c)throw"show-errors element has no child input elements with a 'name' attribute and a 'form-control' class";return d.bind(h,function(){return s=!0,g(l[c].$invalid)}),t.$watch(function(){return l[c]&&l[c].$invalid},function(e){return s?g(e):void 0}),t.$on("show-errors-check-validity",function(){return g(l[c].$invalid)}),t.$on("show-errors-reset",function(){return e(function(){return o.removeClass("has-error"),o.removeClass("has-success"),s=!1},0,!1)}),g=function(e){return o.toggleClass("has-error",e),f?o.toggleClass("has-success",!e):void 0}},{restrict:"A",require:"^form",compile:function(e){if(!e.hasClass("form-group"))throw"show-errors element does not have the 'form-group' class";return o}}}]),e.provider("showErrorsConfig",function(){var e,t;e=!1,t="blur",this.showSuccess=function(t){return e=t},this.trigger=function(e){return t=e},this.$get=function(){return{showSuccess:e,trigger:t}}})}.call(this),function(){function e(e){function t(t,n,r,i,o,a){for(;o>=0&&a>o;o+=e){var l=i?i[o]:o;r=n(r,t[l],l,t)}return r}return function(n,r,i,o){r=b(r,o,4);var a=!T(n)&&w.keys(n),l=(a||n).length,s=e>0?0:l-1;return 3>arguments.length&&(i=n[a?a[s]:s],s+=e),t(n,r,i,a,s,l)}}function t(e){return function(t,n,r){n=C(n,r);for(var i=E(t),o=e>0?0:i-1;o>=0&&i>o;o+=e)if(n(t[o],o,t))return o;return-1}}function n(e,t,n){return function(r,i,o){var a=0,l=E(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+l,a):l=o>=0?Math.min(o+1,l):o+l+1;else if(n&&o&&l)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(c.call(r,a,l),w.isNaN),o>=0?o+a:-1;for(o=e>0?a:l-1;o>=0&&l>o;o+=e)if(r[o]===i)return o;return-1}}function r(e,t){var n=P.length,r=e.constructor,i=w.isFunction(r)&&r.prototype||l,o="constructor";for(w.has(e,o)&&!w.contains(t,o)&&t.push(o);n--;)o=P[n],o in e&&e[o]!==i[o]&&!w.contains(t,o)&&t.push(o)}var i=this,o=i._,a=Array.prototype,l=Object.prototype,s=Function.prototype,u=a.push,c=a.slice,d=l.toString,p=l.hasOwnProperty,f=Array.isArray,g=Object.keys,h=s.bind,m=Object.create,v=function(){},w=function(e){return e instanceof w?e:this instanceof w?(this._wrapped=e,void 0):new w(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=w),exports._=w):i._=w,w.VERSION="1.8.3";var b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},C=function(e,t,n){return null==e?w.identity:w.isFunction(e)?b(e,t,n):w.isObject(e)?w.matcher(e):w.property(e)};w.iteratee=function(e,t){return C(e,t,1/0)};var y=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var o=arguments[i],a=e(o),l=a.length,s=0;l>s;s++){var u=a[s];t&&void 0!==n[u]||(n[u]=o[u])}return n}},$=function(e){if(!w.isObject(e))return{};if(m)return m(e);v.prototype=e;var t=new v;return v.prototype=null,t},x=function(e){return function(t){return null==t?void 0:t[e]}},S=Math.pow(2,53)-1,E=x("length"),T=function(e){var t=E(e);return"number"==typeof t&&t>=0&&S>=t};w.each=w.forEach=function(e,t,n){t=b(t,n);var r,i;if(T(e))for(r=0,i=e.length;i>r;r++)t(e[r],r,e);else{var o=w.keys(e);for(r=0,i=o.length;i>r;r++)t(e[o[r]],o[r],e)}return e},w.map=w.collect=function(e,t,n){t=C(t,n);for(var r=!T(e)&&w.keys(e),i=(r||e).length,o=Array(i),a=0;i>a;a++){var l=r?r[a]:a;o[a]=t(e[l],l,e)}return o},w.reduce=w.foldl=w.inject=e(1),w.reduceRight=w.foldr=e(-1),w.find=w.detect=function(e,t,n){var r;return r=T(e)?w.findIndex(e,t,n):w.findKey(e,t,n),void 0!==r&&-1!==r?e[r]:void 0},w.filter=w.select=function(e,t,n){var r=[];return t=C(t,n),w.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},w.reject=function(e,t,n){return w.filter(e,w.negate(C(t)),n)},w.every=w.all=function(e,t,n){t=C(t,n);for(var r=!T(e)&&w.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},w.some=w.any=function(e,t,n){t=C(t,n);for(var r=!T(e)&&w.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},w.contains=w.includes=w.include=function(e,t,n,r){return T(e)||(e=w.values(e)),("number"!=typeof n||r)&&(n=0),w.indexOf(e,t,n)>=0},w.invoke=function(e,t){var n=c.call(arguments,2),r=w.isFunction(t);return w.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},w.pluck=function(e,t){return w.map(e,w.property(t))},w.where=function(e,t){return w.filter(e,w.matcher(t))},w.findWhere=function(e,t){return w.find(e,w.matcher(t))},w.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t&&null!=e){e=T(e)?e:w.values(e);for(var l=0,s=e.length;s>l;l++)r=e[l],r>o&&(o=r)}else t=C(t,n),w.each(e,function(e,n,r){i=t(e,n,r),(i>a||i===-1/0&&o===-1/0)&&(o=e,a=i)});return o},w.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=T(e)?e:w.values(e);for(var l=0,s=e.length;s>l;l++)r=e[l],o>r&&(o=r)}else t=C(t,n),w.each(e,function(e,n,r){i=t(e,n,r),(a>i||1/0===i&&1/0===o)&&(o=e,a=i)});return o},w.shuffle=function(e){for(var t,n=T(e)?e:w.values(e),r=n.length,i=Array(r),o=0;r>o;o++)t=w.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},w.sample=function(e,t,n){return null==t||n?(T(e)||(e=w.values(e)),e[w.random(e.length-1)]):w.shuffle(e).slice(0,Math.max(0,t))},w.sortBy=function(e,t,n){return t=C(t,n),w.pluck(w.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var R=function(e){return function(t,n,r){var i={};return n=C(n,r),w.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};w.groupBy=R(function(e,t,n){w.has(e,n)?e[n].push(t):e[n]=[t]}),w.indexBy=R(function(e,t,n){e[n]=t}),w.countBy=R(function(e,t,n){w.has(e,n)?e[n]++:e[n]=1}),w.toArray=function(e){return e?w.isArray(e)?c.call(e):T(e)?w.map(e,w.identity):w.values(e):[]},w.size=function(e){return null==e?0:T(e)?e.length:w.keys(e).length},w.partition=function(e,t,n){t=C(t,n);var r=[],i=[];return w.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},w.first=w.head=w.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:w.initial(e,e.length-t)},w.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},w.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:w.rest(e,Math.max(0,e.length-t))},w.rest=w.tail=w.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},w.compact=function(e){return w.filter(e,w.identity)};var D=function(e,t,n,r){for(var i=[],o=0,a=r||0,l=E(e);l>a;a++){var s=e[a];if(T(s)&&(w.isArray(s)||w.isArguments(s))){t||(s=D(s,t,n));var u=0,c=s.length;for(i.length+=c;c>u;)i[o++]=s[u++]}else n||(i[o++]=s)}return i};w.flatten=function(e,t){return D(e,t,!1)},w.without=function(e){return w.difference(e,c.call(arguments,1))},w.uniq=w.unique=function(e,t,n,r){w.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=C(n,r));for(var i=[],o=[],a=0,l=E(e);l>a;a++){var s=e[a],u=n?n(s,a,e):s;t?(a&&o===u||i.push(s),o=u):n?w.contains(o,u)||(o.push(u),i.push(s)):w.contains(i,s)||i.push(s)}return i},w.union=function(){return w.uniq(D(arguments,!0,!0))},w.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=E(e);i>r;r++){var o=e[r];if(!w.contains(t,o)){for(var a=1;n>a&&w.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},w.difference=function(e){var t=D(arguments,!0,!0,1);return w.filter(e,function(e){return!w.contains(t,e)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(e){for(var t=e&&w.max(e,E).length||0,n=Array(t),r=0;t>r;r++)n[r]=w.pluck(e,r);return n},w.object=function(e,t){for(var n={},r=0,i=E(e);i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},w.findIndex=t(1),w.findLastIndex=t(-1),w.sortedIndex=function(e,t,n,r){n=C(n,r,1);for(var i=n(t),o=0,a=E(e);a>o;){var l=Math.floor((o+a)/2);i>n(e[l])?o=l+1:a=l}return o},w.indexOf=n(1,w.findIndex,w.sortedIndex),w.lastIndexOf=n(-1,w.findLastIndex),w.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;r>o;o++,e+=n)i[o]=e;return i};var k=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=$(e.prototype),a=e.apply(o,i);return w.isObject(a)?a:o};w.bind=function(e,t){if(h&&e.bind===h)return h.apply(e,c.call(arguments,1));if(!w.isFunction(e))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),r=function(){return k(e,r,t,this,n.concat(c.call(arguments)))};return r},w.partial=function(e){var t=c.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;i>a;a++)o[a]=t[a]===w?arguments[r++]:t[a];for(;arguments.length>r;)o.push(arguments[r++]);return k(e,n,this,this,o)};return n},w.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=w.bind(e[n],e);return e},w.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return w.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},w.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},w.defer=w.partial(w.delay,w,1),w.throttle=function(e,t,n){var r,i,o,a=null,l=0;n||(n={});var s=function(){l=n.leading===!1?0:w.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var u=w.now();l||n.leading!==!1||(l=u);var c=t-(u-l);return r=this,i=arguments,0>=c||c>t?(a&&(clearTimeout(a),a=null),l=u,o=e.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(s,c)),o}},w.debounce=function(e,t,n){var r,i,o,a,l,s=function(){var u=w.now()-a;t>u&&u>=0?r=setTimeout(s,t-u):(r=null,n||(l=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=w.now();var u=n&&!r;return r||(r=setTimeout(s,t)),u&&(l=e.apply(o,i),o=i=null),l}},w.wrap=function(e,t){return w.partial(t,e)},w.negate=function(e){return function(){return!e.apply(this,arguments)}},w.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},w.after=function(e,t){return function(){return 1>--e?t.apply(this,arguments):void 0}},w.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},w.once=w.partial(w.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(e){if(!w.isObject(e))return[];if(g)return g(e);var t=[];for(var n in e)w.has(e,n)&&t.push(n);return A&&r(e,t),t},w.allKeys=function(e){if(!w.isObject(e))return[];var t=[];for(var n in e)t.push(n);return A&&r(e,t),t},w.values=function(e){for(var t=w.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},w.mapObject=function(e,t,n){t=C(t,n);for(var r,i=w.keys(e),o=i.length,a={},l=0;o>l;l++)r=i[l],a[r]=t(e[r],r,e);return a},w.pairs=function(e){for(var t=w.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},w.invert=function(e){for(var t={},n=w.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},w.functions=w.methods=function(e){var t=[];for(var n in e)w.isFunction(e[n])&&t.push(n);return t.sort()},w.extend=y(w.allKeys),w.extendOwn=w.assign=y(w.keys),w.findKey=function(e,t,n){t=C(t,n);for(var r,i=w.keys(e),o=0,a=i.length;a>o;o++)if(r=i[o],t(e[r],r,e))return r},w.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;w.isFunction(t)?(i=w.allKeys(a),r=b(t,n)):(i=D(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var l=0,s=i.length;s>l;l++){var u=i[l],c=a[u];r(c,u,a)&&(o[u]=c)}return o},w.omit=function(e,t,n){if(w.isFunction(t))t=w.negate(t);else{var r=w.map(D(arguments,!1,!1,1),String);t=function(e,t){return!w.contains(r,t)}}return w.pick(e,t,n)},w.defaults=y(w.allKeys,!0),w.create=function(e,t){var n=$(e);return t&&w.extendOwn(n,t),n},w.clone=function(e){return w.isObject(e)?w.isArray(e)?e.slice():w.extend({},e):e},w.tap=function(e,t){return t(e),e},w.isMatch=function(e,t){var n=w.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;r>o;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var M=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof w&&(e=e._wrapped),t instanceof w&&(t=t._wrapped);var i=d.call(e);if(i!==d.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,l=t.constructor;if(a!==l&&!(w.isFunction(a)&&a instanceof a&&w.isFunction(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var s=n.length;s--;)if(n[s]===e)return r[s]===t;if(n.push(e),r.push(t),o){if(s=e.length,s!==t.length)return!1;for(;s--;)if(!M(e[s],t[s],n,r))return!1}else{var u,c=w.keys(e);if(s=c.length,w.keys(t).length!==s)return!1;for(;s--;)if(u=c[s],!w.has(t,u)||!M(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0};w.isEqual=function(e,t){return M(e,t)},w.isEmpty=function(e){return null==e?!0:T(e)&&(w.isArray(e)||w.isString(e)||w.isArguments(e))?0===e.length:0===w.keys(e).length},w.isElement=function(e){return!(!e||1!==e.nodeType)},w.isArray=f||function(e){return"[object Array]"===d.call(e)},w.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){w["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),w.isArguments(arguments)||(w.isArguments=function(e){return w.has(e,"callee")}),"object"!=typeof Int8Array&&(w.isFunction=function(e){return"function"==typeof e||!1}),w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!==+e},w.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===d.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,t){return null!=e&&p.call(e,t)},w.noConflict=function(){return i._=o,this},w.identity=function(e){return e},w.constant=function(e){return function(){return e}},w.noop=function(){},w.property=x,w.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},w.matcher=w.matches=function(e){return e=w.extendOwn({},e),function(t){return w.isMatch(t,e)}},w.times=function(e,t,n){var r=Array(Math.max(0,e));t=b(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},w.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},w.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},O=w.invert(I),F=function(e){var t=function(t){return e[t]},n="(?:"+w.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};w.escape=F(I),w.unescape=F(O),w.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),w.isFunction(r)?r.call(e):r};var N=0;w.uniqueId=function(e){var t=++N+"";return e?e+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var G=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g,V=function(e){return"\\"+H[e]};w.template=function(e,t,n){!t&&n&&(t=n),t=w.defaults({},t,w.templateSettings);var r=RegExp([(t.escape||G).source,(t.interpolate||G).source,(t.evaluate||G).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,l){return o+=e.slice(i,l).replace(L,V),i=l+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=Function(t.variable||"obj","_",o)}catch(l){throw l.source=o,l}var s=function(e){return a.call(this,e,w)},u=t.variable||"obj";return s.source="function("+u+"){\n"+o+"}",s},w.chain=function(e){var t=w(e);return t._chain=!0,t};var j=function(e,t){return e._chain?w(t).chain():t};w.mixin=function(e){w.each(w.functions(e),function(t){var n=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),j(this,n.apply(w,e))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];w.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],j(this,n)}}),w.each(["concat","join","slice"],function(e){var t=a[e];w.prototype[e]=function(){return j(this,t.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return w})}.call(this);